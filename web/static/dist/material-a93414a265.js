!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t(e.material={},e.jQuery)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n,i,o,r,a,s,c,l,d,u,h,f,p,m,g,y,v,b,_,k,S=(o="show",r="show-predecessor",a="hide"+(i=".bs.collapse"),s="show"+i,c=".expansion-panel",l=".expansion-panel .collapse",void(n=t)(document).on(""+a,l,function(){var e=n(this).closest(c);e.removeClass(o);var t=e.prev(c);t.length&&t.removeClass(r)}).on(""+s,l,function(){var e=n(this).closest(c);e.addClass(o);var t=e.prev(c);t.length&&t.addClass(r)})),w=(h="."+(u="md.floatinglabel"),f="floatinglabel",p=(d=t).fn[f],m="is-focused",g="has-value",y="change"+h,v="focusin"+h,b="focusout"+h,_={DATA_PARENT:".floating-label",DATA_TOGGLE:".floating-label .custom-select, .floating-label .form-control"},k=function(){function e(e){this._element=e,this._parent=d(e).closest(_.DATA_PARENT)[0]}var t=e.prototype;return t.change=function(){d(this._element).val()||d(this._element).is("select")&&""!==d("option:first-child",d(this._element)).html().replace(" ","")?d(this._parent).addClass(g):d(this._parent).removeClass(g)},t.focusin=function(){d(this._parent).addClass(m)},t.focusout=function(){d(this._parent).removeClass(m)},e._jQueryInterface=function(t){return this.each(function(){var n=t||"change",i=d(this).data(u);if(i||(i=new e(this),d(this).data(u,i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n]()}})},e}(),d(document).on(y+" "+v+" "+b,_.DATA_TOGGLE,function(e){k._jQueryInterface.call(d(this),e.type)}),d.fn[f]=k._jQueryInterface,d.fn[f].Constructor=k,d.fn[f].noConflict=function(){return d.fn[f]=p,k._jQueryInterface},k);function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i,o,r;i=e,o=t,r=n[t],o in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r})}return e}var O,I,E,x,T,N,M,A,P,$,j,F,R,W=function(e){var t="transitionend";function n(t){var n=this,o=!1;return e(this).one(i.TRANSITION_END,function(){o=!0}),setTimeout(function(){o||i.triggerTransitionEnd(n)},t),this}var i={TRANSITION_END:"mdTransitionEnd",getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||"");try{return e(document).find(n).length>0?n:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration");return n?(n=n.split(",")[0],1e3*parseFloat(n)):0},getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},isElement:function(e){return(e[0]||e).nodeType},reflow:function(e){return e.offsetHeight},supportsTransitionEnd:function(){return Boolean(t)},triggerTransitionEnd:function(n){e(n).trigger(t)},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=n[o],a=t[o],s=a&&i.isElement(a)?"element":(c=a,{}.toString.call(c).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+s+'" but expected type "'+r+'".')}var c}};return e.fn.emulateTransitionEnd=n,e.event.special[i.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},i}(t),Y=(E="."+(I="md.navdrawer"),x="navdrawer",T=(O=t).fn[x],N="navdrawer-backdrop",M="navdrawer-open",A="show",P={breakpoint:"",keyboard:!0,show:!0,type:"default"},$={keyboard:"boolean",show:"boolean",type:"string"},j={CLICK_DATA_API:"click"+E+".data-api",CLICK_DISMISS:"click.dismiss"+E,FOCUSIN:"focusin"+E,HIDDEN:"hidden"+E,HIDE:"hide"+E,KEYDOWN_DISMISS:"keydown.dismiss"+E,MOUSEDOWN_DISMISS:"mousedown.dismiss"+E,MOUSEUP_DISMISS:"mouseup.dismiss"+E,SHOW:"show"+E,SHOWN:"shown"+E},F={CONTENT:".navdrawer-content",DATA_DISMISS:'[data-dismiss="navdrawer"]',DATA_TOGGLE:'[data-toggle="navdrawer"]'},R=function(){function e(e,t){this._backdrop=null,this._config=this._getConfig(t),this._content=O(e).find(F.CONTENT)[0],this._element=e,this._ignoreBackdropClick=!1,this._isShown=!1,this._typeBreakpoint=""===this._config.breakpoint?"":"-"+this._config.breakpoint}var t,n,i,o=e.prototype;return o.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=O.Event(j.HIDE);if(O(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1,this._isTransitioning=!0,this._setEscapeEvent(),O(document).off(j.FOCUSIN),O(document.body).removeClass(M+"-"+this._config.type+this._typeBreakpoint),O(this._element).removeClass(A),O(this._element).off(j.CLICK_DISMISS),O(this._content).off(j.MOUSEDOWN_DISMISS);var i=W.getTransitionDurationFromElement(this._content);O(this._content).one(W.TRANSITION_END,function(e){return t._hideNavdrawer(e)}).emulateTransitionEnd(i),this._showBackdrop()}}},o.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){this._isTransitioning=!0;var n=O.Event(j.SHOW,{relatedTarget:e});O(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._setEscapeEvent(),O(this._element).addClass(x+"-"+this._config.type+this._typeBreakpoint),O(this._element).on(j.CLICK_DISMISS,F.DATA_DISMISS,function(e){return t.hide(e)}),O(this._content).on(j.MOUSEDOWN_DISMISS,function(){O(t._element).one(j.MOUSEUP_DISMISS,function(e){O(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(),this._showElement(e))}},o.toggle=function(e){return this._isShown?this.hide():this.show(e)},o._enforceFocus=function(){var e=this;O(document).off(j.FOCUSIN).on(j.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===O(e._element).has(t.target).length&&e._element.focus()})},o._getConfig=function(e){return e=C({},P,e),W.typeCheckConfig(x,e,$),e},o._hideNavdrawer=function(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,O(this._element).trigger(j.HIDDEN)},o._removeBackdrop=function(){this._backdrop&&(O(this._backdrop).remove(),this._backdrop=null)},o._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?O(this._element).on(j.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||O(this._element).off(j.KEYDOWN_DISMISS)},o._showBackdrop=function(){var e=this;this._isShown?(this._backdrop=document.createElement("div"),O(this._backdrop).addClass(N).addClass(N+"-"+this._config.type+this._typeBreakpoint).appendTo(document.body),O(this._element).on(j.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e.hide()}),W.reflow(this._backdrop),O(this._backdrop).addClass(A)):!this._isShown&&this._backdrop&&(O(this._backdrop).removeClass(A),this._removeBackdrop())},o._showElement=function(e){var t=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),W.reflow(this._element),O(document.body).addClass(M+"-"+this._config.type+this._typeBreakpoint),O(this._element).addClass(A),this._enforceFocus();var n=O.Event(j.SHOWN,{relatedTarget:e}),i=W.getTransitionDurationFromElement(this._content);O(this._content).one(W.TRANSITION_END,function(){t._element.focus(),t._isTransitioning=!1,O(t._element).trigger(n)}).emulateTransitionEnd(i)},e._jQueryInterface=function(t,n){return this.each(function(){var i=C({},P,O(this).data(),"object"==typeof t&&t?t:{}),o=O(this).data(I);if(o||(o=new e(this,i),O(this).data(I,o)),"string"==typeof t){if(void 0===o[t])throw new TypeError('No method named "'+t+'"');o[t](n)}else i.show&&o.show(n)})},t=e,i=[{key:"Default",get:function(){return P}}],(n=null)&&D(t.prototype,n),i&&D(t,i),e}(),O(document).on(j.CLICK_DATA_API,F.DATA_TOGGLE,function(e){var t,n=this,i=W.getSelectorFromElement(this);i&&(t=O(i)[0]);var o=O(t).data(I)?"toggle":C({},O(t).data(),O(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=O(t).one(j.SHOW,function(e){e.isDefaultPrevented()||r.one(j.HIDDEN,function(){O(n).is(":visible")&&n.focus()})});R._jQueryInterface.call(O(t),o,this)}),O.fn[x]=R._jQueryInterface,O.fn[x].Constructor=R,O.fn[x].noConflict=function(){return O.fn[x]=T,R._jQueryInterface},R);function H(e,t){return e(t={exports:{}},t.exports),t.exports}var U,B,Q,L,J,K,G,q,z,V,X,Z,ee,te,ne,ie,oe,re,ae,se,ce,le,de,ue,he,fe,pe,me,ge,ye,ve=H(function(e,n){var i;i=function(e){var t=e(window),n=e(document),i=e(document.documentElement),o=null!=document.documentElement.style.transition;function r(t,c,d,u){if(!t)return r;var h=!1,f={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},p=d?e.extend(!0,{},d.defaults,u):u||{},m=e.extend({},r.klasses(),p.klass),g=e(t),y=function(){return this.start()},v=y.prototype={constructor:y,$node:g,start:function(){return f&&f.start?v:(f.methods={},f.start=!0,f.open=!1,f.type=t.type,t.autofocus=t==l(),t.readOnly=!p.editable,t.id=t.id||f.id,"text"!=t.type&&(t.type="text"),v.component=new d(v,p),v.$root=e('<div class="'+m.picker+'" id="'+t.id+'_root" />'),s(v.$root[0],"hidden",!0),v.$holder=e(b()).appendTo(v.$root),_(),p.formatSubmit&&function(){var n;!0===p.hiddenName?(n=t.name,t.name=""):n=(n=["string"==typeof p.hiddenPrefix?p.hiddenPrefix:"","string"==typeof p.hiddenSuffix?p.hiddenSuffix:"_submit"])[0]+t.name+n[1];v._hidden=e('<input type=hidden name="'+n+'"'+(g.data("value")||t.value?' value="'+v.get("select",p.formatSubmit)+'"':"")+">")[0],g.on("change."+f.id,function(){v._hidden.value=t.value?v.get("select",p.formatSubmit):""})}(),function(){g.data(c,v).addClass(m.input).val(g.data("value")?v.get("select",p.format):t.value),p.editable||g.on("focus."+f.id+" click."+f.id,function(e){e.preventDefault(),v.open()}).on("keydown."+f.id,S);s(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"})}(),p.containerHidden?e(p.containerHidden).append(v._hidden):g.after(v._hidden),p.container?e(p.container).append(v.$root):g.after(v.$root),v.on({start:v.component.onStart,render:v.component.onRender,stop:v.component.onStop,open:v.component.onOpen,close:v.component.onClose,set:v.component.onSet}).on({start:p.onStart,render:p.onRender,stop:p.onStop,open:p.onOpen,close:p.onClose,set:p.onSet}),h=function(e){var t,n="position";e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]);return"fixed"==t}(v.$holder[0]),t.autofocus&&v.open(),v.trigger("start").trigger("render"))},render:function(t){return t?(v.$holder=e(b()),_(),v.$root.html(v.$holder)):v.$root.find("."+m.box).html(v.component.nodes(f.open)),v.trigger("render")},stop:function(){return f.start?(v.close(),v._hidden&&v._hidden.parentNode.removeChild(v._hidden),v.$root.remove(),g.removeClass(m.input).removeData(c),setTimeout(function(){g.off("."+f.id)},0),t.type=f.type,t.readOnly=!1,v.trigger("stop"),f.methods={},f.start=!1,v):v},open:function(c){return f.open?v:(g.addClass(m.active),s(t,"expanded",!0),setTimeout(function(){v.$root.addClass(m.opened),s(v.$root[0],"hidden",!1)},0),!1!==c&&(f.open=!0,h&&i.css("overflow","hidden").css("padding-right","+="+a()),h&&o?v.$holder.find("."+m.frame).one("transitionend",function(){v.$holder[0].focus()}):v.$holder[0].focus(),n.on("click."+f.id+" focusin."+f.id,function(e){var n=e.target;n!=t&&n!=document&&3!=e.which&&v.close(n===v.$holder[0])}).on("keydown."+f.id,function(t){var n=t.keyCode,i=v.component.key[n],o=t.target;27==n?v.close(!0):o!=v.$holder[0]||!i&&13!=n?e.contains(v.$root[0],o)&&13==n&&(t.preventDefault(),o.click()):(t.preventDefault(),i?r._.trigger(v.component.key.go,v,[r._.trigger(i)]):v.$root.find("."+m.highlighted).hasClass(m.disabled)||(v.set("select",v.component.item.highlight),p.closeOnSelect&&v.close(!0)))})),v.trigger("open"))},close:function(e){return e&&(p.editable?t.focus():(v.$holder.off("focus.toOpen").focus(),setTimeout(function(){v.$holder.on("focus.toOpen",k)},0))),g.removeClass(m.active),s(t,"expanded",!1),setTimeout(function(){v.$root.removeClass(m.opened+" "+m.focused),s(v.$root[0],"hidden",!0)},0),f.open?(f.open=!1,h&&i.css("overflow","").css("padding-right","-="+a()),n.off("."+f.id),v.trigger("close")):v},clear:function(e){return v.set("clear",null,e)},set:function(t,n,i){var o,r,a=e.isPlainObject(t),s=a?t:{};if(i=a&&e.isPlainObject(n)?n:i||{},t){for(o in a||(s[t]=n),s)r=s[o],o in v.component.item&&(void 0===r&&(r=null),v.component.set(o,r,i)),"select"!=o&&"clear"!=o||g.val("clear"==o?"":v.get(o,p.format)).trigger("change");v.render()}return i.muted?v:v.trigger("set",s)},get:function(e,n){if(null!=f[e=e||"value"])return f[e];if("valueSubmit"==e){if(v._hidden)return v._hidden.value;e="value"}if("value"==e)return t.value;if(e in v.component.item){if("string"==typeof n){var i=v.component.get(e);return i?r._.trigger(v.component.formats.toString,v.component,[n,i]):""}return v.component.get(e)}},on:function(t,n,i){var o,r,a=e.isPlainObject(t),s=a?t:{};if(t)for(o in a||(s[t]=n),s)r=s[o],i&&(o="_"+o),f.methods[o]=f.methods[o]||[],f.methods[o].push(r);return v},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in f.methods&&delete f.methods[t];return v},trigger:function(e,t){var n=function(e){var n=f.methods[e];n&&n.map(function(e){r._.trigger(e,v,[t])})};return n("_"+e),n(e),v}};function b(){return r._.node("div",r._.node("div",r._.node("div",r._.node("div",v.component.nodes(f.open),m.box),m.wrap),m.frame),m.holder,'tabindex="-1"')}function _(){v.$holder.on({keydown:S,"focus.toOpen":k,blur:function(){g.removeClass(m.target)},focusin:function(e){v.$root.removeClass(m.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=v.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),v.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),i=t.hasClass(m.navDisabled)||t.hasClass(m.disabled),o=l();o=o&&(o.type||o.href),(i||o&&!e.contains(v.$root[0],o))&&v.$holder[0].focus(),!i&&n.nav?v.set("highlight",v.component.item.highlight,{nav:n.nav}):!i&&"pick"in n?(v.set("select",n.pick),p.closeOnSelect&&v.close(!0)):n.clear?(v.clear(),p.closeOnClear&&v.close(!0)):n.close&&v.close(!0)})}function k(e){e.stopPropagation(),g.addClass(m.target),v.$root.addClass(m.focused),v.open()}function S(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return v.close(!0),!1;(32==t||n||!f.open&&v.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?v.clear().close():v.open())}return new y}function a(){if(i.height()<=t.height())return 0;var n=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),o=n[0].offsetWidth;n.css("overflow","scroll");var r=e('<div style="width:100%" />').appendTo(n)[0].offsetWidth;return n.remove(),o-r}function s(t,n,i){if(e.isPlainObject(n))for(var o in n)c(t,o,n[o]);else c(t,n,i)}function c(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function l(){try{return document.activeElement}catch(e){}}return r.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},r._={group:function(e){for(var t,n="",i=r._.trigger(e.min,e);i<=r._.trigger(e.max,e,[i]);i+=e.i)t=r._.trigger(e.item,e,[i]),n+=r._.node(e.node,t[0],t[1],t[2]);return n},node:function(t,n,i,o){return n?"<"+t+(i=i?' class="'+i+'"':"")+(o=o?" "+o:"")+">"+(n=e.isArray(n)?n.join(""):n)+"</"+t+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:function(t,n){e.isPlainObject(t)||(t={attribute:n});for(var i in n="",t){var o=("role"==i?"":"aria-")+i,r=t[i];n+=null==r?"":o+'="'+t[i]+'"'}return n}},r.extend=function(t,n){e.fn[t]=function(i,o){var a=this.data(t);return"picker"==i?a:a&&"string"==typeof i?r._.trigger(a[i],a,[o]):this.each(function(){e(this).data(t)||new r(this,t,n,i)})},e.fn[t].defaults=n.defaults},r},e.exports=i(t)}),be=Object.freeze({default:ve,__moduleExports:ve}),_e=be&&ve||be,ke=(H(function(e,n){var i;i=function(e,t){var n,i=e._;function o(e,t){var n,i=this,o=e.$node[0],r=o.value,a=e.$node.data("value"),s=a||r,c=a?t.formatSubmit:t.format,l=function(){return o.currentStyle?"rtl"==o.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};i.settings=t,i.$node=e.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(t.disable||[]).slice(0),i.item.enable=-(!0===(n=i.item.disable)[0]?n.shift():-1),i.set("min",t.min).set("max",t.max).set("now"),s?i.set("select",s,{format:c,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=i.item.highlight,n=new Date(t.year,t.month,t.date+e);i.set("highlight",n,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";i.disabled(i.get("now"))&&(n=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}o.prototype.set=function(e,t,n){var i=this,o=i.item;return null===t?("clear"==e&&(e="select"),o[e]=t,i):(o["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map(function(o){return t=i[o](e,t,n)}).pop(),"select"==e?i.set("highlight",o.select,n):"highlight"==e?i.set("view",o.highlight,n):e.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&i.disabled(o.select)&&i.set("select",o.select,n),o.highlight&&i.disabled(o.highlight)&&i.set("highlight",o.highlight,n)),i)},o.prototype.get=function(e){return this.item[e]},o.prototype.create=function(e,n,o){var r;return(n=void 0===n?e:n)==-1/0||n==1/0?r=n:t.isPlainObject(n)&&i.isInteger(n.pick)?n=n.obj:t.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=i.isDate(n)?n:this.create().obj):n=i.isInteger(n)||i.isDate(n)?this.normalize(new Date(n),o):this.now(e,n,o),{year:r||n.getFullYear(),month:r||n.getMonth(),date:r||n.getDate(),day:r||n.getDay(),obj:r||n,pick:r||n.getTime()}},o.prototype.createRange=function(e,n){var o=this,r=function(e){return!0===e||t.isArray(e)||i.isDate(e)?o.create(e):e};return i.isInteger(e)||(e=r(e)),i.isInteger(n)||(n=r(n)),i.isInteger(e)&&t.isPlainObject(n)?e=[n.year,n.month,n.date+e]:i.isInteger(n)&&t.isPlainObject(e)&&(n=[e.year,e.month,e.date+n]),{from:r(e),to:r(n)}},o.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},o.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},o.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},o.prototype.navigate=function(e,n,i){var o,r,a,s,c=t.isArray(n),l=t.isPlainObject(n),d=this.item.view;if(c||l){for(l?(r=n.year,a=n.month,s=n.date):(r=+n[0],a=+n[1],s=+n[2]),i&&i.nav&&d&&d.month!==a&&(r=d.year,a=d.month),r=(o=new Date(r,a+(i&&i.nav?i.nav:0),1)).getFullYear(),a=o.getMonth();new Date(r,a,s).getMonth()!==a;)s-=1;n=[r,a,s]}return n},o.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},o.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):i.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},o.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},o.prototype.validate=function(e,n,o){var r,a,s,c,l=this,d=n,u=o&&o.interval?o.interval:1,h=-1===l.item.enable,f=l.item.min,p=l.item.max,m=h&&l.item.disable.filter(function(e){if(t.isArray(e)){var o=l.create(e).pick;o<n.pick?r=!0:o>n.pick&&(a=!0)}return i.isInteger(e)}).length;if((!o||!o.nav&&!o.defaultValue)&&(!h&&l.disabled(n)||h&&l.disabled(n)&&(m||r||a)||!h&&(n.pick<=f.pick||n.pick>=p.pick)))for(h&&!m&&(!a&&u>0||!r&&u<0)&&(u*=-1);l.disabled(n)&&(Math.abs(u)>1&&(n.month<d.month||n.month>d.month)&&(n=d,u=u>0?1:-1),n.pick<=f.pick?(s=!0,u=1,n=l.create([f.year,f.month,f.date+(n.pick===f.pick?0:-1)])):n.pick>=p.pick&&(c=!0,u=-1,n=l.create([p.year,p.month,p.date+(n.pick===p.pick?0:1)])),!s||!c);)n=l.create([n.year,n.month,n.date+u]);return n},o.prototype.disabled=function(e){var n=this,o=n.item.disable.filter(function(o){return i.isInteger(o)?e.day===(n.settings.firstDay?o:o-1)%7:t.isArray(o)||i.isDate(o)?e.pick===n.create(o).pick:t.isPlainObject(o)?n.withinRange(o,e):void 0});return o=o.length&&!o.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===n.item.enable?!o:o||e.pick<n.item.min.pick||e.pick>n.item.max.pick},o.prototype.parse=function(e,t,n){var o=this,r={};return t&&"string"==typeof t?(n&&n.format||((n=n||{}).format=o.settings.format),o.formats.toArray(n.format).map(function(e){var n=o.formats[e],a=n?i.trigger(n,o,[t,r]):e.replace(/^!/,"").length;n&&(r[e]=t.substr(0,a)),t=t.substr(a)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):t},o.prototype.formats=function(){function e(e,t,n){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(i)+1),i.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?i.digits(e):t.date},dd:function(e,t){return e?2:i.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?i.digits(e):t.month+1},mm:function(e,t){return e?2:i.lead(t.month+1)},mmm:function(t,n){var i=this.settings.monthsShort;return t?e(t,i,n):i[n.month]},mmmm:function(t,n){var i=this.settings.monthsFull;return t?e(t,i,n):i[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return i.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}}}(),o.prototype.isDateExact=function(e,n){return i.isInteger(e)&&i.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(i.isDate(e)||t.isArray(e))&&(i.isDate(n)||t.isArray(n))?this.create(e).pick===this.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&(this.isDateExact(e.from,n.from)&&this.isDateExact(e.to,n.to))},o.prototype.isDateOverlap=function(e,n){var o=this.settings.firstDay?1:0;return i.isInteger(e)&&(i.isDate(n)||t.isArray(n))?(e=e%7+o)===this.create(n).day+1:i.isInteger(n)&&(i.isDate(e)||t.isArray(e))?(n=n%7+o)===this.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&this.overlapRanges(e,n)},o.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},o.prototype.deactivate=function(e,n){var o=this,r=o.item.disable.slice(0);return"flip"==n?o.flipEnable():!1===n?(o.flipEnable(1),r=[]):!0===n?(o.flipEnable(-1),r=[]):n.map(function(e){for(var n,a=0;a<r.length;a+=1)if(o.isDateExact(e,r[a])){n=!0;break}n||(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&r.push(e)}),r},o.prototype.activate=function(e,n){var o=this,r=o.item.disable,a=r.length;return"flip"==n?o.flipEnable():!0===n?(o.flipEnable(1),r=[]):!1===n?(o.flipEnable(-1),r=[]):n.map(function(e){var n,s,c,l;for(c=0;c<a;c+=1){if(s=r[c],o.isDateExact(s,e)){n=r[c]=null,l=!0;break}if(o.isDateOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e)[3]||n.push("inverted"):i.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(c=0;c<a;c+=1)if(o.isDateExact(r[c],e)){r[c]=null;break}if(l)for(c=0;c<a;c+=1)if(o.isDateOverlap(r[c],e)){r[c]=null;break}n&&r.push(n)}),r.filter(function(e){return null!=e})},o.prototype.nodes=function(e){var t,n,o=this,r=o.settings,a=o.item,s=a.now,c=a.select,l=a.highlight,d=a.view,u=a.disable,h=a.min,f=a.max,p=(t=(r.showWeekdaysFull?r.weekdaysFull:r.weekdaysShort).slice(0),n=r.weekdaysFull.slice(0),r.firstDay&&(t.push(t.shift()),n.push(n.shift())),i.node("thead",i.node("tr",i.group({min:0,max:6,i:1,node:"th",item:function(e){return[t[e],r.klass.weekdays,'scope=col title="'+n[e]+'"']}})))),m=function(e){return i.node("div"," ",r.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=f.year&&d.month>=f.month||!e&&d.year<=h.year&&d.month<=h.month?" "+r.klass.navDisabled:""),"data-nav="+(e||-1)+" "+i.ariaAttr({role:"button",controls:o.$node[0].id+"_table"})+' title="'+(e?r.labelMonthNext:r.labelMonthPrev)+'"')},g=function(){var t=r.showMonthsShort?r.monthsShort:r.monthsFull;return r.selectMonths?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==h.year&&e<h.month||d.year==f.year&&e>f.month?" disabled":"")]}}),r.klass.selectMonth,(e?"":"disabled")+" "+i.ariaAttr({controls:o.$node[0].id+"_table"})+' title="'+r.labelMonthSelect+'"'):i.node("div",t[d.month],r.klass.month)},y=function(){var t=d.year,n=!0===r.selectYears?5:~~(r.selectYears/2);if(n){var a=h.year,s=f.year,c=t-n,l=t+n;if(a>c&&(l+=a-c,c=a),s<l){var u=c-a,p=l-s;c-=u>p?p:u,l=s}return i.node("select",i.group({min:c,max:l,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),r.klass.selectYear,(e?"":"disabled")+" "+i.ariaAttr({controls:o.$node[0].id+"_table"})+' title="'+r.labelYearSelect+'"')}return i.node("div",t,r.klass.year)};return i.node("div",(r.selectYears?y()+g():g()+y())+m()+m(1),r.klass.header)+i.node("table",p+i.node("tbody",i.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=r.firstDay&&0===o.create([d.year,d.month,1]).day?-7:0;return[i.group({min:7*e-d.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=o.create([d.year,d.month,e+(r.firstDay?1:0)]);var t,n=c&&c.pick==e.pick,a=l&&l.pick==e.pick,p=u&&o.disabled(e)||e.pick<h.pick||e.pick>f.pick,m=i.trigger(o.formats.toString,o,[r.format,e]);return[i.node("div",e.date,(t=[r.klass.day],t.push(d.month==e.month?r.klass.infocus:r.klass.outfocus),s.pick==e.pick&&t.push(r.klass.now),n&&t.push(r.klass.selected),a&&t.push(r.klass.highlighted),p&&t.push(r.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+i.ariaAttr({role:"gridcell",label:m,selected:!(!n||o.$node.val()!==m)||null,activedescendant:!!a||null,disabled:!!p||null})),"",i.ariaAttr({role:"presentation"})]}})]}})),r.klass.table,'id="'+o.$node[0].id+'_table" '+i.ariaAttr({role:"grid",controls:o.$node[0].id,readonly:!0}))+i.node("div",i.node("button",r.today,r.klass.buttonToday,"type=button data-pick="+s.pick+(e&&!o.disabled(s)?"":" disabled")+" "+i.ariaAttr({controls:o.$node[0].id}))+i.node("button",r.clear,r.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:o.$node[0].id}))+i.node("button",r.close,r.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+i.ariaAttr({controls:o.$node[0].id})),r.klass.footer)},o.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(n=e.klasses().picker+"__")+"table",header:n+"header",navPrev:n+"nav--prev",navNext:n+"nav--next",navDisabled:n+"nav--disabled",month:n+"month",year:n+"year",selectMonth:n+"select--month",selectYear:n+"select--year",weekdays:n+"weekday",day:n+"day",disabled:n+"day--disabled",selected:n+"day--selected",highlighted:n+"day--highlighted",now:n+"day--today",infocus:n+"day--infocus",outfocus:n+"day--outfocus",footer:n+"footer",buttonClear:n+"button--clear",buttonToday:n+"button--today",buttonClose:n+"button--close"}},e.extend("pickadate",o)},e.exports=i(_e,t)}),B="md.pickdate",Q="pickdate",L=(U=t).fn[Q],J={cancel:"Cancel",closeOnCancel:!0,closeOnSelect:!1,container:"",containerHidden:"",disable:[],firstDay:0,format:"d/m/yyyy",formatSubmit:"",hiddenName:!1,hiddenPrefix:"",hiddenSuffix:"",klass:{buttonClear:"btn btn-outline-primary picker-button-clear",buttonClose:"btn btn-outline-primary picker-button-close",buttonToday:"btn btn-outline-primary picker-button-today",day:"picker-day",disabled:"picker-day-disabled",highlighted:"picker-day-highlighted",infocus:"picker-day-infocus",now:"picker-day-today",outfocus:"picker-day-outfocus",selected:"picker-day-selected",weekdays:"picker-weekday",box:"picker-box",footer:"picker-footer",frame:"picker-frame",header:"picker-header",holder:"picker-holder",table:"picker-table",wrap:"picker-wrap",active:"picker-input-active",input:"picker-input",month:"picker-month",navDisabled:"picker-nav-disabled",navNext:"material-icons picker-nav-next",navPrev:"material-icons picker-nav-prev",selectMonth:"picker-select-month",selectYear:"picker-select-year",year:"picker-year",focused:"picker-focused",opened:"picker-opened",picker:"picker"},labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",max:!1,min:!1,monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ok:"OK",onClose:function(){},onOpen:function(){},onRender:function(){},onSet:function(){},onStart:function(){},onStop:function(){},selectMonths:!1,selectYears:!1,today:"",weekdaysFull:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysShort:["S","M","T","W","T","F","S"]},K={cancel:"string",closeOnCancel:"boolean",closeOnSelect:"boolean",container:"string",containerHidden:"string",disable:"array",firstDay:"number",format:"string",formatSubmit:"string",hiddenName:"boolean",hiddenPrefix:"string",hiddenSuffix:"string",klass:"object",labelMonthNext:"string",labelMonthPrev:"string",labelMonthSelect:"string",labelYearSelect:"string",max:"boolean || date",min:"boolean || date",monthsFull:"array",monthsShort:"array",ok:"string",onClose:"function",onOpen:"function",onRender:"function",onSet:"function",onStart:"function",onStop:"function",selectMonths:"boolean",selectYears:"boolean || number",today:"string",weekdaysFull:"array",weekdaysShort:"array"},G=function(){function e(e,t){this._config=this._getConfig(t),this._element=e}var t=e.prototype;return t.display=function(e,t,n){U(".picker-date-display",t).remove(),U(".picker-wrap",t).prepend('<div class="picker-date-display"><div class="picker-date-display-top"><span class="picker-year-display">'+e.get(n,"yyyy")+'</span></div><div class="picker-date-display-bottom"><span class="picker-weekday-display">'+e.get(n,"dddd")+'</span><span class="picker-day-display">'+e.get(n,"d")+'</span><span class="picker-month-display">'+e.get(n,"mmm")+"</span></div></div>")},t.show=function(){var e=this;U(this._element).pickadate({clear:this._config.cancel,close:this._config.ok,closeOnClear:this._config.closeOnCancel,closeOnSelect:this._config.closeOnSelect,container:this._config.container,containerHidden:this._config.containerHidden,disable:this._config.disable,firstDay:this._config.firstDay,format:this._config.format,formatSubmit:this._config.formatSubmit,klass:this._config.klass,hiddenName:this._config.hiddenName,hiddenPrefix:this._config.hiddenPrefix,hiddenSuffix:this._config.hiddenSuffix,labelMonthNext:this._config.labelMonthNext,labelMonthPrev:this._config.labelMonthPrev,labelMonthSelect:this._config.labelMonthSelect,labelYearSelect:this._config.labelYearSelect,max:this._config.max,min:this._config.min,monthsFull:this._config.monthsFull,monthsShort:this._config.monthsShort,onClose:this._config.onClose,onOpen:this._config.onOpen,onRender:this._config.onRender,onSet:this._config.onSet,onStart:this._config.onStart,onStop:this._config.onStop,selectMonths:this._config.selectMonths,selectYears:this._config.selectYears,today:this._config.today,weekdaysFull:this._config.weekdaysFull,weekdaysShort:this._config.weekdaysShort});var t=U(this._element).pickadate("picker"),n=t.$root;t.on({close:function(){U(document.activeElement).blur()},open:function(){U(".picker__date-display",n).length||e.display(t,n,"highlight")},set:function(){null!==t.get("select")&&e.display(t,n,"select")}})},t._getConfig=function(e){return e=C({},J,e),W.typeCheckConfig(Q,e,K),e},e._jQueryInterface=function(t){return this.each(function(){var n=C({},J,U(this).data(),"object"==typeof t&&t?t:{}),i=U(this).data(B);i||(i=new e(this,n),U(this).data(B,i)),i.show()})},e}(),U.fn[Q]=G._jQueryInterface,U.fn[Q].Constructor=G,void(U.fn[Q].noConflict=function(){return U.fn[Q]=L,G._jQueryInterface})),Se=(V="focus",X={IS_MOUSEDOWN:!1},Z="blur"+(z=".md.selectioncontrolfocus"),ee="focus"+z,te="mousedown"+z,ne="mouseup"+z,ie=".custom-control",oe=".custom-control-input",void(q=t)(document).on(""+Z,oe,function(){q(this).removeClass(V)}).on(""+ee,oe,function(){!1===X.IS_MOUSEDOWN&&q(this).addClass(V)}).on(""+te,ie,function(){X.IS_MOUSEDOWN=!0}).on(""+ne,ie,function(){setTimeout(function(){X.IS_MOUSEDOWN=!1},1)})),we=(ae="md.tabswitch",se="tabswitch",ce=(re=t).fn[se],le="animate",de="dropdown-item",ue="nav-tabs-indicator",he="nav-tabs-material",fe="show",pe='.nav-tabs [data-toggle="tab"]',me=".dropdown",ge=".nav-tabs",ye=function(){function e(e){this._nav=e,this._navindicator=null}var t=e.prototype;return t.switch=function(e,t){var n=this,i=re(this._nav).offset().left,o=re(this._nav).scrollLeft(),r=re(this._nav).outerWidth();this._navindicator||this._createIndicator(i,o,r,t),re(e).hasClass(de)&&(e=re(e).closest(me));var a=re(e).offset().left,s=re(e).outerWidth();re(this._navindicator).addClass(fe),W.reflow(this._navindicator),re(this._nav).addClass(le),re(this._navindicator).css({left:a+o-i,right:r-(a+o-i+s)});var c=W.getTransitionDurationFromElement(this._navindicator);re(this._navindicator).one(W.TRANSITION_END,function(){re(n._nav).removeClass(le),re(n._navindicator).removeClass(fe)}).emulateTransitionEnd(c)},t._createIndicator=function(e,t,n,i){if(this._navindicator=document.createElement("div"),re(this._navindicator).addClass(ue).appendTo(this._nav),void 0!==i){re(i).hasClass(de)&&(i=re(i).closest(me));var o=re(i).offset().left,r=re(i).outerWidth();re(this._navindicator).css({left:o+t-e,right:n-(o+t-e+r)})}re(this._nav).addClass(he)},e._jQueryInterface=function(t){return this.each(function(){var n=re(this).closest(ge)[0];if(n){var i=re(n).data(ae);i||(i=new e(n),re(n).data(ae,i)),i.switch(this,t)}})},e}(),re(document).on("show.bs.tab",pe,function(e){ye._jQueryInterface.call(re(this),e.relatedTarget)}),re.fn[se]=ye._jQueryInterface,re.fn[se].Constructor=ye,re.fn[se].noConflict=function(){return re.fn[se]=ce,ye._jQueryInterface},ye);e.Util=W,e.ExpansionPanel=S,e.FloatingLabel=w,e.NavDrawer=Y,e.PickDate=ke,e.SelectionControlFocus=Se,e.TabSwitch=we,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIm1hdGVyaWFsIiwialF1ZXJ5IiwidGhpcyIsIiQiLCJoYXNPd25Qcm9wZXJ0eSIsIiQkJDEiLCJFVkVOVF9LRVkiLCJDbGFzc05hbWUiLCJFdmVudCIsIlNlbGVjdG9yIiwiREFUQV9LRVkiLCJOQU1FIiwiTk9fQ09ORkxJQ1QiLCJGbG9hdGluZ0xhYmVsIiwiRXhwYW5zaW9uUGFuZWwiLCJkb2N1bWVudCIsIm9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsInJlbW92ZUNsYXNzIiwicHJlZGVjZXNzb3IiLCJwcmV2IiwibGVuZ3RoIiwiYWRkQ2xhc3MiLCJmbiIsIkRBVEFfUEFSRU5UIiwiREFUQV9UT0dHTEUiLCJlbGVtZW50IiwiX2VsZW1lbnQiLCJfcGFyZW50IiwiX3Byb3RvIiwicHJvdG90eXBlIiwiY2hhbmdlIiwidmFsIiwiaXMiLCJodG1sIiwicmVwbGFjZSIsImZvY3VzaW4iLCJmb2N1c291dCIsIl9qUXVlcnlJbnRlcmZhY2UiLCJldmVudCIsImVhY2giLCJfZXZlbnQiLCJkYXRhIiwiRXJyb3IiLCJjYWxsIiwidHlwZSIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJpIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsInNvdXJjZSIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY29uY2F0IiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9yRWFjaCIsIm9iaiIsInZhbHVlIiwiRGVmYXVsdCIsIkRlZmF1bHRUeXBlIiwiTmF2RHJhd2VyIiwiVXRpbCIsIlRSQU5TSVRJT05fRU5EIiwidHJhbnNpdGlvbkVuZEVtdWxhdG9yIiwiZHVyYXRpb24iLCJfdGhpcyIsImNhbGxlZCIsIm9uZSIsInNldFRpbWVvdXQiLCJ0cmlnZ2VyVHJhbnNpdGlvbkVuZCIsImdldFNlbGVjdG9yRnJvbUVsZW1lbnQiLCJzZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsImZpbmQiLCJlcnIiLCJnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCIsInRyYW5zaXRpb25EdXJhdGlvbiIsImNzcyIsInNwbGl0IiwicGFyc2VGbG9hdCIsImdldFVJRCIsInByZWZpeCIsIk1hdGgiLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsImlzRWxlbWVudCIsIm5vZGVUeXBlIiwicmVmbG93Iiwib2Zmc2V0SGVpZ2h0Iiwic3VwcG9ydHNUcmFuc2l0aW9uRW5kIiwiQm9vbGVhbiIsInRyaWdnZXIiLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJwcm9wZXJ0eSIsImV4cGVjdGVkVHlwZXMiLCJ2YWx1ZVR5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJSZWdFeHAiLCJ0ZXN0IiwidG9VcHBlckNhc2UiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsInNwZWNpYWwiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcHBseSIsImJyZWFrcG9pbnQiLCJrZXlib2FyZCIsInNob3ciLCJDTElDS19EQVRBX0FQSSIsIkNMSUNLX0RJU01JU1MiLCJGT0NVU0lOIiwiSElEREVOIiwiSElERSIsIktFWURPV05fRElTTUlTUyIsIk1PVVNFRE9XTl9ESVNNSVNTIiwiTU9VU0VVUF9ESVNNSVNTIiwiU0hPVyIsIlNIT1dOIiwiQ09OVEVOVCIsIkRBVEFfRElTTUlTUyIsIl9iYWNrZHJvcCIsIl9jb25maWciLCJfZ2V0Q29uZmlnIiwiX2NvbnRlbnQiLCJfaWdub3JlQmFja2Ryb3BDbGljayIsIl9pc1Nob3duIiwiX3R5cGVCcmVha3BvaW50IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiaGlkZSIsInByZXZlbnREZWZhdWx0IiwiX2lzVHJhbnNpdGlvbmluZyIsImhpZGVFdmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsIl9zZXRFc2NhcGVFdmVudCIsIm9mZiIsImJvZHkiLCJfaGlkZU5hdmRyYXdlciIsIl9zaG93QmFja2Ryb3AiLCJyZWxhdGVkVGFyZ2V0IiwiX3RoaXMyIiwic2hvd0V2ZW50IiwiX3Nob3dFbGVtZW50IiwidG9nZ2xlIiwiX2VuZm9yY2VGb2N1cyIsIl90aGlzMyIsImhhcyIsImZvY3VzIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0QXR0cmlidXRlIiwiX3JlbW92ZUJhY2tkcm9wIiwicmVtb3ZlIiwiX3RoaXM0Iiwid2hpY2giLCJfdGhpczUiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kVG8iLCJjdXJyZW50VGFyZ2V0IiwiX3RoaXM2IiwicGFyZW50Tm9kZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsInNob3duRXZlbnQiLCJUeXBlRXJyb3IiLCJnZXQiLCJfdGhpczciLCJ0YWdOYW1lIiwiJHRhcmdldCIsImNyZWF0ZUNvbW1vbmpzTW9kdWxlIiwiUGlja0RhdGUiLCJMYXN0SW50ZXJhY3Rpb24iLCJUYWJTd2l0Y2giLCJwaWNrZXIiLCIkd2luZG93Iiwid2luZG93IiwiJGRvY3VtZW50IiwiJGh0bWwiLCJkb2N1bWVudEVsZW1lbnQiLCJzdXBwb3J0c1RyYW5zaXRpb25zIiwidHJhbnNpdGlvbiIsIlBpY2tlckNvbnN0cnVjdG9yIiwiRUxFTUVOVCIsIkNPTVBPTkVOVCIsIk9QVElPTlMiLCJJU19ERUZBVUxUX1RIRU1FIiwiU1RBVEUiLCJpZCIsImFicyIsIkRhdGUiLCJTRVRUSU5HUyIsImV4dGVuZCIsImRlZmF1bHRzIiwiQ0xBU1NFUyIsImtsYXNzZXMiLCJrbGFzcyIsIiRFTEVNRU5UIiwiUGlja2VySW5zdGFuY2UiLCJzdGFydCIsIlAiLCJjb25zdHJ1Y3RvciIsIiRub2RlIiwibWV0aG9kcyIsIm9wZW4iLCJhdXRvZm9jdXMiLCJnZXRBY3RpdmVFbGVtZW50IiwicmVhZE9ubHkiLCJlZGl0YWJsZSIsImNvbXBvbmVudCIsIiRyb290IiwiYXJpYSIsIiRob2xkZXIiLCJjcmVhdGVXcmFwcGVkQ29tcG9uZW50IiwicHJlcGFyZUVsZW1lbnRIb2xkZXIiLCJmb3JtYXRTdWJtaXQiLCJuYW1lIiwiaGlkZGVuTmFtZSIsImhpZGRlblByZWZpeCIsImhpZGRlblN1ZmZpeCIsIl9oaWRkZW4iLCJwcmVwYXJlRWxlbWVudEhpZGRlbiIsImlucHV0IiwiZm9ybWF0IiwiaGFuZGxlS2V5ZG93bkV2ZW50IiwiaGFzcG9wdXAiLCJleHBhbmRlZCIsInJlYWRvbmx5Iiwib3ducyIsInByZXBhcmVFbGVtZW50IiwiY29udGFpbmVySGlkZGVuIiwiYXBwZW5kIiwiYWZ0ZXIiLCJjb250YWluZXIiLCJvblN0YXJ0IiwicmVuZGVyIiwib25SZW5kZXIiLCJzdG9wIiwib25TdG9wIiwib25PcGVuIiwiY2xvc2UiLCJvbkNsb3NlIiwic2V0Iiwib25TZXQiLCJ0aGVtZSIsInByb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNVc2luZ0RlZmF1bHRUaGVtZSIsImVudGlyZUNvbXBvbmVudCIsImJveCIsIm5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVEYXRhIiwiZG9udEdpdmVGb2N1cyIsImFjdGl2ZSIsIm9wZW5lZCIsImdldFNjcm9sbGJhcldpZHRoIiwiZnJhbWUiLCJrZXljb2RlIiwia2V5Q29kZSIsImtleWNvZGVUb01vdmUiLCJjb250YWlucyIsImNsaWNrIiwiXyIsImdvIiwiaGlnaGxpZ2h0ZWQiLCJoYXNDbGFzcyIsImRpc2FibGVkIiwiaXRlbSIsImhpZ2hsaWdodCIsImNsb3NlT25TZWxlY3QiLCJnaXZlRm9jdXMiLCJoYW5kbGVGb2N1c1RvT3BlbkV2ZW50IiwiZm9jdXNlZCIsImNsZWFyIiwib3B0aW9ucyIsInRoaW5nIiwidGhpbmdJdGVtIiwidGhpbmdWYWx1ZSIsInRoaW5nSXNPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidGhpbmdPYmplY3QiLCJ1bmRlZmluZWQiLCJtdXRlZCIsImZvcm1hdHMiLCJtZXRob2QiLCJpbnRlcm5hbCIsInRoaW5nTmFtZSIsInRoaW5nTWV0aG9kIiwicHVzaCIsIm5hbWVzIiwibmFtZXNDb3VudCIsIl90cmlnZ2VyIiwibWV0aG9kTGlzdCIsIm1hcCIsIm5vZGUiLCJ3cmFwIiwiaG9sZGVyIiwia2V5ZG93biIsImZvY3VzLnRvT3BlbiIsImJsdXIiLCJzdG9wUHJvcGFnYXRpb24iLCJtb3VzZWRvd24gY2xpY2siLCJ0YXJnZXREYXRhIiwidGFyZ2V0RGlzYWJsZWQiLCJuYXZEaXNhYmxlZCIsImFjdGl2ZUVsZW1lbnQiLCJocmVmIiwibmF2IiwicGljayIsImNsb3NlT25DbGVhciIsImlzS2V5Y29kZURlbGV0ZSIsImhlaWdodCIsIiRvdXRlciIsIndpZHRoV2l0aG91dFNjcm9sbCIsIm9mZnNldFdpZHRoIiwid2lkdGhXaXRoU2Nyb2xsIiwiYXR0cmlidXRlIiwiYXJpYVNldCIsImdyb3VwIiwiZ3JvdXBPYmplY3QiLCJsb29wT2JqZWN0U2NvcGUiLCJub2Rlc0xpc3QiLCJjb3VudGVyIiwibWluIiwibWF4Iiwid3JhcHBlciIsImlzQXJyYXkiLCJqb2luIiwibGVhZCIsIm51bWJlciIsImNhbGxiYWNrIiwic2NvcGUiLCJhcmdzIiwiZGlnaXRzIiwic3RyaW5nIiwiaXNEYXRlIiwiaW5kZXhPZiIsImlzSW50ZWdlciIsImdldERhdGUiLCJhcmlhQXR0ciIsImF0dHIiLCJhdHRyVmFsIiwiQ29tcG9uZW50IiwiYWN0aW9uIiwiY29tcG9uZW50RGF0YSIsInBpY2tlciQxIiwiZnJlZXplIiwiZGVmYXVsdCIsIl9fbW9kdWxlRXhwb3J0cyIsInJlcXVpcmUkJDAiLCJQaWNrZXIiLCJEYXRlUGlja2VyIiwic2V0dGluZ3MiLCJjb2xsZWN0aW9uRGlzYWJsZWQiLCJjYWxlbmRhciIsImVsZW1lbnRWYWx1ZSIsImVsZW1lbnREYXRhVmFsdWUiLCJ2YWx1ZVN0cmluZyIsImZvcm1hdFN0cmluZyIsImlzUlRMIiwiZGlyZWN0aW9uIiwicXVldWUiLCJub3ciLCJzZWxlY3QiLCJ2aWV3IiwiZGlzYWJsZSIsImVuYWJsZSIsInNsaWNlIiwic2hpZnQiLCJkZWZhdWx0VmFsdWUiLCI0MCIsIjM4IiwiMzkiLCIzNyIsInRpbWVDaGFuZ2UiLCJoaWdobGlnaHRlZE9iamVjdCIsInRhcmdldERhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXRlIiwiaW50ZXJ2YWwiLCJzZWxlY3RNb250aCIsInNlbGVjdFllYXIiLCJpbmNsdWRlVG9kYXkiLCJidXR0b25Ub2RheSIsImNhbGVuZGFySXRlbSIsInBvcCIsImNyZWF0ZSIsImlzSW5maW5pdGVWYWx1ZSIsIkluZmluaXR5Iiwibm9ybWFsaXplIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImRheSIsImdldERheSIsImdldFRpbWUiLCJjcmVhdGVSYW5nZSIsImZyb20iLCJ0byIsImNyZWF0ZURhdGUiLCJ3aXRoaW5SYW5nZSIsInJhbmdlIiwiZGF0ZVVuaXQiLCJvdmVybGFwUmFuZ2VzIiwidHdvIiwicmVsIiwic2V0RGF0ZSIsIm5hdmlnYXRlIiwidGFyZ2V0RGF0ZU9iamVjdCIsInRhcmdldFllYXIiLCJ0YXJnZXRNb250aCIsImlzVGFyZ2V0QXJyYXkiLCJpc1RhcmdldE9iamVjdCIsInZpZXdzZXRPYmplY3QiLCJzZXRIb3VycyIsIm1lYXN1cmUiLCJwYXJzZSIsInZpZXdzZXQiLCJkYXRlT2JqZWN0IiwidmFsaWRhdGUiLCJoYXNFbmFibGVkQmVmb3JlVGFyZ2V0IiwiaGFzRW5hYmxlZEFmdGVyVGFyZ2V0IiwicmVhY2hlZE1pbiIsInJlYWNoZWRNYXgiLCJvcmlnaW5hbERhdGVPYmplY3QiLCJpc0ZsaXBwZWRCYXNlIiwibWluTGltaXRPYmplY3QiLCJtYXhMaW1pdE9iamVjdCIsImhhc0VuYWJsZWRXZWVrZGF5cyIsImRhdGVUaW1lIiwiZGF0ZVRvVmVyaWZ5IiwiaXNEaXNhYmxlZE1hdGNoIiwiZGF0ZVRvRGlzYWJsZSIsImZpcnN0RGF5IiwiaW52ZXJ0ZWQiLCJwYXJzaW5nT2JqZWN0IiwidG9BcnJheSIsImxhYmVsIiwiZm9ybWF0dGluZ0xhYmVsIiwiZm9ybWF0TGVuZ3RoIiwic3Vic3RyIiwieXl5eSIsInl5IiwibW0iLCJtIiwiZGQiLCJkIiwiZ2V0V29yZExlbmd0aEZyb21Db2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsIndvcmQiLCJnZXRGaXJzdFdvcmRMZW5ndGgiLCJkZGQiLCJ3ZWVrZGF5c1Nob3J0IiwiZGRkZCIsIndlZWtkYXlzRnVsbCIsIm1tbSIsIm1vbnRoc1Nob3J0IiwibW1tbSIsIm1vbnRoc0Z1bGwiLCJpdGVtT2JqZWN0IiwiaXNEYXRlRXhhY3QiLCJpc0RhdGVPdmVybGFwIiwiZmxpcEVuYWJsZSIsImRlYWN0aXZhdGUiLCJkYXRlc1RvRGlzYWJsZSIsImRpc2FibGVkSXRlbXMiLCJ1bml0VG9EaXNhYmxlIiwibWF0Y2hGb3VuZCIsImluZGV4IiwiYWN0aXZhdGUiLCJkYXRlc1RvRW5hYmxlIiwiZGlzYWJsZWRJdGVtc0NvdW50IiwidW5pdFRvRW5hYmxlIiwiZGlzYWJsZWRVbml0IiwiaXNFeGFjdFJhbmdlIiwiaXNPcGVuIiwiZnVsbENvbGxlY3Rpb24iLCJub3dPYmplY3QiLCJzZWxlY3RlZE9iamVjdCIsImRpc2FibGVkQ29sbGVjdGlvbiIsInRhYmxlSGVhZCIsInNob3dXZWVrZGF5c0Z1bGwiLCJEQVlTX0lOX1dFRUsiLCJ3ZWVrZGF5cyIsImNyZWF0ZU1vbnRoTmF2IiwibmV4dCIsInJvbGUiLCJjb250cm9scyIsImxhYmVsTW9udGhOZXh0IiwibGFiZWxNb250aFByZXYiLCJjcmVhdGVNb250aExhYmVsIiwibW9udGhzQ29sbGVjdGlvbiIsInNob3dNb250aHNTaG9ydCIsInNlbGVjdE1vbnRocyIsImxvb3BlZE1vbnRoIiwibGFiZWxNb250aFNlbGVjdCIsImNyZWF0ZVllYXJMYWJlbCIsImZvY3VzZWRZZWFyIiwibnVtYmVyWWVhcnMiLCJzZWxlY3RZZWFycyIsIm1pblllYXIiLCJtYXhZZWFyIiwibG93ZXN0WWVhciIsImhpZ2hlc3RZZWFyIiwiYXZhaWxhYmxlWWVhcnMiLCJuZWVkZWRZZWFycyIsImxvb3BlZFllYXIiLCJsYWJlbFllYXJTZWxlY3QiLCJoZWFkZXIiLCJXRUVLU19JTl9DQUxFTkRBUiIsInJvd0NvdW50ZXIiLCJzaGlmdERhdGVCeSIsImlzU2VsZWN0ZWQiLCJpc0hpZ2hsaWdodGVkIiwiaXNEaXNhYmxlZCIsImZvcm1hdHRlZERhdGUiLCJpbmZvY3VzIiwib3V0Zm9jdXMiLCJzZWxlY3RlZCIsImFjdGl2ZWRlc2NlbmRhbnQiLCJ0YWJsZSIsInRvZGF5IiwiYnV0dG9uQ2xlYXIiLCJidXR0b25DbG9zZSIsImZvb3RlciIsIm5hdlByZXYiLCJuYXZOZXh0IiwiY2FuY2VsIiwiY2xvc2VPbkNhbmNlbCIsIm9rIiwiZGF0ZXBpY2tlckFwaSIsImRhdGVwaWNrZXJSb290IiwiZGF0ZXBpY2tlclZhbHVlIiwicHJlcGVuZCIsInBpY2thZGF0ZSIsIlNlbGVjdGlvbkNvbnRyb2xGb2N1cyIsIklTX01PVVNFRE9XTiIsIl9uYXYiLCJfbmF2aW5kaWNhdG9yIiwic3dpdGNoIiwibmF2TGVmdCIsIm9mZnNldCIsImxlZnQiLCJuYXZTY3JvbGxMZWZ0Iiwic2Nyb2xsTGVmdCIsIm5hdldpZHRoIiwib3V0ZXJXaWR0aCIsIl9jcmVhdGVJbmRpY2F0b3IiLCJlbExlZnQiLCJlbFdpZHRoIiwicmlnaHQiLCJyZWxhdGVkTGVmdCIsInJlbGF0ZWRXaWR0aCJdLCJtYXBwaW5ncyI6IkNBTUMsU0FBVUEsRUFBUUMsR0FDRSxpQkFBWkMsU0FBMEMsb0JBQVhDLE9BQXlCRixFQUFRQyxRQUFTRSxRQUFRLFdBQ3RFLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFBTUQsUUFBUSxVQUFXLFVBQVdKLEdBQzFFQSxFQUFTRCxF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QUFLbUIsR0FBR2IsSUFBUUMsR0FDVHdMLEdBQVU3SixrQkFHWjZKLElBR1R6TSxFQUFRZ0YsS0FBT0EsRUFDZmhGLEVBQVFtQixlQUFpQkEsRUFDekJuQixFQUFRa0IsY0FBZ0JBLEVBQ3hCbEIsRUFBUStFLFVBQVlBLEVBQ3BCL0UsRUFBUXVNLFNBQVdBLEdBQ25Cdk0sRUFBUXFqQixzQkFBd0JBLEdBQ2hDcmpCLEVBQVF5TSxVQUFZQSxHQUVwQjVJLE9BQU9DLGVBQWU5RCxFQUFTLGNBQWdCNEUsT0FBTyIsImZpbGUiOiJtYXRlcmlhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBEYWVtb25pdGUgTWF0ZXJpYWwgdjQuMS4xIChodHRwOi8vZGFlbW9uaXRlLmdpdGh1Yi5pby9tYXRlcmlhbC8pXHJcbiAqIENvcHlyaWdodCAyMDExLTIwMTggRGFlbW9uIFB0eSBMdGRcclxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vRGFlbW9uaXRlL21hdGVyaWFsL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ2pxdWVyeScpKSA6XHJcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdqcXVlcnknXSwgZmFjdG9yeSkgOlxyXG4gIChmYWN0b3J5KChnbG9iYWwubWF0ZXJpYWwgPSB7fSksZ2xvYmFsLmpRdWVyeSkpO1xyXG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cywkKSB7ICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgJCA9ICQgJiYgJC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gJFsnZGVmYXVsdCddIDogJDtcclxuXHJcbiAgLypcclxuICAgKiBFeHBhbnNpb24gcGFuZWwgcGx1Z2lucyBleHBhbmRzIGEgY29sbGFwc2VkIHBhbmVsIGluIGZ1bGwgdXBvbiBzZWxlY3RpbmdcclxuICAgKi9cclxuXHJcbiAgdmFyIEV4cGFuc2lvblBhbmVsID0gZnVuY3Rpb24gKCQkJDEpIHtcclxuICAgIC8vIGNvbnN0YW50cyA+Pj5cclxuICAgIHZhciBEQVRBX0tFWSA9ICdicy5jb2xsYXBzZSc7XHJcbiAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcclxuICAgIHZhciBDbGFzc05hbWUgPSB7XHJcbiAgICAgIFNIT1c6ICdzaG93JyxcclxuICAgICAgU0hPV19QUkVERUNFU1NPUjogJ3Nob3ctcHJlZGVjZXNzb3InXHJcbiAgICB9O1xyXG4gICAgdmFyIEV2ZW50ID0ge1xyXG4gICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcclxuICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVlcclxuICAgIH07XHJcbiAgICB2YXIgU2VsZWN0b3IgPSB7XHJcbiAgICAgIFBBTkVMOiAnLmV4cGFuc2lvbi1wYW5lbCcsXHJcbiAgICAgIFBBTkVMX0JPRFk6ICcuZXhwYW5zaW9uLXBhbmVsIC5jb2xsYXBzZScgLy8gPDw8IGNvbnN0YW50c1xyXG5cclxuICAgIH07XHJcbiAgICAkJCQxKGRvY3VtZW50KS5vbihcIlwiICsgRXZlbnQuSElERSwgU2VsZWN0b3IuUEFORUxfQk9EWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgdGFyZ2V0ID0gJCQkMSh0aGlzKS5jbG9zZXN0KFNlbGVjdG9yLlBBTkVMKTtcclxuICAgICAgdGFyZ2V0LnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcclxuICAgICAgdmFyIHByZWRlY2Vzc29yID0gdGFyZ2V0LnByZXYoU2VsZWN0b3IuUEFORUwpO1xyXG5cclxuICAgICAgaWYgKHByZWRlY2Vzc29yLmxlbmd0aCkge1xyXG4gICAgICAgIHByZWRlY2Vzc29yLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XX1BSRURFQ0VTU09SKTtcclxuICAgICAgfVxyXG4gICAgfSkub24oXCJcIiArIEV2ZW50LlNIT1csIFNlbGVjdG9yLlBBTkVMX0JPRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHRhcmdldCA9ICQkJDEodGhpcykuY2xvc2VzdChTZWxlY3Rvci5QQU5FTCk7XHJcbiAgICAgIHRhcmdldC5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XHJcbiAgICAgIHZhciBwcmVkZWNlc3NvciA9IHRhcmdldC5wcmV2KFNlbGVjdG9yLlBBTkVMKTtcclxuXHJcbiAgICAgIGlmIChwcmVkZWNlc3Nvci5sZW5ndGgpIHtcclxuICAgICAgICBwcmVkZWNlc3Nvci5hZGRDbGFzcyhDbGFzc05hbWUuU0hPV19QUkVERUNFU1NPUik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0oJCk7XHJcblxyXG4gIC8qXHJcbiAgICogRmxvYXRpbmcgbGFiZWwgcGx1Z2luIG1vdmVzIGlubGluZSBsYWJlbCB0byBmbG9hdCBhYm92ZSB0aGUgZmllbGRcclxuICAgKiB3aGVuIGEgdXNlciBlbmdhZ2VzIHdpdGggdGhlIGFzc29zY2lhdGVkIHRleHQgaW5wdXQgZmllbGRcclxuICAgKi9cclxuXHJcbiAgdmFyIEZsb2F0aW5nTGFiZWwgPSBmdW5jdGlvbiAoJCQkMSkge1xyXG4gICAgLy8gY29uc3RhbnRzID4+PlxyXG4gICAgdmFyIERBVEFfS0VZID0gJ21kLmZsb2F0aW5nbGFiZWwnO1xyXG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XHJcbiAgICB2YXIgTkFNRSA9ICdmbG9hdGluZ2xhYmVsJztcclxuICAgIHZhciBOT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XHJcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xyXG4gICAgICBJU19GT0NVU0VEOiAnaXMtZm9jdXNlZCcsXHJcbiAgICAgIEhBU19WQUxVRTogJ2hhcy12YWx1ZSdcclxuICAgIH07XHJcbiAgICB2YXIgRXZlbnQgPSB7XHJcbiAgICAgIENIQU5HRTogXCJjaGFuZ2VcIiArIEVWRU5UX0tFWSxcclxuICAgICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIEZPQ1VTT1VUOiBcImZvY3Vzb3V0XCIgKyBFVkVOVF9LRVlcclxuICAgIH07XHJcbiAgICB2YXIgU2VsZWN0b3IgPSB7XHJcbiAgICAgIERBVEFfUEFSRU5UOiAnLmZsb2F0aW5nLWxhYmVsJyxcclxuICAgICAgREFUQV9UT0dHTEU6ICcuZmxvYXRpbmctbGFiZWwgLmN1c3RvbS1zZWxlY3QsIC5mbG9hdGluZy1sYWJlbCAuZm9ybS1jb250cm9sJyAvLyA8PDwgY29uc3RhbnRzXHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRmxvYXRpbmdMYWJlbCA9XHJcbiAgICAvKiNfX1BVUkVfXyovXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZ1bmN0aW9uIEZsb2F0aW5nTGFiZWwoZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMuX3BhcmVudCA9ICQkJDEoZWxlbWVudCkuY2xvc2VzdChTZWxlY3Rvci5EQVRBX1BBUkVOVClbMF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBfcHJvdG8gPSBGbG9hdGluZ0xhYmVsLnByb3RvdHlwZTtcclxuXHJcbiAgICAgIF9wcm90by5jaGFuZ2UgPSBmdW5jdGlvbiBjaGFuZ2UoKSB7XHJcbiAgICAgICAgaWYgKCQkJDEodGhpcy5fZWxlbWVudCkudmFsKCkgfHwgJCQkMSh0aGlzLl9lbGVtZW50KS5pcygnc2VsZWN0JykgJiYgJCQkMSgnb3B0aW9uOmZpcnN0LWNoaWxkJywgJCQkMSh0aGlzLl9lbGVtZW50KSkuaHRtbCgpLnJlcGxhY2UoJyAnLCAnJykgIT09ICcnKSB7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX3BhcmVudCkuYWRkQ2xhc3MoQ2xhc3NOYW1lLkhBU19WQUxVRSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQkJDEodGhpcy5fcGFyZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuSEFTX1ZBTFVFKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBfcHJvdG8uZm9jdXNpbiA9IGZ1bmN0aW9uIGZvY3VzaW4oKSB7XHJcbiAgICAgICAgJCQkMSh0aGlzLl9wYXJlbnQpLmFkZENsYXNzKENsYXNzTmFtZS5JU19GT0NVU0VEKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF9wcm90by5mb2N1c291dCA9IGZ1bmN0aW9uIGZvY3Vzb3V0KCkge1xyXG4gICAgICAgICQkJDEodGhpcy5fcGFyZW50KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuSVNfRk9DVVNFRCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBGbG9hdGluZ0xhYmVsLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGV2ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgX2V2ZW50ID0gZXZlbnQgPyBldmVudCA6ICdjaGFuZ2UnO1xyXG5cclxuICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcclxuXHJcbiAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YSA9IG5ldyBGbG9hdGluZ0xhYmVsKHRoaXMpO1xyXG4gICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh0eXBlb2YgX2V2ZW50ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbX2V2ZW50XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgX2V2ZW50ICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhW19ldmVudF0oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBGbG9hdGluZ0xhYmVsO1xyXG4gICAgfSgpO1xyXG5cclxuICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LkNIQU5HRSArIFwiIFwiICsgRXZlbnQuRk9DVVNJTiArIFwiIFwiICsgRXZlbnQuRk9DVVNPVVQsIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgRmxvYXRpbmdMYWJlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJCQkMSh0aGlzKSwgZXZlbnQudHlwZSk7XHJcbiAgICB9KTtcclxuICAgICQkJDEuZm5bTkFNRV0gPSBGbG9hdGluZ0xhYmVsLl9qUXVlcnlJbnRlcmZhY2U7XHJcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gRmxvYXRpbmdMYWJlbDtcclxuXHJcbiAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQkJDEuZm5bTkFNRV0gPSBOT19DT05GTElDVDtcclxuICAgICAgcmV0dXJuIEZsb2F0aW5nTGFiZWwuX2pRdWVyeUludGVyZmFjZTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIEZsb2F0aW5nTGFiZWw7XHJcbiAgfSgkKTtcclxuXHJcbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xyXG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcclxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XHJcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoa2V5IGluIG9iaikge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XHJcbiAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcclxuICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogR2xvYmFsIHV0aWwganNcclxuICAgKiBCYXNlZCBvbiBCb290c3RyYXAncyAodjQuMS5YKSBgdXRpbC5qc2BcclxuICAgKi9cclxuXHJcbiAgdmFyIFV0aWwgPSBmdW5jdGlvbiAoJCQkMSkge1xyXG4gICAgdmFyIE1BWF9VSUQgPSAxMDAwMDAwO1xyXG4gICAgdmFyIE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDtcclxuICAgIHZhciBUUkFOU0lUSU9OX0VORCA9ICd0cmFuc2l0aW9uZW5kJztcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGJpbmRUeXBlOiBUUkFOU0lUSU9OX0VORCxcclxuICAgICAgICBkZWxlZ2F0ZVR5cGU6IFRSQU5TSVRJT05fRU5ELFxyXG4gICAgICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XHJcbiAgICAgICAgICBpZiAoJCQkMShldmVudC50YXJnZXQpLmlzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFRyYW5zaXRpb25FbmRTdXBwb3J0KCkge1xyXG4gICAgICAkJCQxLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xyXG4gICAgICAkJCQxLmV2ZW50LnNwZWNpYWxbVXRpbC5UUkFOU0lUSU9OX0VORF0gPSBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9UeXBlKG9iaikge1xyXG4gICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmRFbXVsYXRvcihkdXJhdGlvbikge1xyXG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAkJCQxKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgfSk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICBVdGlsLnRyaWdnZXJUcmFuc2l0aW9uRW5kKF90aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIGR1cmF0aW9uKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIFV0aWwgPSB7XHJcbiAgICAgIFRSQU5TSVRJT05fRU5EOiAnbWRUcmFuc2l0aW9uRW5kJyxcclxuICAgICAgZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDogZnVuY3Rpb24gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XHJcblxyXG4gICAgICAgIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09ICcjJykge1xyXG4gICAgICAgICAgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHZhciAkc2VsZWN0b3IgPSAkJCQxKGRvY3VtZW50KS5maW5kKHNlbGVjdG9yKTtcclxuICAgICAgICAgIHJldHVybiAkc2VsZWN0b3IubGVuZ3RoID4gMCA/IHNlbGVjdG9yIDogbnVsbDtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9ICQkJDEoZWxlbWVudCkuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJyk7XHJcblxyXG4gICAgICAgIGlmICghdHJhbnNpdGlvbkR1cmF0aW9uKSB7XHJcbiAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xyXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcclxuICAgICAgfSxcclxuICAgICAgZ2V0VUlEOiBmdW5jdGlvbiBnZXRVSUQocHJlZml4KSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcclxuICAgICAgICAgIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogTUFYX1VJRCk7XHJcbiAgICAgICAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcmVmaXg7XHJcbiAgICAgIH0sXHJcbiAgICAgIGlzRWxlbWVudDogZnVuY3Rpb24gaXNFbGVtZW50KG9iaikge1xyXG4gICAgICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlZmxvdzogZnVuY3Rpb24gcmVmbG93KGVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN1cHBvcnRzVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkge1xyXG4gICAgICAgIHJldHVybiBCb29sZWFuKFRSQU5TSVRJT05fRU5EKTtcclxuICAgICAgfSxcclxuICAgICAgdHJpZ2dlclRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyaWdnZXJUcmFuc2l0aW9uRW5kKGVsZW1lbnQpIHtcclxuICAgICAgICAkJCQxKGVsZW1lbnQpLnRyaWdnZXIoVFJBTlNJVElPTl9FTkQpO1xyXG4gICAgICB9LFxyXG4gICAgICB0eXBlQ2hlY2tDb25maWc6IGZ1bmN0aW9uIHR5cGVDaGVja0NvbmZpZyhjb21wb25lbnROYW1lLCBjb25maWcsIGNvbmZpZ1R5cGVzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gY29uZmlnVHlwZXMpIHtcclxuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29uZmlnVHlwZXMsIHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29uZmlnW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHZhbHVlICYmIFV0aWwuaXNFbGVtZW50KHZhbHVlKSA/ICdlbGVtZW50JyA6IHRvVHlwZSh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW5ldyBSZWdFeHAoZXhwZWN0ZWRUeXBlcykudGVzdCh2YWx1ZVR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKSArIFwiOiBcIiArIChcIk9wdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBwcm92aWRlZCB0eXBlIFxcXCJcIiArIHZhbHVlVHlwZSArIFwiXFxcIiBcIikgKyAoXCJidXQgZXhwZWN0ZWQgdHlwZSBcXFwiXCIgKyBleHBlY3RlZFR5cGVzICsgXCJcXFwiLlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xyXG4gICAgcmV0dXJuIFV0aWw7XHJcbiAgfSgkKTtcclxuXHJcbiAgLypcclxuICAgKiBOYXZpZ2F0aW9uIGRyYXdlciBwbGd1aW5cclxuICAgKiBCYXNlZCBvbiBCb290c3RyYXAncyAodjQuMS5YKSBgbW9kYWwuanNgXHJcbiAgICovXHJcblxyXG4gIHZhciBOYXZEcmF3ZXIgPSBmdW5jdGlvbiAoJCQkMSkge1xyXG4gICAgLy8gY29uc3RhbnRzID4+PlxyXG4gICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xyXG4gICAgdmFyIERBVEFfS0VZID0gJ21kLm5hdmRyYXdlcic7XHJcbiAgICB2YXIgRVNDQVBFX0tFWUNPREUgPSAyNztcclxuICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xyXG4gICAgdmFyIE5BTUUgPSAnbmF2ZHJhd2VyJztcclxuICAgIHZhciBOT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XHJcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xyXG4gICAgICBCQUNLRFJPUDogJ25hdmRyYXdlci1iYWNrZHJvcCcsXHJcbiAgICAgIE9QRU46ICduYXZkcmF3ZXItb3BlbicsXHJcbiAgICAgIFNIT1c6ICdzaG93J1xyXG4gICAgfTtcclxuICAgIHZhciBEZWZhdWx0ID0ge1xyXG4gICAgICBicmVha3BvaW50OiAnJyxcclxuICAgICAga2V5Ym9hcmQ6IHRydWUsXHJcbiAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgIHR5cGU6ICdkZWZhdWx0J1xyXG4gICAgfTtcclxuICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcclxuICAgICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcclxuICAgICAgc2hvdzogJ2Jvb2xlYW4nLFxyXG4gICAgICB0eXBlOiAnc3RyaW5nJ1xyXG4gICAgfTtcclxuICAgIHZhciBFdmVudCA9IHtcclxuICAgICAgQ0xJQ0tfREFUQV9BUEk6IFwiY2xpY2tcIiArIEVWRU5UX0tFWSArIERBVEFfQVBJX0tFWSxcclxuICAgICAgQ0xJQ0tfRElTTUlTUzogXCJjbGljay5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIEZPQ1VTSU46IFwiZm9jdXNpblwiICsgRVZFTlRfS0VZLFxyXG4gICAgICBISURERU46IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIEhJREU6IFwiaGlkZVwiICsgRVZFTlRfS0VZLFxyXG4gICAgICBLRVlET1dOX0RJU01JU1M6IFwia2V5ZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIE1PVVNFRE9XTl9ESVNNSVNTOiBcIm1vdXNlZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIE1PVVNFVVBfRElTTUlTUzogXCJtb3VzZXVwLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcclxuICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIFNIT1dOOiBcInNob3duXCIgKyBFVkVOVF9LRVlcclxuICAgIH07XHJcbiAgICB2YXIgU2VsZWN0b3IgPSB7XHJcbiAgICAgIENPTlRFTlQ6ICcubmF2ZHJhd2VyLWNvbnRlbnQnLFxyXG4gICAgICBEQVRBX0RJU01JU1M6ICdbZGF0YS1kaXNtaXNzPVwibmF2ZHJhd2VyXCJdJyxcclxuICAgICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJuYXZkcmF3ZXJcIl0nIC8vIDw8PCBjb25zdGFudHNcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBOYXZEcmF3ZXIgPVxyXG4gICAgLyojX19QVVJFX18qL1xyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICBmdW5jdGlvbiBOYXZEcmF3ZXIoZWxlbWVudCwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSAkJCQxKGVsZW1lbnQpLmZpbmQoU2VsZWN0b3IuQ09OVEVOVClbMF07XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl90eXBlQnJlYWtwb2ludCA9IHRoaXMuX2NvbmZpZy5icmVha3BvaW50ID09PSAnJyA/ICcnIDogXCItXCIgKyB0aGlzLl9jb25maWcuYnJlYWtwb2ludDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9wcm90byA9IE5hdkRyYXdlci5wcm90b3R5cGU7XHJcblxyXG4gICAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICF0aGlzLl9pc1Nob3duKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURFKTtcclxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaGlkZUV2ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuX3NldEVzY2FwZUV2ZW50KCk7XHJcblxyXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKTtcclxuICAgICAgICAkJCQxKGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5PUEVOICsgXCItXCIgKyB0aGlzLl9jb25maWcudHlwZSArIHRoaXMuX3R5cGVCcmVha3BvaW50KTtcclxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcclxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5DTElDS19ESVNNSVNTKTtcclxuICAgICAgICAkJCQxKHRoaXMuX2NvbnRlbnQpLm9mZihFdmVudC5NT1VTRURPV05fRElTTUlTUyk7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fY29udGVudCk7XHJcbiAgICAgICAgJCQkMSh0aGlzLl9jb250ZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICByZXR1cm4gX3RoaXMuX2hpZGVOYXZkcmF3ZXIoZXZlbnQpO1xyXG4gICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMuX3Nob3dCYWNrZHJvcCgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KHJlbGF0ZWRUYXJnZXQpIHtcclxuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCB0aGlzLl9pc1Nob3duKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xyXG4gICAgICAgIHZhciBzaG93RXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNIT1csIHtcclxuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcclxuICAgICAgICB9KTtcclxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcclxuXHJcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhOQU1FICsgXCItXCIgKyB0aGlzLl9jb25maWcudHlwZSArIHRoaXMuX3R5cGVCcmVha3BvaW50KTtcclxuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIFNlbGVjdG9yLkRBVEFfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhpZGUoZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQkJDEodGhpcy5fY29udGVudCkub24oRXZlbnQuTU9VU0VET1dOX0RJU01JU1MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICQkJDEoX3RoaXMyLl9lbGVtZW50KS5vbmUoRXZlbnQuTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCQkJDEoZXZlbnQudGFyZ2V0KS5pcyhfdGhpczIuX2VsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMyLl9pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Nob3dCYWNrZHJvcCgpO1xyXG5cclxuICAgICAgICB0aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3cocmVsYXRlZFRhcmdldCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBfcHJvdG8uX2VuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uIF9lbmZvcmNlRm9jdXMoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XHJcblxyXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKS5vbihFdmVudC5GT0NVU0lOLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgIGlmIChkb2N1bWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmIF90aGlzMy5fZWxlbWVudCAhPT0gZXZlbnQudGFyZ2V0ICYmICQkJDEoX3RoaXMzLl9lbGVtZW50KS5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgX3RoaXMzLl9lbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XHJcbiAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcclxuICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcclxuICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLl9oaWRlTmF2ZHJhd2VyID0gZnVuY3Rpb24gX2hpZGVOYXZkcmF3ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKEV2ZW50LkhJRERFTik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBfcHJvdG8uX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xyXG4gICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcclxuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LktFWURPV05fRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcclxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICBfdGhpczQuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1Nob3duKSB7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5LRVlET1dOX0RJU01JU1MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIF9wcm90by5fc2hvd0JhY2tkcm9wID0gZnVuY3Rpb24gX3Nob3dCYWNrZHJvcCgpIHtcclxuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcclxuICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDbGFzc05hbWUuQkFDS0RST1ApLmFkZENsYXNzKENsYXNzTmFtZS5CQUNLRFJPUCArIFwiLVwiICsgdGhpcy5fY29uZmlnLnR5cGUgKyB0aGlzLl90eXBlQnJlYWtwb2ludCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9uKEV2ZW50LkNMSUNLX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXM1Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXM1Ll9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBfdGhpczUuaGlkZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCk7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93biAmJiB0aGlzLl9iYWNrZHJvcCkge1xyXG4gICAgICAgICAgJCQkMSh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xyXG5cclxuICAgICAgICAgIHRoaXMuX3JlbW92ZUJhY2tkcm9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLl9zaG93RWxlbWVudCA9IGZ1bmN0aW9uIF9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlIHx8IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcclxuXHJcbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XHJcbiAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyhDbGFzc05hbWUuT1BFTiArIFwiLVwiICsgdGhpcy5fY29uZmlnLnR5cGUgKyB0aGlzLl90eXBlQnJlYWtwb2ludCk7XHJcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xyXG5cclxuICAgICAgICB2YXIgc2hvd25FdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPV04sIHtcclxuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25Db21wbGV0ZSA9IGZ1bmN0aW9uIHRyYW5zaXRpb25Db21wbGV0ZSgpIHtcclxuICAgICAgICAgIF90aGlzNi5fZWxlbWVudC5mb2N1cygpO1xyXG5cclxuICAgICAgICAgIF90aGlzNi5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAkJCQxKF90aGlzNi5fZWxlbWVudCkudHJpZ2dlcihzaG93bkV2ZW50KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9jb250ZW50KTtcclxuICAgICAgICAkJCQxKHRoaXMuX2NvbnRlbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBOYXZEcmF3ZXIuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnLCByZWxhdGVkVGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICQkJDEodGhpcykuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XHJcblxyXG4gICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xyXG5cclxuICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhID0gbmV3IE5hdkRyYXdlcih0aGlzLCBfY29uZmlnKTtcclxuICAgICAgICAgICAgJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5zaG93KSB7XHJcbiAgICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF9jcmVhdGVDbGFzcyhOYXZEcmF3ZXIsIG51bGwsIFt7XHJcbiAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgIHJldHVybiBEZWZhdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgfV0pO1xyXG5cclxuICAgICAgcmV0dXJuIE5hdkRyYXdlcjtcclxuICAgIH0oKTtcclxuXHJcbiAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcclxuXHJcbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcclxuICAgICAgdmFyIHRhcmdldDtcclxuXHJcbiAgICAgIGlmIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHRhcmdldCA9ICQkJDEoc2VsZWN0b3IpWzBdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgY29uZmlnID0gJCQkMSh0YXJnZXQpLmRhdGEoREFUQV9LRVkpID8gJ3RvZ2dsZScgOiBfb2JqZWN0U3ByZWFkKHt9LCAkJCQxKHRhcmdldCkuZGF0YSgpLCAkJCQxKHRoaXMpLmRhdGEoKSk7XHJcblxyXG4gICAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQScgfHwgdGhpcy50YWdOYW1lID09PSAnQVJFQScpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgJHRhcmdldCA9ICQkJDEodGFyZ2V0KS5vbmUoRXZlbnQuU0hPVywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xyXG4gICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKCQkJDEoX3RoaXM3KS5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICBfdGhpczcuZm9jdXMoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBOYXZEcmF3ZXIuX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEodGFyZ2V0KSwgY29uZmlnLCB0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgJCQkMS5mbltOQU1FXSA9IE5hdkRyYXdlci5falF1ZXJ5SW50ZXJmYWNlO1xyXG4gICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IE5hdkRyYXdlcjtcclxuXHJcbiAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQkJDEuZm5bTkFNRV0gPSBOT19DT05GTElDVDtcclxuICAgICAgcmV0dXJuIE5hdkRyYXdlci5falF1ZXJ5SW50ZXJmYWNlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gTmF2RHJhd2VyO1xyXG4gIH0oJCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcclxuICBcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcclxuICB9XHJcblxyXG4gIHZhciBwaWNrZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XHJcbiAgLyohXHJcbiAgICogcGlja2FkYXRlLmpzIHYzLjUuNiwgMjAxNS8wNC8yMFxyXG4gICAqIEJ5IEFtc3VsLCBodHRwOi8vYW1zdWwuY2FcclxuICAgKiBIb3N0ZWQgb24gaHR0cDovL2Ftc3VsLmdpdGh1Yi5pby9waWNrYWRhdGUuanNcclxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVRcclxuICAgKi9cclxuXHJcbiAgKGZ1bmN0aW9uICggZmFjdG9yeSApIHtcclxuXHJcbiAgICAgIC8vIEFNRC5cclxuICAgICAgaWYgKCB0eXBlb2YgdW5kZWZpbmVkID09ICdmdW5jdGlvbicgJiYgdW5kZWZpbmVkLmFtZCApXHJcbiAgICAgICAgICB1bmRlZmluZWQoICdwaWNrZXInLCBbJ2pxdWVyeSddLCBmYWN0b3J5ICk7XHJcblxyXG4gICAgICAvLyBOb2RlLmpzL2Jyb3dzZXJpZnkuXHJcbiAgICAgIGVsc2UgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCAkICk7XHJcblxyXG4gIH0oZnVuY3Rpb24oICQkJDEgKSB7XHJcblxyXG4gIHZhciAkd2luZG93ID0gJCQkMSggd2luZG93ICk7XHJcbiAgdmFyICRkb2N1bWVudCA9ICQkJDEoIGRvY3VtZW50ICk7XHJcbiAgdmFyICRodG1sID0gJCQkMSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICk7XHJcbiAgdmFyIHN1cHBvcnRzVHJhbnNpdGlvbnMgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiAhPSBudWxsO1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHBpY2tlciBjb25zdHJ1Y3RvciB0aGF0IGNyZWF0ZXMgYSBibGFuayBwaWNrZXIuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gUGlja2VyQ29uc3RydWN0b3IoIEVMRU1FTlQsIE5BTUUsIENPTVBPTkVOVCwgT1BUSU9OUyApIHtcclxuXHJcbiAgICAgIC8vIElmIHRoZXJl4oCZcyBubyBlbGVtZW50LCByZXR1cm4gdGhlIHBpY2tlciBjb25zdHJ1Y3Rvci5cclxuICAgICAgaWYgKCAhRUxFTUVOVCApIHJldHVybiBQaWNrZXJDb25zdHJ1Y3RvclxyXG5cclxuXHJcbiAgICAgIHZhclxyXG4gICAgICAgICAgSVNfREVGQVVMVF9USEVNRSA9IGZhbHNlLFxyXG5cclxuXHJcbiAgICAgICAgICAvLyBUaGUgc3RhdGUgb2YgdGhlIHBpY2tlci5cclxuICAgICAgICAgIFNUQVRFID0ge1xyXG4gICAgICAgICAgICAgIGlkOiBFTEVNRU5ULmlkIHx8ICdQJyArIE1hdGguYWJzKCB+fihNYXRoLnJhbmRvbSgpICogbmV3IERhdGUoKSkgKVxyXG4gICAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgICAgLy8gTWVyZ2UgdGhlIGRlZmF1bHRzIGFuZCBvcHRpb25zIHBhc3NlZC5cclxuICAgICAgICAgIFNFVFRJTkdTID0gQ09NUE9ORU5UID8gJCQkMS5leHRlbmQoIHRydWUsIHt9LCBDT01QT05FTlQuZGVmYXVsdHMsIE9QVElPTlMgKSA6IE9QVElPTlMgfHwge30sXHJcblxyXG5cclxuICAgICAgICAgIC8vIE1lcmdlIHRoZSBkZWZhdWx0IGNsYXNzZXMgd2l0aCB0aGUgc2V0dGluZ3MgY2xhc3Nlcy5cclxuICAgICAgICAgIENMQVNTRVMgPSAkJCQxLmV4dGVuZCgge30sIFBpY2tlckNvbnN0cnVjdG9yLmtsYXNzZXMoKSwgU0VUVElOR1Mua2xhc3MgKSxcclxuXHJcblxyXG4gICAgICAgICAgLy8gVGhlIGVsZW1lbnQgbm9kZSB3cmFwcGVyIGludG8gYSBqUXVlcnkgb2JqZWN0LlxyXG4gICAgICAgICAgJEVMRU1FTlQgPSAkJCQxKCBFTEVNRU5UICksXHJcblxyXG5cclxuICAgICAgICAgIC8vIFBzZXVkbyBwaWNrZXIgY29uc3RydWN0b3IuXHJcbiAgICAgICAgICBQaWNrZXJJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KClcclxuICAgICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICAgIC8vIFRoZSBwaWNrZXIgcHJvdG90eXBlLlxyXG4gICAgICAgICAgUCA9IFBpY2tlckluc3RhbmNlLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAgICAgICAgICAgY29uc3RydWN0b3I6IFBpY2tlckluc3RhbmNlLFxyXG5cclxuICAgICAgICAgICAgICAkbm9kZTogJEVMRU1FTlQsXHJcblxyXG5cclxuICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgKiBJbml0aWFsaXplIGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYWxyZWFkeSBzdGFydGVkLCBkbyBub3RoaW5nLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoIFNUQVRFICYmIFNUQVRFLnN0YXJ0ICkgcmV0dXJuIFBcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBpY2tlciBzdGF0ZXMuXHJcbiAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgU1RBVEUuc3RhcnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBTVEFURS5vcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIFNUQVRFLnR5cGUgPSBFTEVNRU5ULnR5cGU7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gQ29uZmlybSBmb2N1cyBzdGF0ZSwgY29udmVydCBpbnRvIHRleHQgaW5wdXQgdG8gcmVtb3ZlIFVBIHN0eWxpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAvLyBhbmQgc2V0IGFzIHJlYWRvbmx5IHRvIHByZXZlbnQga2V5Ym9hcmQgcG9wdXAuXHJcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQuYXV0b2ZvY3VzID0gRUxFTUVOVCA9PSBnZXRBY3RpdmVFbGVtZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQucmVhZE9ubHkgPSAhU0VUVElOR1MuZWRpdGFibGU7XHJcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQuaWQgPSBFTEVNRU5ULmlkIHx8IFNUQVRFLmlkO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIEVMRU1FTlQudHlwZSAhPSAndGV4dCcgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBFTEVNRU5ULnR5cGUgPSAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGlja2VyIGNvbXBvbmVudCB3aXRoIHRoZSBzZXR0aW5ncy5cclxuICAgICAgICAgICAgICAgICAgUC5jb21wb25lbnQgPSBuZXcgQ09NUE9ORU5UKFAsIFNFVFRJTkdTKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBpY2tlciByb290IGFuZCB0aGVuIHByZXBhcmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgIFAuJHJvb3QgPSAkJCQxKCAnPGRpdiBjbGFzcz1cIicgKyBDTEFTU0VTLnBpY2tlciArICdcIiBpZD1cIicgKyBFTEVNRU5ULmlkICsgJ19yb290XCIgLz4nICk7XHJcbiAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50Um9vdCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGlja2VyIGhvbGRlciBhbmQgdGhlbiBwcmVwYXJlIGl0LlxyXG4gICAgICAgICAgICAgICAgICBQLiRob2xkZXIgPSAkJCQxKCBjcmVhdGVXcmFwcGVkQ29tcG9uZW50KCkgKS5hcHBlbmRUbyggUC4kcm9vdCApO1xyXG4gICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudEhvbGRlcigpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJl4oCZcyBhIGZvcm1hdCBmb3IgdGhlIGhpZGRlbiBpbnB1dCBlbGVtZW50LCBjcmVhdGUgdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuZm9ybWF0U3VibWl0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZUVsZW1lbnRIaWRkZW4oKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBoaWRkZW4gaW5wdXQgYXMgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5ncy5cclxuICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jb250YWluZXJIaWRkZW4gKSAkJCQxKCBTRVRUSU5HUy5jb250YWluZXJIaWRkZW4gKS5hcHBlbmQoIFAuX2hpZGRlbiApO1xyXG4gICAgICAgICAgICAgICAgICBlbHNlICRFTEVNRU5ULmFmdGVyKCBQLl9oaWRkZW4gKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIHJvb3QgYXMgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5ncy5cclxuICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jb250YWluZXIgKSAkJCQxKCBTRVRUSU5HUy5jb250YWluZXIgKS5hcHBlbmQoIFAuJHJvb3QgKTtcclxuICAgICAgICAgICAgICAgICAgZWxzZSAkRUxFTUVOVC5hZnRlciggUC4kcm9vdCApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIGRlZmF1bHQgY29tcG9uZW50IGFuZCBzZXR0aW5ncyBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgIFAub24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFAuY29tcG9uZW50Lm9uU3RhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IFAuY29tcG9uZW50Lm9uUmVuZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3RvcDogUC5jb21wb25lbnQub25TdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgb3BlbjogUC5jb21wb25lbnQub25PcGVuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IFAuY29tcG9uZW50Lm9uQ2xvc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXQ6IFAuY29tcG9uZW50Lm9uU2V0XHJcbiAgICAgICAgICAgICAgICAgIH0pLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBTRVRUSU5HUy5vblN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBTRVRUSU5HUy5vblJlbmRlcixcclxuICAgICAgICAgICAgICAgICAgICAgIHN0b3A6IFNFVFRJTkdTLm9uU3RvcCxcclxuICAgICAgICAgICAgICAgICAgICAgIG9wZW46IFNFVFRJTkdTLm9uT3BlbixcclxuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBTRVRUSU5HUy5vbkNsb3NlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2V0OiBTRVRUSU5HUy5vblNldFxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBPbmNlIHdl4oCZcmUgYWxsIHNldCwgY2hlY2sgdGhlIHRoZW1lIGluIHVzZS5cclxuICAgICAgICAgICAgICAgICAgSVNfREVGQVVMVF9USEVNRSA9IGlzVXNpbmdEZWZhdWx0VGhlbWUoIFAuJGhvbGRlclswXSApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhdXRvZm9jdXMsIG9wZW4gdGhlIHBpY2tlci5cclxuICAgICAgICAgICAgICAgICAgaWYgKCBFTEVNRU5ULmF1dG9mb2N1cyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIFAub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBxdWV1ZWQgdGhlIOKAnHN0YXJ04oCdIGFuZCDigJxyZW5kZXLigJ0gZXZlbnRzLlxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gUC50cmlnZ2VyKCAnc3RhcnQnICkudHJpZ2dlciggJ3JlbmRlcicgKVxyXG4gICAgICAgICAgICAgIH0sIC8vc3RhcnRcclxuXHJcblxyXG4gICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAqIFJlbmRlciBhIG5ldyBwaWNrZXJcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCBlbnRpcmVDb21wb25lbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgYSBuZXcgY29tcG9uZW50IGhvbGRlciBpbiB0aGUgcm9vdCBvciBib3guXHJcbiAgICAgICAgICAgICAgICAgIGlmICggZW50aXJlQ29tcG9uZW50ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyID0gJCQkMSggY3JlYXRlV3JhcHBlZENvbXBvbmVudCgpICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudEhvbGRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC4kcm9vdC5odG1sKCBQLiRob2xkZXIgKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBlbHNlIFAuJHJvb3QuZmluZCggJy4nICsgQ0xBU1NFUy5ib3ggKS5odG1sKCBQLmNvbXBvbmVudC5ub2RlcyggU1RBVEUub3BlbiApICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBxdWV1ZWQg4oCccmVuZGVy4oCdIGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFAudHJpZ2dlciggJ3JlbmRlcicgKVxyXG4gICAgICAgICAgICAgIH0sIC8vcmVuZGVyXHJcblxyXG5cclxuICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgKiBEZXN0cm95IGV2ZXJ5dGhpbmdcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IHN0b3BwZWQsIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggIVNUQVRFLnN0YXJ0ICkgcmV0dXJuIFBcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFRoZW4gY2xvc2UgdGhlIHBpY2tlci5cclxuICAgICAgICAgICAgICAgICAgUC5jbG9zZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBoaWRkZW4gZmllbGQuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggUC5faGlkZGVuICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC5faGlkZGVuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIFAuX2hpZGRlbiApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJvb3QuXHJcbiAgICAgICAgICAgICAgICAgIFAuJHJvb3QucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGlucHV0IGNsYXNzLCByZW1vdmUgdGhlIHN0b3JlZCBkYXRhLCBhbmQgdW5iaW5kXHJcbiAgICAgICAgICAgICAgICAgIC8vIHRoZSBldmVudHMgKGFmdGVyIGEgdGljayBmb3IgSUUgLSBzZWUgYFAuY2xvc2VgKS5cclxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQucmVtb3ZlQ2xhc3MoIENMQVNTRVMuaW5wdXQgKS5yZW1vdmVEYXRhKCBOQU1FICk7XHJcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJEVMRU1FTlQub2ZmKCAnLicgKyBTVEFURS5pZCApO1xyXG4gICAgICAgICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGVsZW1lbnQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgRUxFTUVOVC50eXBlID0gU1RBVEUudHlwZTtcclxuICAgICAgICAgICAgICAgICAgRUxFTUVOVC5yZWFkT25seSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgcXVldWVkIOKAnHN0b3DigJ0gZXZlbnRzLlxyXG4gICAgICAgICAgICAgICAgICBQLnRyaWdnZXIoICdzdG9wJyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHBpY2tlciBzdGF0ZXMuXHJcbiAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgU1RBVEUuc3RhcnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXHJcbiAgICAgICAgICAgICAgfSwgLy9zdG9wXHJcblxyXG5cclxuICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgKiBPcGVuIHVwIHRoZSBwaWNrZXJcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiggZG9udEdpdmVGb2N1cyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IG9wZW4sIGRvIG5vdGhpbmcuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggU1RBVEUub3BlbiApIHJldHVybiBQXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIOKAnGFjdGl2ZeKAnSBjbGFzcy5cclxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQuYWRkQ2xhc3MoIENMQVNTRVMuYWN0aXZlICk7XHJcbiAgICAgICAgICAgICAgICAgIGFyaWEoIEVMRU1FTlQsICdleHBhbmRlZCcsIHRydWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vICogQSBGaXJlZm94IGJ1Zywgd2hlbiBgaHRtbGAgaGFzIGBvdmVyZmxvdzpoaWRkZW5gLCByZXN1bHRzIGluXHJcbiAgICAgICAgICAgICAgICAgIC8vICAga2lsbGluZyB0cmFuc2l0aW9ucyA6KC4gU28gYWRkIHRoZSDigJxvcGVuZWTigJ0gc3RhdGUgb24gdGhlIG5leHQgdGljay5cclxuICAgICAgICAgICAgICAgICAgLy8gICBCdWc6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYyNTI4OVxyXG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIOKAnG9wZW5lZOKAnSBjbGFzcyB0byB0aGUgcGlja2VyIHJvb3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290LmFkZENsYXNzKCBDTEFTU0VTLm9wZW5lZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXJpYSggUC4kcm9vdFswXSwgJ2hpZGRlbicsIGZhbHNlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICB9LCAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHRvIGdpdmUgZm9jdXMsIGJpbmQgdGhlIGVsZW1lbnQgYW5kIGRvYyBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggZG9udEdpdmVGb2N1cyAhPT0gZmFsc2UgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGl0IGFzIG9wZW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICBTVEFURS5vcGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nLlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBJU19ERUZBVUxUX1RIRU1FICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICRodG1sLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MoICdvdmVyZmxvdycsICdoaWRkZW4nICkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ3BhZGRpbmctcmlnaHQnLCAnKz0nICsgZ2V0U2Nyb2xsYmFyV2lkdGgoKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgZm9jdXMgdG8gdGhlIHJvb3QgZWxlbWVudOKAmXMgalF1ZXJ5IG9iamVjdC5cclxuICAgICAgICAgICAgICAgICAgICAgIGZvY3VzUGlja2VyT25jZU9wZW5lZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIGRvY3VtZW50IGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5vbiggJ2NsaWNrLicgKyBTVEFURS5pZCArICcgZm9jdXNpbi4nICsgU1RBVEUuaWQsIGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBvZiB0aGUgZXZlbnQgaXMgbm90IHRoZSBlbGVtZW50LCBjbG9zZSB0aGUgcGlja2VyIHBpY2tlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIERvbuKAmXQgd29ycnkgYWJvdXQgY2xpY2tzIG9yIGZvY3VzaW5zIG9uIHRoZSByb290IGJlY2F1c2UgdGhvc2UgZG9u4oCZdCBidWJibGUgdXAuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBBbHNvLCBmb3IgRmlyZWZveCwgYSBjbGljayBvbiBhbiBgb3B0aW9uYCBlbGVtZW50IGJ1YmJsZXMgdXAgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHRvIHRoZSBkb2MuIFNvIG1ha2Ugc3VyZSB0aGUgdGFyZ2V0IHdhc24ndCB0aGUgZG9jLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICogSW4gRmlyZWZveCBzdG9wUHJvcGFnYXRpb24oKSBkb2VzbuKAmXQgcHJldmVudCByaWdodC1jbGljayBldmVudHMgZnJvbSBidWJibGluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHdoaWNoIGNhdXNlcyB0aGUgcGlja2VyIHRvIHVuZXhwZWN0ZWRseSBjbG9zZSB3aGVuIHJpZ2h0LWNsaWNraW5nIGl0LiBTbyBtYWtlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBzdXJlIHRoZSBldmVudCB3YXNu4oCZdCBhIHJpZ2h0LWNsaWNrLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGFyZ2V0ICE9IEVMRU1FTlQgJiYgdGFyZ2V0ICE9IGRvY3VtZW50ICYmIGV2ZW50LndoaWNoICE9IDMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IHdhcyB0aGUgaG9sZGVyIHRoYXQgY292ZXJzIHRoZSBzY3JlZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIGVsZW1lbnQgZm9jdXNlZCB0byBtYWludGFpbiB0YWJpbmRleC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdGFyZ2V0ID09PSBQLiRob2xkZXJbMF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgfSkub24oICdrZXlkb3duLicgKyBTVEFURS5pZCwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBrZXljb2RlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXljb2RlID0gZXZlbnQua2V5Q29kZSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYW5zbGF0ZSB0aGF0IHRvIGEgc2VsZWN0aW9uIGNoYW5nZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Y29kZVRvTW92ZSA9IFAuY29tcG9uZW50LmtleVsga2V5Y29kZSBdLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgdGFyZ2V0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBlc2NhcGUsIGNsb3NlIHRoZSBwaWNrZXIgYW5kIGdpdmUgZm9jdXMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBrZXljb2RlID09IDI3ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNsb3NlKCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBrZXkgbW92ZW1lbnQgb3Ig4oCcZW50ZXLigJ0ga2V5cHJlc3Mgb24gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIHRhcmdldCA9PSBQLiRob2xkZXJbMF0gJiYgKCBrZXljb2RlVG9Nb3ZlIHx8IGtleWNvZGUgPT0gMTMgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIHRvIHN0b3AgcGFnZSBtb3ZlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIGtleSBtb3ZlbWVudCBhY3Rpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgga2V5Y29kZVRvTW92ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpY2tlckNvbnN0cnVjdG9yLl8udHJpZ2dlciggUC5jb21wb25lbnQua2V5LmdvLCBQLCBbIFBpY2tlckNvbnN0cnVjdG9yLl8udHJpZ2dlcigga2V5Y29kZVRvTW92ZSApIF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT24g4oCcZW50ZXLigJ0sIGlmIHRoZSBoaWdobGlnaHRlZCBpdGVtIGlzbuKAmXQgZGlzYWJsZWQsIHNldCB0aGUgdmFsdWUgYW5kIGNsb3NlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICggIVAuJHJvb3QuZmluZCggJy4nICsgQ0xBU1NFUy5oaWdobGlnaHRlZCApLmhhc0NsYXNzKCBDTEFTU0VTLmRpc2FibGVkICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLnNldCggJ3NlbGVjdCcsIFAuY29tcG9uZW50Lml0ZW0uaGlnaGxpZ2h0ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmNsb3NlT25TZWxlY3QgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyB3aXRoaW4gdGhlIHJvb3QgYW5kIOKAnGVudGVy4oCdIGlzIHByZXNzZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gYW5kIHRyaWdnZXIgYSBjbGljayBvbiB0aGUgdGFyZ2V0IGluc3RlYWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoICQkJDEuY29udGFpbnMoIFAuJHJvb3RbMF0sIHRhcmdldCApICYmIGtleWNvZGUgPT0gMTMgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBxdWV1ZWQg4oCcb3BlbuKAnSBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnRyaWdnZXIoICdvcGVuJyApXHJcbiAgICAgICAgICAgICAgfSwgLy9vcGVuXHJcblxyXG5cclxuICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgKiBDbG9zZSB0aGUgcGlja2VyXHJcbiAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCBnaXZlRm9jdXMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIGdpdmUgZm9jdXMsIGRvIGl0IGJlZm9yZSBjaGFuZ2luZyBzdGF0ZXMuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggZ2l2ZUZvY3VzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5lZGl0YWJsZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBFTEVNRU5ULmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4uYWggeWVzISBJdCB3b3VsZOKAmXZlIGJlZW4gaW5jb21wbGV0ZSB3aXRob3V0IGEgY3Jhenkgd29ya2Fyb3VuZCBmb3IgSUUgOnxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZm9jdXMgaXMgdHJpZ2dlcmVkICphZnRlciogdGhlIGNsb3NlIGhhcyBjb21wbGV0ZWQgLSBjYXVzaW5nIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gb3BlbiBhZ2Fpbi4gU28gdW5iaW5kIGFuZCByZWJpbmQgdGhlIGV2ZW50IGF0IHRoZSBuZXh0IHRpY2suXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyLm9mZiggJ2ZvY3VzLnRvT3BlbicgKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLiRob2xkZXIub24oICdmb2N1cy50b09wZW4nLCBoYW5kbGVGb2N1c1RvT3BlbkV2ZW50ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIOKAnGFjdGl2ZeKAnSBjbGFzcy5cclxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQucmVtb3ZlQ2xhc3MoIENMQVNTRVMuYWN0aXZlICk7XHJcbiAgICAgICAgICAgICAgICAgIGFyaWEoIEVMRU1FTlQsICdleHBhbmRlZCcsIGZhbHNlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyAqIEEgRmlyZWZveCBidWcsIHdoZW4gYGh0bWxgIGhhcyBgb3ZlcmZsb3c6aGlkZGVuYCwgcmVzdWx0cyBpblxyXG4gICAgICAgICAgICAgICAgICAvLyAgIGtpbGxpbmcgdHJhbnNpdGlvbnMgOiguIFNvIHJlbW92ZSB0aGUg4oCcb3BlbmVk4oCdIHN0YXRlIG9uIHRoZSBuZXh0IHRpY2suXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgQnVnOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02MjUyODlcclxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSDigJxvcGVuZWTigJ0gYW5kIOKAnGZvY3VzZWTigJ0gY2xhc3MgZnJvbSB0aGUgcGlja2VyIHJvb3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290LnJlbW92ZUNsYXNzKCBDTEFTU0VTLm9wZW5lZCArICcgJyArIENMQVNTRVMuZm9jdXNlZCApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXJpYSggUC4kcm9vdFswXSwgJ2hpZGRlbicsIHRydWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIH0sIDAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IGNsb3NlZCwgZG8gbm90aGluZyBtb3JlLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoICFTVEFURS5vcGVuICkgcmV0dXJuIFBcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFNldCBpdCBhcyBjbG9zZWQuXHJcbiAgICAgICAgICAgICAgICAgIFNUQVRFLm9wZW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIEFsbG93IHRoZSBwYWdlIHRvIHNjcm9sbC5cclxuICAgICAgICAgICAgICAgICAgaWYgKCBJU19ERUZBVUxUX1RIRU1FICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJGh0bWwuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzKCAnb3ZlcmZsb3cnLCAnJyApLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ3BhZGRpbmctcmlnaHQnLCAnLT0nICsgZ2V0U2Nyb2xsYmFyV2lkdGgoKSApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBVbmJpbmQgdGhlIGRvY3VtZW50IGV2ZW50cy5cclxuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9mZiggJy4nICsgU1RBVEUuaWQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIHF1ZXVlZCDigJxjbG9zZeKAnSBldmVudHMuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnRyaWdnZXIoICdjbG9zZScgKVxyXG4gICAgICAgICAgICAgIH0sIC8vY2xvc2VcclxuXHJcblxyXG4gICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAqIENsZWFyIHRoZSB2YWx1ZXNcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBjbGVhcjogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnNldCggJ2NsZWFyJywgbnVsbCwgb3B0aW9ucyApXHJcbiAgICAgICAgICAgICAgfSwgLy9jbGVhclxyXG5cclxuXHJcbiAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICogU2V0IHNvbWV0aGluZ1xyXG4gICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIHRoaW5nLCB2YWx1ZSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHZhciB0aGluZ0l0ZW0sIHRoaW5nVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ0lzT2JqZWN0ID0gJCQkMS5pc1BsYWluT2JqZWN0KCB0aGluZyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpbmdPYmplY3QgPSB0aGluZ0lzT2JqZWN0ID8gdGhpbmcgOiB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIHVzYWJsZSBvcHRpb25zLlxyXG4gICAgICAgICAgICAgICAgICBvcHRpb25zID0gdGhpbmdJc09iamVjdCAmJiAkJCQxLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgPyB2YWx1ZSA6IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0aGluZyBpc27igJl0IGFuIG9iamVjdCwgbWFrZSBpdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoICF0aGluZ0lzT2JqZWN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5nT2JqZWN0WyB0aGluZyBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gR28gdGhyb3VnaCB0aGUgdGhpbmdzIG9mIGl0ZW1zIHRvIHNldC5cclxuICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHRoaW5nSXRlbSBpbiB0aGluZ09iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgdmFsdWUgb2YgdGhlIHRoaW5nLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5nVmFsdWUgPSB0aGluZ09iamVjdFsgdGhpbmdJdGVtIF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0LCBpZiB0aGUgaXRlbSBleGlzdHMgYW5kIHRoZXJl4oCZcyBhIHZhbHVlLCBzZXQgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ0l0ZW0gaW4gUC5jb21wb25lbnQuaXRlbSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ1ZhbHVlID09PSB1bmRlZmluZWQgKSB0aGluZ1ZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jb21wb25lbnQuc2V0KCB0aGluZ0l0ZW0sIHRoaW5nVmFsdWUsIG9wdGlvbnMgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZW4sIGNoZWNrIHRvIHVwZGF0ZSB0aGUgZWxlbWVudCB2YWx1ZSBhbmQgYnJvYWRjYXN0IGEgY2hhbmdlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhpbmdJdGVtID09ICdzZWxlY3QnIHx8IHRoaW5nSXRlbSA9PSAnY2xlYXInICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRUxFTUVOVC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCggdGhpbmdJdGVtID09ICdjbGVhcicgPyAnJyA6IFAuZ2V0KCB0aGluZ0l0ZW0sIFNFVFRJTkdTLmZvcm1hdCApICkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyKCAnY2hhbmdlJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgYSBuZXcgcGlja2VyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgUC5yZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgbWV0aG9kIGlzbuKAmXQgbXV0ZWQsIHRyaWdnZXIgcXVldWVkIOKAnHNldOKAnSBldmVudHMgYW5kIHBhc3MgdGhlIGB0aGluZ09iamVjdGAuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm11dGVkID8gUCA6IFAudHJpZ2dlciggJ3NldCcsIHRoaW5nT2JqZWN0IClcclxuICAgICAgICAgICAgICB9LCAvL3NldFxyXG5cclxuXHJcbiAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICogR2V0IHNvbWV0aGluZ1xyXG4gICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIHRoaW5nLCBmb3JtYXQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmXigJlzIHNvbWV0aGluZyB0byBnZXQuXHJcbiAgICAgICAgICAgICAgICAgIHRoaW5nID0gdGhpbmcgfHwgJ3ZhbHVlJztcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIGEgcGlja2VyIHN0YXRlIGV4aXN0cywgcmV0dXJuIHRoYXQuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggU1RBVEVbIHRoaW5nIF0gIT0gbnVsbCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURVsgdGhpbmcgXVxyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHN1Ym1pc3Npb24gdmFsdWUsIGlmIHRoYXQuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggdGhpbmcgPT0gJ3ZhbHVlU3VibWl0JyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICggUC5faGlkZGVuICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQLl9oaWRkZW4udmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nID0gJ3ZhbHVlJztcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSwgaWYgdGhhdC5cclxuICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZyA9PSAndmFsdWUnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVMRU1FTlQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSBjb21wb25lbnQgaXRlbSBleGlzdHMsIHJldHVybiB0aGF0LlxyXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nIGluIFAuY29tcG9uZW50Lml0ZW0gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBmb3JtYXQgPT0gJ3N0cmluZycgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaW5nVmFsdWUgPSBQLmNvbXBvbmVudC5nZXQoIHRoaW5nICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaW5nVmFsdWUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNvbXBvbmVudC5mb3JtYXRzLnRvU3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGZvcm1hdCwgdGhpbmdWYWx1ZSBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuY29tcG9uZW50LmdldCggdGhpbmcgKVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgLy9nZXRcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgKiBCaW5kIGV2ZW50cyBvbiB0aGUgdGhpbmdzLlxyXG4gICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgIG9uOiBmdW5jdGlvbiggdGhpbmcsIG1ldGhvZCwgaW50ZXJuYWwgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICB2YXIgdGhpbmdOYW1lLCB0aGluZ01ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nSXNPYmplY3QgPSAkJCQxLmlzUGxhaW5PYmplY3QoIHRoaW5nICksXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdCA9IHRoaW5nSXNPYmplY3QgPyB0aGluZyA6IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGhpbmcgaXNu4oCZdCBhbiBvYmplY3QsIG1ha2UgaXQgb25lLlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCAhdGhpbmdJc09iamVjdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdFsgdGhpbmcgXSA9IG1ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBHbyB0aHJvdWdoIHRoZSB0aGluZ3MgdG8gYmluZCB0by5cclxuICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHRoaW5nTmFtZSBpbiB0aGluZ09iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgbWV0aG9kIG9mIHRoZSB0aGluZy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ01ldGhvZCA9IHRoaW5nT2JqZWN0WyB0aGluZ05hbWUgXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgd2FzIGFuIGludGVybmFsIGJpbmRpbmcsIHByZWZpeCBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGludGVybmFsICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ05hbWUgPSAnXycgKyB0aGluZ05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHRoaW5nIG1ldGhvZHMgY29sbGVjdGlvbiBleGlzdHMuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBVEUubWV0aG9kc1sgdGhpbmdOYW1lIF0gPSBTVEFURS5tZXRob2RzWyB0aGluZ05hbWUgXSB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBtZXRob2QgdG8gdGhlIHJlbGF0aXZlIG1ldGhvZCBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFNUQVRFLm1ldGhvZHNbIHRoaW5nTmFtZSBdLnB1c2goIHRoaW5nTWV0aG9kICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXHJcbiAgICAgICAgICAgICAgfSwgLy9vblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAqIFVuYmluZCBldmVudHMgb24gdGhlIHRoaW5ncy5cclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICBvZmY6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaSwgdGhpbmdOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZXMgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwLCBuYW1lc0NvdW50ID0gbmFtZXMubGVuZ3RoOyBpIDwgbmFtZXNDb3VudDsgaSArPSAxICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpbmdOYW1lID0gbmFtZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nTmFtZSBpbiBTVEFURS5tZXRob2RzICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBTVEFURS5tZXRob2RzW3RoaW5nTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFBcclxuICAgICAgICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICogRmlyZSBvZmYgbWV0aG9kIGV2ZW50cy5cclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiggbmFtZSwgZGF0YSApIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIF90cmlnZ2VyID0gZnVuY3Rpb24oIG5hbWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kTGlzdCA9IFNUQVRFLm1ldGhvZHNbIG5hbWUgXTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICggbWV0aG9kTGlzdCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RMaXN0Lm1hcCggZnVuY3Rpb24oIG1ldGhvZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBtZXRob2QsIFAsIFsgZGF0YSBdICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIF90cmlnZ2VyKCAnXycgKyBuYW1lICk7XHJcbiAgICAgICAgICAgICAgICAgIF90cmlnZ2VyKCBuYW1lICk7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXHJcbiAgICAgICAgICAgICAgfSAvL3RyaWdnZXJcclxuICAgICAgICAgIH07IC8vUGlja2VySW5zdGFuY2UucHJvdG90eXBlXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFdyYXAgdGhlIHBpY2tlciBob2xkZXIgY29tcG9uZW50cyB0b2dldGhlci5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXBwZWRDb21wb25lbnQoKSB7XHJcblxyXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIHdyYXBwZXIgaG9sZGVyXHJcbiAgICAgICAgICByZXR1cm4gUGlja2VyQ29uc3RydWN0b3IuXy5ub2RlKCAnZGl2JyxcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIHdyYXBwZXIgbm9kZVxyXG4gICAgICAgICAgICAgIFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZSggJ2RpdicsXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaWNrZXIgZnJhbWVcclxuICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy5ub2RlKCAnZGl2JyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaWNrZXIgYm94IG5vZGVcclxuICAgICAgICAgICAgICAgICAgICAgIFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZSggJ2RpdicsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29tcG9uZW50cyBub2Rlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNvbXBvbmVudC5ub2RlcyggU1RBVEUub3BlbiApLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcGlja2VyIGJveCBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIENMQVNTRVMuYm94XHJcbiAgICAgICAgICAgICAgICAgICAgICApLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIFBpY2tlciB3cmFwIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgICBDTEFTU0VTLndyYXBcclxuICAgICAgICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFBpY2tlciBmcmFtZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICBDTEFTU0VTLmZyYW1lXHJcbiAgICAgICAgICAgICAgKSxcclxuXHJcbiAgICAgICAgICAgICAgLy8gUGlja2VyIGhvbGRlciBjbGFzc1xyXG4gICAgICAgICAgICAgIENMQVNTRVMuaG9sZGVyLFxyXG5cclxuICAgICAgICAgICAgICAndGFiaW5kZXg9XCItMVwiJ1xyXG4gICAgICAgICAgKSAvL2VuZHJldHVyblxyXG4gICAgICB9IC8vY3JlYXRlV3JhcHBlZENvbXBvbmVudFxyXG5cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUHJlcGFyZSB0aGUgaW5wdXQgZWxlbWVudCB3aXRoIGFsbCBiaW5kaW5ncy5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50KCkge1xyXG5cclxuICAgICAgICAgICRFTEVNRU5ULlxyXG5cclxuICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgcGlja2VyIGRhdGEgYnkgY29tcG9uZW50IG5hbWUuXHJcbiAgICAgICAgICAgICAgZGF0YShOQU1FLCBQKS5cclxuXHJcbiAgICAgICAgICAgICAgLy8gQWRkIHRoZSDigJxpbnB1dOKAnSBjbGFzcyBuYW1lLlxyXG4gICAgICAgICAgICAgIGFkZENsYXNzKENMQVNTRVMuaW5wdXQpLlxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZeKAmXMgYSBgZGF0YS12YWx1ZWAsIHVwZGF0ZSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgdmFsKCAkRUxFTUVOVC5kYXRhKCd2YWx1ZScpID9cclxuICAgICAgICAgICAgICAgICAgUC5nZXQoJ3NlbGVjdCcsIFNFVFRJTkdTLmZvcm1hdCkgOlxyXG4gICAgICAgICAgICAgICAgICBFTEVNRU5ULnZhbHVlXHJcbiAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgLy8gT25seSBiaW5kIGtleWRvd24gZXZlbnRzIGlmIHRoZSBlbGVtZW50IGlzbuKAmXQgZWRpdGFibGUuXHJcbiAgICAgICAgICBpZiAoICFTRVRUSU5HUy5lZGl0YWJsZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgJEVMRU1FTlQuXHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBPbiBmb2N1cy9jbGljaywgb3BlbiB0aGUgcGlja2VyLlxyXG4gICAgICAgICAgICAgICAgICBvbiggJ2ZvY3VzLicgKyBTVEFURS5pZCArICcgY2xpY2suJyArIFNUQVRFLmlkLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIFAub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICB9KS5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBrZXlib2FyZCBldmVudCBiYXNlZCBvbiB0aGUgcGlja2VyIGJlaW5nIG9wZW5lZCBvciBub3QuXHJcbiAgICAgICAgICAgICAgICAgIG9uKCAna2V5ZG93bi4nICsgU1RBVEUuaWQsIGhhbmRsZUtleWRvd25FdmVudCApO1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIGFyaWEgYXR0cmlidXRlcy5cclxuICAgICAgICAgIGFyaWEoRUxFTUVOVCwge1xyXG4gICAgICAgICAgICAgIGhhc3BvcHVwOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICByZWFkb25seTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgb3duczogRUxFTUVOVC5pZCArICdfcm9vdCdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFByZXBhcmUgdGhlIHJvb3QgcGlja2VyIGVsZW1lbnQgd2l0aCBhbGwgYmluZGluZ3MuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBwcmVwYXJlRWxlbWVudFJvb3QoKSB7XHJcbiAgICAgICAgICBhcmlhKCBQLiRyb290WzBdLCAnaGlkZGVuJywgdHJ1ZSApO1xyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgIC8qKlxyXG4gICAgICAgICogUHJlcGFyZSB0aGUgaG9sZGVyIHBpY2tlciBlbGVtZW50IHdpdGggYWxsIGJpbmRpbmdzLlxyXG4gICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50SG9sZGVyKCkge1xyXG5cclxuICAgICAgICAgIFAuJGhvbGRlci5cclxuXHJcbiAgICAgICAgICAgICAgb24oe1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gRm9yIGlPUzguXHJcbiAgICAgICAgICAgICAgICAgIGtleWRvd246IGhhbmRsZUtleWRvd25FdmVudCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICdmb2N1cy50b09wZW4nOiBoYW5kbGVGb2N1c1RvT3BlbkV2ZW50LFxyXG5cclxuICAgICAgICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIOKAnHRhcmdldOKAnSBjbGFzcy5cclxuICAgICAgICAgICAgICAgICAgICAgICRFTEVNRU5ULnJlbW92ZUNsYXNzKCBDTEFTU0VTLnRhcmdldCApO1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiBzb21ldGhpbmcgd2l0aGluIHRoZSBob2xkZXIgaXMgZm9jdXNlZCwgc3RvcCBmcm9tIGJ1YmJsaW5nXHJcbiAgICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBkb2MgYW5kIHJlbW92ZSB0aGUg4oCcZm9jdXNlZOKAnSBzdGF0ZSBmcm9tIHRoZSByb290LlxyXG4gICAgICAgICAgICAgICAgICBmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290LnJlbW92ZUNsYXNzKCBDTEFTU0VTLmZvY3VzZWQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiBzb21ldGhpbmcgd2l0aGluIHRoZSBob2xkZXIgaXMgY2xpY2tlZCwgc3RvcCBpdFxyXG4gICAgICAgICAgICAgICAgICAvLyBmcm9tIGJ1YmJsaW5nIHRvIHRoZSBkb2MuXHJcbiAgICAgICAgICAgICAgICAgICdtb3VzZWRvd24gY2xpY2snOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHRhcmdldCBpc27igJl0IHRoZSByb290IGhvbGRlciBzbyBpdCBjYW4gYnViYmxlIHVwLlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXJnZXQgIT0gUC4kaG9sZGVyWzBdICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiBGb3IgbW91c2Vkb3duIGV2ZW50cywgY2FuY2VsIHRoZSBkZWZhdWx0IGFjdGlvbiBpbiBvcmRlciB0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgcHJldmVudCBjYXNlcyB3aGVyZSBmb2N1cyBpcyBzaGlmdGVkIG9udG8gZXh0ZXJuYWwgZWxlbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHdoZW4gdXNpbmcgdGhpbmdzIGxpa2UgalF1ZXJ5IG1vYmlsZSBvciBNYWduaWZpY1BvcHVwIChyZWY6ICMyNDkgJiAjMTIwKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIEFsc28sIGZvciBGaXJlZm94LCBkb27igJl0IHByZXZlbnQgYWN0aW9uIG9uIHRoZSBgb3B0aW9uYCBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZXZlbnQudHlwZSA9PSAnbW91c2Vkb3duJyAmJiAhJCQkMSggdGFyZ2V0ICkuaXMoICdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYnV0dG9uLCBvcHRpb24nICkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1mb2N1cyBvbnRvIHRoZSBob2xkZXIgc28gdGhhdCB1c2VycyBjYW4gY2xpY2sgYXdheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIGVsZW1lbnRzIGZvY3VzZWQgd2l0aGluIHRoZSBwaWNrZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuJGhvbGRlclswXS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9KS5cclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmXigJlzIGEgY2xpY2sgb24gYW4gYWN0aW9uYWJsZSBlbGVtZW50LCBjYXJyeSBvdXQgdGhlIGFjdGlvbnMuXHJcbiAgICAgICAgICAgICAgb24oICdjbGljaycsICdbZGF0YS1waWNrXSwgW2RhdGEtbmF2XSwgW2RhdGEtY2xlYXJdLCBbZGF0YS1jbG9zZV0nLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCQkMSggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YSA9ICR0YXJnZXQuZGF0YSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGlzYWJsZWQgPSAkdGFyZ2V0Lmhhc0NsYXNzKCBDTEFTU0VTLm5hdkRpc2FibGVkICkgfHwgJHRhcmdldC5oYXNDbGFzcyggQ0xBU1NFUy5kaXNhYmxlZCApLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vICogRm9yIElFLCBub24tZm9jdXNhYmxlIGVsZW1lbnRzIGNhbiBiZSBhY3RpdmUgZWxlbWVudHMgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gICAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY4NDU2MSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IGFjdGl2ZUVsZW1lbnQgJiYgKCBhY3RpdmVFbGVtZW50LnR5cGUgfHwgYWN0aXZlRWxlbWVudC5ocmVmICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgZGlzYWJsZWQgb3Igbm90aGluZyBpbnNpZGUgaXMgYWN0aXZlbHkgZm9jdXNlZCwgcmUtZm9jdXMgdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggdGFyZ2V0RGlzYWJsZWQgfHwgYWN0aXZlRWxlbWVudCAmJiAhJCQkMS5jb250YWlucyggUC4kcm9vdFswXSwgYWN0aXZlRWxlbWVudCApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBzdXBlcmZpY2lhbGx5IGNoYW5nZWQsIHVwZGF0ZSB0aGUgYGhpZ2hsaWdodGAgYmFzZWQgb24gdGhlIGBuYXZgLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoICF0YXJnZXREaXNhYmxlZCAmJiB0YXJnZXREYXRhLm5hdiApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIFAuc2V0KCAnaGlnaGxpZ2h0JywgUC5jb21wb25lbnQuaXRlbS5oaWdobGlnaHQsIHsgbmF2OiB0YXJnZXREYXRhLm5hdiB9ICk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBwaWNrZWQsIHNldCBgc2VsZWN0YCB0aGVuIGNsb3NlIHdpdGggZm9jdXMuXHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAhdGFyZ2V0RGlzYWJsZWQgJiYgJ3BpY2snIGluIHRhcmdldERhdGEgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBQLnNldCggJ3NlbGVjdCcsIHRhcmdldERhdGEucGljayApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jbG9zZU9uU2VsZWN0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gSWYgYSDigJxjbGVhcuKAnSBidXR0b24gaXMgcHJlc3NlZCwgZW1wdHkgdGhlIHZhbHVlcyBhbmQgY2xvc2Ugd2l0aCBmb2N1cy5cclxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIHRhcmdldERhdGEuY2xlYXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBQLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmNsb3NlT25DbGVhciApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNsb3NlKCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCB0YXJnZXREYXRhLmNsb3NlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIH0pOyAvL1AuJGhvbGRlclxyXG5cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAvKipcclxuICAgICAgICAqIFByZXBhcmUgdGhlIGhpZGRlbiBpbnB1dCBlbGVtZW50IGFsb25nIHdpdGggYWxsIGJpbmRpbmdzLlxyXG4gICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50SGlkZGVuKCkge1xyXG5cclxuICAgICAgICAgIHZhciBuYW1lO1xyXG5cclxuICAgICAgICAgIGlmICggU0VUVElOR1MuaGlkZGVuTmFtZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgICAgICBuYW1lID0gRUxFTUVOVC5uYW1lO1xyXG4gICAgICAgICAgICAgIEVMRU1FTlQubmFtZSA9ICcnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgbmFtZSA9IFtcclxuICAgICAgICAgICAgICAgICAgdHlwZW9mIFNFVFRJTkdTLmhpZGRlblByZWZpeCA9PSAnc3RyaW5nJyA/IFNFVFRJTkdTLmhpZGRlblByZWZpeCA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgU0VUVElOR1MuaGlkZGVuU3VmZml4ID09ICdzdHJpbmcnID8gU0VUVElOR1MuaGlkZGVuU3VmZml4IDogJ19zdWJtaXQnXHJcbiAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICBuYW1lID0gbmFtZVswXSArIEVMRU1FTlQubmFtZSArIG5hbWVbMV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgUC5faGlkZGVuID0gJCQkMShcclxuICAgICAgICAgICAgICAnPGlucHV0ICcgK1xyXG4gICAgICAgICAgICAgICd0eXBlPWhpZGRlbiAnICtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBuYW1lIHVzaW5nIHRoZSBvcmlnaW5hbCBpbnB1dOKAmXMgd2l0aCBhIHByZWZpeCBhbmQgc3VmZml4LlxyXG4gICAgICAgICAgICAgICduYW1lPVwiJyArIG5hbWUgKyAnXCInICtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgdmFsdWUsIHNldCB0aGUgaGlkZGVuIHZhbHVlIGFzIHdlbGwuXHJcbiAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAkRUxFTUVOVC5kYXRhKCd2YWx1ZScpIHx8IEVMRU1FTlQudmFsdWUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgJyB2YWx1ZT1cIicgKyBQLmdldCgnc2VsZWN0JywgU0VUVElOR1MuZm9ybWF0U3VibWl0KSArICdcIicgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgJydcclxuICAgICAgICAgICAgICApICtcclxuICAgICAgICAgICAgICAnPidcclxuICAgICAgICAgIClbMF07XHJcblxyXG4gICAgICAgICAgJEVMRU1FTlQuXHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBjaGFuZ2VzLCB1cGRhdGUgdGhlIGhpZGRlbiBpbnB1dCB3aXRoIHRoZSBjb3JyZWN0IGZvcm1hdC5cclxuICAgICAgICAgICAgICBvbignY2hhbmdlLicgKyBTVEFURS5pZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIFAuX2hpZGRlbi52YWx1ZSA9IEVMRU1FTlQudmFsdWUgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgUC5nZXQoJ3NlbGVjdCcsIFNFVFRJTkdTLmZvcm1hdFN1Ym1pdCkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgJyc7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvLyBXYWl0IGZvciB0cmFuc2l0aW9ucyB0byBlbmQgYmVmb3JlIGZvY3VzaW5nIHRoZSBob2xkZXIuIE90aGVyd2lzZSwgd2hpbGVcclxuICAgICAgLy8gdXNpbmcgdGhlIGBjb250YWluZXJgIG9wdGlvbiwgdGhlIHZpZXcganVtcHMgdG8gdGhlIGNvbnRhaW5lci5cclxuICAgICAgZnVuY3Rpb24gZm9jdXNQaWNrZXJPbmNlT3BlbmVkKCkge1xyXG5cclxuICAgICAgICAgIGlmIChJU19ERUZBVUxUX1RIRU1FICYmIHN1cHBvcnRzVHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgICBQLiRob2xkZXIuZmluZCgnLicgKyBDTEFTU0VTLmZyYW1lKS5vbmUoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICBQLiRob2xkZXJbMF0uZm9jdXMoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzVG9PcGVuRXZlbnQoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAvLyBTdG9wIHRoZSBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIHRoZSBkb2MuXHJcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgdGhlIOKAnHRhcmdldOKAnSBjbGFzcy5cclxuICAgICAgICAgICRFTEVNRU5ULmFkZENsYXNzKCBDTEFTU0VTLnRhcmdldCApO1xyXG5cclxuICAgICAgICAgIC8vIEFkZCB0aGUg4oCcZm9jdXNlZOKAnSBjbGFzcyB0byB0aGUgcm9vdC5cclxuICAgICAgICAgIFAuJHJvb3QuYWRkQ2xhc3MoIENMQVNTRVMuZm9jdXNlZCApO1xyXG5cclxuICAgICAgICAgIC8vIEFuZCB0aGVuIGZpbmFsbHkgb3BlbiB0aGUgcGlja2VyLlxyXG4gICAgICAgICAgUC5vcGVuKCk7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvLyBGb3IgaU9TOC5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlS2V5ZG93bkV2ZW50KCBldmVudCApIHtcclxuXHJcbiAgICAgICAgICB2YXIga2V5Y29kZSA9IGV2ZW50LmtleUNvZGUsXHJcblxyXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIG9uZSBvZiB0aGUgZGVsZXRlIGtleXMgd2FzIHByZXNzZWQuXHJcbiAgICAgICAgICAgICAgaXNLZXljb2RlRGVsZXRlID0gL14oOHw0NikkLy50ZXN0KGtleWNvZGUpO1xyXG5cclxuICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBJRSBjbGVhcnMgdGhlIGlucHV0IHZhbHVlIG9uIOKAnGVzY2FwZeKAnS5cclxuICAgICAgICAgIGlmICgga2V5Y29kZSA9PSAyNyApIHtcclxuICAgICAgICAgICAgICBQLmNsb3NlKCB0cnVlICk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgYHNwYWNlYCBvciBgZGVsZXRlYCB3YXMgcHJlc3NlZCBvciB0aGUgcGlja2VyIGlzIGNsb3NlZCB3aXRoIGEga2V5IG1vdmVtZW50LlxyXG4gICAgICAgICAgaWYgKCBrZXljb2RlID09IDMyIHx8IGlzS2V5Y29kZURlbGV0ZSB8fCAhU1RBVEUub3BlbiAmJiBQLmNvbXBvbmVudC5rZXlba2V5Y29kZV0gKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFByZXZlbnQgaXQgZnJvbSBtb3ZpbmcgdGhlIHBhZ2UgYW5kIGJ1YmJsaW5nIHRvIGRvYy5cclxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBgZGVsZXRlYCB3YXMgcHJlc3NlZCwgY2xlYXIgdGhlIHZhbHVlcyBhbmQgY2xvc2UgdGhlIHBpY2tlci5cclxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugb3BlbiB0aGUgcGlja2VyLlxyXG4gICAgICAgICAgICAgIGlmICggaXNLZXljb2RlRGVsZXRlICkgeyBQLmNsZWFyKCkuY2xvc2UoKTsgfVxyXG4gICAgICAgICAgICAgIGVsc2UgeyBQLm9wZW4oKTsgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLy8gUmV0dXJuIGEgbmV3IHBpY2tlciBpbnN0YW5jZS5cclxuICAgICAgcmV0dXJuIG5ldyBQaWNrZXJJbnN0YW5jZSgpXHJcbiAgfSAvL1BpY2tlckNvbnN0cnVjdG9yXHJcblxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGRlZmF1bHQgY2xhc3NlcyBhbmQgcHJlZml4IHRvIHVzZSBmb3IgdGhlIEhUTUwgY2xhc3Nlcy5cclxuICAgKi9cclxuICBQaWNrZXJDb25zdHJ1Y3Rvci5rbGFzc2VzID0gZnVuY3Rpb24oIHByZWZpeCApIHtcclxuICAgICAgcHJlZml4ID0gcHJlZml4IHx8ICdwaWNrZXInO1xyXG4gICAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICAgIHBpY2tlcjogcHJlZml4LFxyXG4gICAgICAgICAgb3BlbmVkOiBwcmVmaXggKyAnLS1vcGVuZWQnLFxyXG4gICAgICAgICAgZm9jdXNlZDogcHJlZml4ICsgJy0tZm9jdXNlZCcsXHJcblxyXG4gICAgICAgICAgaW5wdXQ6IHByZWZpeCArICdfX2lucHV0JyxcclxuICAgICAgICAgIGFjdGl2ZTogcHJlZml4ICsgJ19faW5wdXQtLWFjdGl2ZScsXHJcbiAgICAgICAgICB0YXJnZXQ6IHByZWZpeCArICdfX2lucHV0LS10YXJnZXQnLFxyXG5cclxuICAgICAgICAgIGhvbGRlcjogcHJlZml4ICsgJ19faG9sZGVyJyxcclxuXHJcbiAgICAgICAgICBmcmFtZTogcHJlZml4ICsgJ19fZnJhbWUnLFxyXG4gICAgICAgICAgd3JhcDogcHJlZml4ICsgJ19fd3JhcCcsXHJcblxyXG4gICAgICAgICAgYm94OiBwcmVmaXggKyAnX19ib3gnXHJcbiAgICAgIH1cclxuICB9OyAvL1BpY2tlckNvbnN0cnVjdG9yLmtsYXNzZXNcclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgZGVmYXVsdCB0aGVtZSBpcyBiZWluZyB1c2VkLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzVXNpbmdEZWZhdWx0VGhlbWUoIGVsZW1lbnQgKSB7XHJcblxyXG4gICAgICB2YXIgdGhlbWUsXHJcbiAgICAgICAgICBwcm9wID0gJ3Bvc2l0aW9uJztcclxuXHJcbiAgICAgIC8vIEZvciBJRS5cclxuICAgICAgaWYgKCBlbGVtZW50LmN1cnJlbnRTdHlsZSApIHtcclxuICAgICAgICAgIHRoZW1lID0gZWxlbWVudC5jdXJyZW50U3R5bGVbcHJvcF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZvciBub3JtYWwgYnJvd3NlcnMuXHJcbiAgICAgIGVsc2UgaWYgKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSApIHtcclxuICAgICAgICAgIHRoZW1lID0gZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApW3Byb3BdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhlbWUgPT0gJ2ZpeGVkJ1xyXG4gIH1cclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHdpZHRoIG9mIHRoZSBicm93c2Vy4oCZcyBzY3JvbGxiYXIuXHJcbiAgICogVGFrZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL1ZvZGthQmVhcnMvUmVtb2RhbC9ibG9iL21hc3Rlci9zcmMvanF1ZXJ5LnJlbW9kYWwuanNcclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcclxuXHJcbiAgICAgIGlmICggJGh0bWwuaGVpZ2h0KCkgPD0gJHdpbmRvdy5oZWlnaHQoKSApIHtcclxuICAgICAgICAgIHJldHVybiAwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciAkb3V0ZXIgPSAkJCQxKCAnPGRpdiBzdHlsZT1cInZpc2liaWxpdHk6aGlkZGVuO3dpZHRoOjEwMHB4XCIgLz4nICkuXHJcbiAgICAgICAgICBhcHBlbmRUbyggJ2JvZHknICk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHdpZHRoIHdpdGhvdXQgc2Nyb2xsYmFycy5cclxuICAgICAgdmFyIHdpZHRoV2l0aG91dFNjcm9sbCA9ICRvdXRlclswXS5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgIC8vIEZvcmNlIGFkZGluZyBzY3JvbGxiYXJzLlxyXG4gICAgICAkb3V0ZXIuY3NzKCAnb3ZlcmZsb3cnLCAnc2Nyb2xsJyApO1xyXG5cclxuICAgICAgLy8gQWRkIHRoZSBpbm5lciBkaXYuXHJcbiAgICAgIHZhciAkaW5uZXIgPSAkJCQxKCAnPGRpdiBzdHlsZT1cIndpZHRoOjEwMCVcIiAvPicgKS5hcHBlbmRUbyggJG91dGVyICk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHdpZHRoIHdpdGggc2Nyb2xsYmFycy5cclxuICAgICAgdmFyIHdpZHRoV2l0aFNjcm9sbCA9ICRpbm5lclswXS5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgZGl2cy5cclxuICAgICAgJG91dGVyLnJlbW92ZSgpO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHdpZHRocy5cclxuICAgICAgcmV0dXJuIHdpZHRoV2l0aG91dFNjcm9sbCAtIHdpZHRoV2l0aFNjcm9sbFxyXG4gIH1cclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiBQaWNrZXJDb25zdHJ1Y3RvciBoZWxwZXIgbWV0aG9kcy5cclxuICAgKi9cclxuICBQaWNrZXJDb25zdHJ1Y3Rvci5fID0ge1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENyZWF0ZSBhIGdyb3VwIG9mIG5vZGVzLiBFeHBlY3RzOlxyXG4gICAgICAgKiBgXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgbWluOiAgICB7SW50ZWdlcn0sXHJcbiAgICAgICAgICAgICAgbWF4OiAgICB7SW50ZWdlcn0sXHJcbiAgICAgICAgICAgICAgaTogICAgICB7SW50ZWdlcn0sXHJcbiAgICAgICAgICAgICAgbm9kZTogICB7U3RyaW5nfSxcclxuICAgICAgICAgICAgICBpdGVtOiAgIHtGdW5jdGlvbn1cclxuICAgICAgICAgIH1cclxuICAgICAgICogYFxyXG4gICAgICAgKi9cclxuICAgICAgZ3JvdXA6IGZ1bmN0aW9uKCBncm91cE9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICB2YXJcclxuICAgICAgICAgICAgICAvLyBTY29wZSBmb3IgdGhlIGxvb3BlZCBvYmplY3RcclxuICAgICAgICAgICAgICBsb29wT2JqZWN0U2NvcGUsXHJcblxyXG4gICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbm9kZXMgbGlzdFxyXG4gICAgICAgICAgICAgIG5vZGVzTGlzdCA9ICcnLFxyXG5cclxuICAgICAgICAgICAgICAvLyBUaGUgY291bnRlciBzdGFydHMgZnJvbSB0aGUgYG1pbmBcclxuICAgICAgICAgICAgICBjb3VudGVyID0gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBncm91cE9iamVjdC5taW4sIGdyb3VwT2JqZWN0ICk7XHJcblxyXG5cclxuICAgICAgICAgIC8vIExvb3AgZnJvbSB0aGUgYG1pbmAgdG8gYG1heGAsIGluY3JlbWVudGluZyBieSBgaWBcclxuICAgICAgICAgIGZvciAoIDsgY291bnRlciA8PSBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIGdyb3VwT2JqZWN0Lm1heCwgZ3JvdXBPYmplY3QsIFsgY291bnRlciBdICk7IGNvdW50ZXIgKz0gZ3JvdXBPYmplY3QuaSApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgYGl0ZW1gIGZ1bmN0aW9uIHdpdGhpbiBzY29wZSBvZiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlID0gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBncm91cE9iamVjdC5pdGVtLCBncm91cE9iamVjdCwgWyBjb3VudGVyIF0gKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU3BsaWNlIHRoZSBzdWJncm91cCBhbmQgY3JlYXRlIG5vZGVzIG91dCBvZiB0aGUgc3ViIG5vZGVzXHJcbiAgICAgICAgICAgICAgbm9kZXNMaXN0ICs9IFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZShcclxuICAgICAgICAgICAgICAgICAgZ3JvdXBPYmplY3Qubm9kZSxcclxuICAgICAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlWyAwIF0sICAgLy8gdGhlIG5vZGVcclxuICAgICAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlWyAxIF0sICAgLy8gdGhlIGNsYXNzZXNcclxuICAgICAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlWyAyIF0gICAgLy8gdGhlIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJldHVybiB0aGUgbGlzdCBvZiBub2Rlc1xyXG4gICAgICAgICAgcmV0dXJuIG5vZGVzTGlzdFxyXG4gICAgICB9LCAvL2dyb3VwXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENyZWF0ZSBhIGRvbSBub2RlIHN0cmluZ1xyXG4gICAgICAgKi9cclxuICAgICAgbm9kZTogZnVuY3Rpb24oIHdyYXBwZXIsIGl0ZW0sIGtsYXNzLCBhdHRyaWJ1dGUgKSB7XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgZmFsc2UteSwganVzdCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbiAgICAgICAgICBpZiAoICFpdGVtICkgcmV0dXJuICcnXHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgYW4gYXJyYXksIGRvIGEgam9pblxyXG4gICAgICAgICAgaXRlbSA9ICQkJDEuaXNBcnJheSggaXRlbSApID8gaXRlbS5qb2luKCAnJyApIDogaXRlbTtcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGNsYXNzXHJcbiAgICAgICAgICBrbGFzcyA9IGtsYXNzID8gJyBjbGFzcz1cIicgKyBrbGFzcyArICdcIicgOiAnJztcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBmb3IgYW55IGF0dHJpYnV0ZXNcclxuICAgICAgICAgIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZSA/ICcgJyArIGF0dHJpYnV0ZSA6ICcnO1xyXG5cclxuICAgICAgICAgIC8vIFJldHVybiB0aGUgd3JhcHBlZCBpdGVtXHJcbiAgICAgICAgICByZXR1cm4gJzwnICsgd3JhcHBlciArIGtsYXNzICsgYXR0cmlidXRlICsgJz4nICsgaXRlbSArICc8LycgKyB3cmFwcGVyICsgJz4nXHJcbiAgICAgIH0sIC8vbm9kZVxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBMZWFkIG51bWJlcnMgYmVsb3cgMTAgd2l0aCBhIHplcm8uXHJcbiAgICAgICAqL1xyXG4gICAgICBsZWFkOiBmdW5jdGlvbiggbnVtYmVyICkge1xyXG4gICAgICAgICAgcmV0dXJuICggbnVtYmVyIDwgMTAgPyAnMCc6ICcnICkgKyBudW1iZXJcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogVHJpZ2dlciBhIGZ1bmN0aW9uIG90aGVyd2lzZSByZXR1cm4gdGhlIHZhbHVlLlxyXG4gICAgICAgKi9cclxuICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBzY29wZSwgYXJncyApIHtcclxuICAgICAgICAgIHJldHVybiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrLmFwcGx5KCBzY29wZSwgYXJncyB8fCBbXSApIDogY2FsbGJhY2tcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogSWYgdGhlIHNlY29uZCBjaGFyYWN0ZXIgaXMgYSBkaWdpdCwgbGVuZ3RoIGlzIDIgb3RoZXJ3aXNlIDEuXHJcbiAgICAgICAqL1xyXG4gICAgICBkaWdpdHM6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XHJcbiAgICAgICAgICByZXR1cm4gKCAvXFxkLyApLnRlc3QoIHN0cmluZ1sgMSBdICkgPyAyIDogMVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUZWxsIGlmIHNvbWV0aGluZyBpcyBhIGRhdGUgb2JqZWN0LlxyXG4gICAgICAgKi9cclxuICAgICAgaXNEYXRlOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcbiAgICAgICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCggdmFsdWUgKS5pbmRleE9mKCAnRGF0ZScgKSA+IC0xICYmIHRoaXMuaXNJbnRlZ2VyKCB2YWx1ZS5nZXREYXRlKCkgKVxyXG4gICAgICB9LFxyXG5cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUZWxsIGlmIHNvbWV0aGluZyBpcyBhbiBpbnRlZ2VyLlxyXG4gICAgICAgKi9cclxuICAgICAgaXNJbnRlZ2VyOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcbiAgICAgICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCggdmFsdWUgKS5pbmRleE9mKCAnTnVtYmVyJyApID4gLTEgJiYgdmFsdWUgJSAxID09PSAwXHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENyZWF0ZSBBUklBIGF0dHJpYnV0ZSBzdHJpbmdzLlxyXG4gICAgICAgKi9cclxuICAgICAgYXJpYUF0dHI6IGFyaWFBdHRyXHJcbiAgfTsgLy9QaWNrZXJDb25zdHJ1Y3Rvci5fXHJcblxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRXh0ZW5kIHRoZSBwaWNrZXIgd2l0aCBhIGNvbXBvbmVudCBhbmQgZGVmYXVsdHMuXHJcbiAgICovXHJcbiAgUGlja2VyQ29uc3RydWN0b3IuZXh0ZW5kID0gZnVuY3Rpb24oIG5hbWUsIENvbXBvbmVudCApIHtcclxuXHJcbiAgICAgIC8vIEV4dGVuZCBqUXVlcnkuXHJcbiAgICAgICQkJDEuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBhY3Rpb24gKSB7XHJcblxyXG4gICAgICAgICAgLy8gR3JhYiB0aGUgY29tcG9uZW50IGRhdGEuXHJcbiAgICAgICAgICB2YXIgY29tcG9uZW50RGF0YSA9IHRoaXMuZGF0YSggbmFtZSApO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBwaWNrZXIgaXMgcmVxdWVzdGVkLCByZXR1cm4gdGhlIGRhdGEgb2JqZWN0LlxyXG4gICAgICAgICAgaWYgKCBvcHRpb25zID09ICdwaWNrZXInICkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnREYXRhXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIGNvbXBvbmVudCBkYXRhIGV4aXN0cyBhbmQgYG9wdGlvbnNgIGlzIGEgc3RyaW5nLCBjYXJyeSBvdXQgdGhlIGFjdGlvbi5cclxuICAgICAgICAgIGlmICggY29tcG9uZW50RGF0YSAmJiB0eXBlb2Ygb3B0aW9ucyA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgICAgICAgICByZXR1cm4gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBjb21wb25lbnREYXRhWyBvcHRpb25zIF0sIGNvbXBvbmVudERhdGEsIFsgYWN0aW9uIF0gKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIGVhY2ggbWF0Y2hlZCBlbGVtZW50IGFuZCBpZiB0aGUgY29tcG9uZW50XHJcbiAgICAgICAgICAvLyBkb2VzbuKAmXQgZXhpc3QsIGNyZWF0ZSBhIG5ldyBwaWNrZXIgdXNpbmcgYHRoaXNgIGVsZW1lbnRcclxuICAgICAgICAgIC8vIGFuZCBtZXJnaW5nIHRoZSBkZWZhdWx0cyBhbmQgb3B0aW9ucyB3aXRoIGEgZGVlcCBjb3B5LlxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCQkMSggdGhpcyApO1xyXG4gICAgICAgICAgICAgIGlmICggISR0aGlzLmRhdGEoIG5hbWUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgbmV3IFBpY2tlckNvbnN0cnVjdG9yKCB0aGlzLCBuYW1lLCBDb21wb25lbnQsIG9wdGlvbnMgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0cy5cclxuICAgICAgJCQkMS5mblsgbmFtZSBdLmRlZmF1bHRzID0gQ29tcG9uZW50LmRlZmF1bHRzO1xyXG4gIH07IC8vUGlja2VyQ29uc3RydWN0b3IuZXh0ZW5kXHJcblxyXG5cclxuXHJcbiAgZnVuY3Rpb24gYXJpYShlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KGF0dHJpYnV0ZSkgKSB7XHJcbiAgICAgICAgICBmb3IgKCB2YXIga2V5IGluIGF0dHJpYnV0ZSApIHtcclxuICAgICAgICAgICAgICBhcmlhU2V0KGVsZW1lbnQsIGtleSwgYXR0cmlidXRlW2tleV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgYXJpYVNldChlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiBhcmlhU2V0KGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAoYXR0cmlidXRlID09ICdyb2xlJyA/ICcnIDogJ2FyaWEtJykgKyBhdHRyaWJ1dGUsXHJcbiAgICAgICAgICB2YWx1ZVxyXG4gICAgICApO1xyXG4gIH1cclxuICBmdW5jdGlvbiBhcmlhQXR0cihhdHRyaWJ1dGUsIGRhdGEpIHtcclxuICAgICAgaWYgKCAhJCQkMS5pc1BsYWluT2JqZWN0KGF0dHJpYnV0ZSkgKSB7XHJcbiAgICAgICAgICBhdHRyaWJ1dGUgPSB7IGF0dHJpYnV0ZTogZGF0YSB9O1xyXG4gICAgICB9XHJcbiAgICAgIGRhdGEgPSAnJztcclxuICAgICAgZm9yICggdmFyIGtleSBpbiBhdHRyaWJ1dGUgKSB7XHJcbiAgICAgICAgICB2YXIgYXR0ciA9IChrZXkgPT0gJ3JvbGUnID8gJycgOiAnYXJpYS0nKSArIGtleSxcclxuICAgICAgICAgICAgICBhdHRyVmFsID0gYXR0cmlidXRlW2tleV07XHJcbiAgICAgICAgICBkYXRhICs9IGF0dHJWYWwgPT0gbnVsbCA/ICcnIDogYXR0ciArICc9XCInICsgYXR0cmlidXRlW2tleV0gKyAnXCInO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgfVxyXG5cclxuICAvLyBJRTggYnVnIHRocm93cyBhbiBlcnJvciBmb3IgYWN0aXZlRWxlbWVudHMgd2l0aGluIGlmcmFtZXMuXHJcbiAgZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudCgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50XHJcbiAgICAgIH0gY2F0Y2ggKCBlcnIgKSB7IH1cclxuICB9XHJcblxyXG5cclxuXHJcbiAgLy8gRXhwb3NlIHRoZSBwaWNrZXIgY29uc3RydWN0b3IuXHJcbiAgcmV0dXJuIFBpY2tlckNvbnN0cnVjdG9yXHJcblxyXG5cclxuICB9KSk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwaWNrZXIkMSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcclxuICAgIGRlZmF1bHQ6IHBpY2tlcixcclxuICAgIF9fbW9kdWxlRXhwb3J0czogcGlja2VyXHJcbiAgfSk7XHJcblxyXG4gIHZhciByZXF1aXJlJCQwID0gKCBwaWNrZXIkMSAmJiBwaWNrZXIgKSB8fCBwaWNrZXIkMTtcclxuXHJcbiAgdmFyIHBpY2tlcl9kYXRlID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xyXG4gIC8qIVxyXG4gICAqIERhdGUgcGlja2VyIGZvciBwaWNrYWRhdGUuanMgdjMuNS42XHJcbiAgICogaHR0cDovL2Ftc3VsLmdpdGh1Yi5pby9waWNrYWRhdGUuanMvZGF0ZS5odG1cclxuICAgKi9cclxuXHJcbiAgKGZ1bmN0aW9uICggZmFjdG9yeSApIHtcclxuXHJcbiAgICAgIC8vIEFNRC5cclxuICAgICAgaWYgKCB0eXBlb2YgdW5kZWZpbmVkID09ICdmdW5jdGlvbicgJiYgdW5kZWZpbmVkLmFtZCApXHJcbiAgICAgICAgICB1bmRlZmluZWQoIFsncGlja2VyJywgJ2pxdWVyeSddLCBmYWN0b3J5ICk7XHJcblxyXG4gICAgICAvLyBOb2RlLmpzL2Jyb3dzZXJpZnkuXHJcbiAgICAgIGVsc2UgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlJCQwLCAkICk7XHJcblxyXG4gIH0oZnVuY3Rpb24oIFBpY2tlciwgJCQkMSApIHtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEdsb2JhbHMgYW5kIGNvbnN0YW50c1xyXG4gICAqL1xyXG4gIHZhciBEQVlTX0lOX1dFRUsgPSA3LFxyXG4gICAgICBXRUVLU19JTl9DQUxFTkRBUiA9IDYsXHJcbiAgICAgIF8gPSBQaWNrZXIuXztcclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiBUaGUgZGF0ZSBwaWNrZXIgY29uc3RydWN0b3JcclxuICAgKi9cclxuICBmdW5jdGlvbiBEYXRlUGlja2VyKCBwaWNrZXIsIHNldHRpbmdzICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcclxuICAgICAgICAgIGVsZW1lbnQgPSBwaWNrZXIuJG5vZGVbIDAgXSxcclxuICAgICAgICAgIGVsZW1lbnRWYWx1ZSA9IGVsZW1lbnQudmFsdWUsXHJcbiAgICAgICAgICBlbGVtZW50RGF0YVZhbHVlID0gcGlja2VyLiRub2RlLmRhdGEoICd2YWx1ZScgKSxcclxuICAgICAgICAgIHZhbHVlU3RyaW5nID0gZWxlbWVudERhdGFWYWx1ZSB8fCBlbGVtZW50VmFsdWUsXHJcbiAgICAgICAgICBmb3JtYXRTdHJpbmcgPSBlbGVtZW50RGF0YVZhbHVlID8gc2V0dGluZ3MuZm9ybWF0U3VibWl0IDogc2V0dGluZ3MuZm9ybWF0LFxyXG4gICAgICAgICAgaXNSVEwgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlID9cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBJRS5cclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5jdXJyZW50U3R5bGUuZGlyZWN0aW9uID09ICdydGwnIDpcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBub3JtYWwgYnJvd3NlcnMuXHJcbiAgICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoIHBpY2tlci4kcm9vdFswXSApLmRpcmVjdGlvbiA9PSAncnRsJ1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgIGNhbGVuZGFyLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgIGNhbGVuZGFyLiRub2RlID0gcGlja2VyLiRub2RlO1xyXG5cclxuICAgICAgLy8gVGhlIHF1ZXVlIG9mIG1ldGhvZHMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgaXRlbSBvYmplY3RzLlxyXG4gICAgICBjYWxlbmRhci5xdWV1ZSA9IHtcclxuICAgICAgICAgIG1pbjogJ21lYXN1cmUgY3JlYXRlJyxcclxuICAgICAgICAgIG1heDogJ21lYXN1cmUgY3JlYXRlJyxcclxuICAgICAgICAgIG5vdzogJ25vdyBjcmVhdGUnLFxyXG4gICAgICAgICAgc2VsZWN0OiAncGFyc2UgY3JlYXRlIHZhbGlkYXRlJyxcclxuICAgICAgICAgIGhpZ2hsaWdodDogJ3BhcnNlIG5hdmlnYXRlIGNyZWF0ZSB2YWxpZGF0ZScsXHJcbiAgICAgICAgICB2aWV3OiAncGFyc2UgY3JlYXRlIHZhbGlkYXRlIHZpZXdzZXQnLFxyXG4gICAgICAgICAgZGlzYWJsZTogJ2RlYWN0aXZhdGUnLFxyXG4gICAgICAgICAgZW5hYmxlOiAnYWN0aXZhdGUnXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBUaGUgY29tcG9uZW50J3MgaXRlbSBvYmplY3QuXHJcbiAgICAgIGNhbGVuZGFyLml0ZW0gPSB7fTtcclxuXHJcbiAgICAgIGNhbGVuZGFyLml0ZW0uY2xlYXIgPSBudWxsO1xyXG4gICAgICBjYWxlbmRhci5pdGVtLmRpc2FibGUgPSAoIHNldHRpbmdzLmRpc2FibGUgfHwgW10gKS5zbGljZSggMCApO1xyXG4gICAgICBjYWxlbmRhci5pdGVtLmVuYWJsZSA9IC0oZnVuY3Rpb24oIGNvbGxlY3Rpb25EaXNhYmxlZCApIHtcclxuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uRGlzYWJsZWRbIDAgXSA9PT0gdHJ1ZSA/IGNvbGxlY3Rpb25EaXNhYmxlZC5zaGlmdCgpIDogLTFcclxuICAgICAgfSkoIGNhbGVuZGFyLml0ZW0uZGlzYWJsZSApO1xyXG5cclxuICAgICAgY2FsZW5kYXIuXHJcbiAgICAgICAgICBzZXQoICdtaW4nLCBzZXR0aW5ncy5taW4gKS5cclxuICAgICAgICAgIHNldCggJ21heCcsIHNldHRpbmdzLm1heCApLlxyXG4gICAgICAgICAgc2V0KCAnbm93JyApO1xyXG5cclxuICAgICAgLy8gV2hlbiB0aGVyZeKAmXMgYSB2YWx1ZSwgc2V0IHRoZSBgc2VsZWN0YCwgd2hpY2ggaW4gdHVyblxyXG4gICAgICAvLyBhbHNvIHNldHMgdGhlIGBoaWdobGlnaHRgIGFuZCBgdmlld2AuXHJcbiAgICAgIGlmICggdmFsdWVTdHJpbmcgKSB7XHJcbiAgICAgICAgICBjYWxlbmRhci5zZXQoICdzZWxlY3QnLCB2YWx1ZVN0cmluZywge1xyXG4gICAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0U3RyaW5nLFxyXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZXJl4oCZcyBubyB2YWx1ZSwgZGVmYXVsdCB0byBoaWdobGlnaHRpbmcg4oCcdG9kYXnigJ0uXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgY2FsZW5kYXIuXHJcbiAgICAgICAgICAgICAgc2V0KCAnc2VsZWN0JywgbnVsbCApLlxyXG4gICAgICAgICAgICAgIHNldCggJ2hpZ2hsaWdodCcsIGNhbGVuZGFyLml0ZW0ubm93ICk7XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvLyBUaGUga2V5Y29kZSB0byBtb3ZlbWVudCBtYXBwaW5nLlxyXG4gICAgICBjYWxlbmRhci5rZXkgPSB7XHJcbiAgICAgICAgICA0MDogNywgLy8gRG93blxyXG4gICAgICAgICAgMzg6IC03LCAvLyBVcFxyXG4gICAgICAgICAgMzk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNSVEwoKSA/IC0xIDogMSB9LCAvLyBSaWdodFxyXG4gICAgICAgICAgMzc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNSVEwoKSA/IDEgOiAtMSB9LCAvLyBMZWZ0XHJcbiAgICAgICAgICBnbzogZnVuY3Rpb24oIHRpbWVDaGFuZ2UgKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGhpZ2hsaWdodGVkT2JqZWN0ID0gY2FsZW5kYXIuaXRlbS5oaWdobGlnaHQsXHJcbiAgICAgICAgICAgICAgICAgIHRhcmdldERhdGUgPSBuZXcgRGF0ZSggaGlnaGxpZ2h0ZWRPYmplY3QueWVhciwgaGlnaGxpZ2h0ZWRPYmplY3QubW9udGgsIGhpZ2hsaWdodGVkT2JqZWN0LmRhdGUgKyB0aW1lQ2hhbmdlICk7XHJcbiAgICAgICAgICAgICAgY2FsZW5kYXIuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAnaGlnaGxpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSxcclxuICAgICAgICAgICAgICAgICAgeyBpbnRlcnZhbDogdGltZUNoYW5nZSB9XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuXHJcbiAgICAgIC8vIEJpbmQgc29tZSBwaWNrZXIgZXZlbnRzLlxyXG4gICAgICBwaWNrZXIuXHJcbiAgICAgICAgICBvbiggJ3JlbmRlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgIGlmICggdmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuc2V0KCAnaGlnaGxpZ2h0JywgWyBwaWNrZXIuZ2V0KCAndmlldycgKS55ZWFyLCB2YWx1ZSwgcGlja2VyLmdldCggJ2hpZ2hsaWdodCcgKS5kYXRlIF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCApLnRyaWdnZXIoICdmb2N1cycgKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RZZWFyICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5zZXQoICdoaWdobGlnaHQnLCBbIHZhbHVlLCBwaWNrZXIuZ2V0KCAndmlldycgKS5tb250aCwgcGlja2VyLmdldCggJ2hpZ2hsaWdodCcgKS5kYXRlIF0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RZZWFyICkudHJpZ2dlciggJ2ZvY3VzJyApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LCAxICkuXHJcbiAgICAgICAgICBvbiggJ29wZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICB2YXIgaW5jbHVkZVRvZGF5ID0gJyc7XHJcbiAgICAgICAgICAgICAgaWYgKCBjYWxlbmRhci5kaXNhYmxlZCggY2FsZW5kYXIuZ2V0KCdub3cnKSApICkge1xyXG4gICAgICAgICAgICAgICAgICBpbmNsdWRlVG9kYXkgPSAnOm5vdCguJyArIHNldHRpbmdzLmtsYXNzLmJ1dHRvblRvZGF5ICsgJyknO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBwaWNrZXIuJHJvb3QuZmluZCggJ2J1dHRvbicgKyBpbmNsdWRlVG9kYXkgKyAnLCBzZWxlY3QnICkuYXR0ciggJ2Rpc2FibGVkJywgZmFsc2UgKTtcclxuICAgICAgICAgIH0sIDEgKS5cclxuICAgICAgICAgIG9uKCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBwaWNrZXIuJHJvb3QuZmluZCggJ2J1dHRvbiwgc2VsZWN0JyApLmF0dHIoICdkaXNhYmxlZCcsIHRydWUgKTtcclxuICAgICAgICAgIH0sIDEgKTtcclxuXHJcbiAgfSAvL0RhdGVQaWNrZXJcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBhIGRhdGVwaWNrZXIgaXRlbSBvYmplY3QuXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlLCBvcHRpb25zICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcclxuICAgICAgICAgIGNhbGVuZGFySXRlbSA9IGNhbGVuZGFyLml0ZW07XHJcblxyXG4gICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYG51bGxgIGp1c3Qgc2V0IGl0IGltbWVkaWF0ZWx5LlxyXG4gICAgICBpZiAoIHZhbHVlID09PSBudWxsICkge1xyXG4gICAgICAgICAgaWYgKCB0eXBlID09ICdjbGVhcicgKSB0eXBlID0gJ3NlbGVjdCc7XHJcbiAgICAgICAgICBjYWxlbmRhckl0ZW1bIHR5cGUgXSA9IHZhbHVlO1xyXG4gICAgICAgICAgcmV0dXJuIGNhbGVuZGFyXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIHRoZSBxdWV1ZSBvZiBtZXRob2RzLCBhbmQgaW52b2tlIHRoZSBmdW5jdGlvbnMuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGlzIGFzIHRoZSB0aW1lIHVuaXQsIGFuZCBzZXQgdGhlIGZpbmFsIHZhbHVlIGFzIHRoaXMgaXRlbS5cclxuICAgICAgLy8gKiBJbiB0aGUgY2FzZSBvZiBgZW5hYmxlYCwga2VlcCB0aGUgcXVldWUgYnV0IHNldCBgZGlzYWJsZWAgaW5zdGVhZC5cclxuICAgICAgLy8gICBBbmQgaW4gdGhlIGNhc2Ugb2YgYGZsaXBgLCBrZWVwIHRoZSBxdWV1ZSBidXQgc2V0IGBlbmFibGVgIGluc3RlYWQuXHJcbiAgICAgIGNhbGVuZGFySXRlbVsgKCB0eXBlID09ICdlbmFibGUnID8gJ2Rpc2FibGUnIDogdHlwZSA9PSAnZmxpcCcgPyAnZW5hYmxlJyA6IHR5cGUgKSBdID0gY2FsZW5kYXIucXVldWVbIHR5cGUgXS5zcGxpdCggJyAnICkubWFwKCBmdW5jdGlvbiggbWV0aG9kICkge1xyXG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhclsgbWV0aG9kIF0oIHR5cGUsIHZhbHVlLCBvcHRpb25zICk7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWVcclxuICAgICAgfSkucG9wKCk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGNhc2NhZGUgdGhyb3VnaCBtb3JlIHVwZGF0ZXMuXHJcbiAgICAgIGlmICggdHlwZSA9PSAnc2VsZWN0JyApIHtcclxuICAgICAgICAgIGNhbGVuZGFyLnNldCggJ2hpZ2hsaWdodCcsIGNhbGVuZGFySXRlbS5zZWxlY3QsIG9wdGlvbnMgKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggdHlwZSA9PSAnaGlnaGxpZ2h0JyApIHtcclxuICAgICAgICAgIGNhbGVuZGFyLnNldCggJ3ZpZXcnLCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0LCBvcHRpb25zICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIHR5cGUubWF0Y2goIC9eKGZsaXB8bWlufG1heHxkaXNhYmxlfGVuYWJsZSkkLyApICkge1xyXG4gICAgICAgICAgaWYgKCBjYWxlbmRhckl0ZW0uc2VsZWN0ICYmIGNhbGVuZGFyLmRpc2FibGVkKCBjYWxlbmRhckl0ZW0uc2VsZWN0ICkgKSB7XHJcbiAgICAgICAgICAgICAgY2FsZW5kYXIuc2V0KCAnc2VsZWN0JywgY2FsZW5kYXJJdGVtLnNlbGVjdCwgb3B0aW9ucyApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0ICYmIGNhbGVuZGFyLmRpc2FibGVkKCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0ICkgKSB7XHJcbiAgICAgICAgICAgICAgY2FsZW5kYXIuc2V0KCAnaGlnaGxpZ2h0JywgY2FsZW5kYXJJdGVtLmhpZ2hsaWdodCwgb3B0aW9ucyApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY2FsZW5kYXJcclxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLnNldFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgZGF0ZXBpY2tlciBpdGVtIG9iamVjdC5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiggdHlwZSApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaXRlbVsgdHlwZSBdXHJcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5nZXRcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIHBpY2tlciBkYXRlIG9iamVjdC5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgICB2YXIgaXNJbmZpbml0ZVZhbHVlLFxyXG4gICAgICAgICAgY2FsZW5kYXIgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgdGhlcmXigJlzIG5vIHZhbHVlLCB1c2UgdGhlIHR5cGUgYXMgdGhlIHZhbHVlLlxyXG4gICAgICB2YWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyB0eXBlIDogdmFsdWU7XHJcblxyXG5cclxuICAgICAgLy8gSWYgaXTigJlzIGluZmluaXR5LCB1cGRhdGUgdGhlIHZhbHVlLlxyXG4gICAgICBpZiAoIHZhbHVlID09IC1JbmZpbml0eSB8fCB2YWx1ZSA9PSBJbmZpbml0eSApIHtcclxuICAgICAgICAgIGlzSW5maW5pdGVWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBpdOKAmXMgYW4gb2JqZWN0LCB1c2UgdGhlIG5hdGl2ZSBkYXRlIG9iamVjdC5cclxuICAgICAgZWxzZSBpZiAoICQkJDEuaXNQbGFpbk9iamVjdCggdmFsdWUgKSAmJiBfLmlzSW50ZWdlciggdmFsdWUucGljayApICkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5vYmo7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGl04oCZcyBhbiBhcnJheSwgY29udmVydCBpdCBpbnRvIGEgZGF0ZSBhbmQgbWFrZSBzdXJlXHJcbiAgICAgIC8vIHRoYXQgaXTigJlzIGEgdmFsaWQgZGF0ZSDigJMgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdG9kYXkuXHJcbiAgICAgIGVsc2UgaWYgKCAkJCQxLmlzQXJyYXkoIHZhbHVlICkgKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCB2YWx1ZVsgMCBdLCB2YWx1ZVsgMSBdLCB2YWx1ZVsgMiBdICk7XHJcbiAgICAgICAgICB2YWx1ZSA9IF8uaXNEYXRlKCB2YWx1ZSApID8gdmFsdWUgOiBjYWxlbmRhci5jcmVhdGUoKS5vYmo7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGl04oCZcyBhIG51bWJlciBvciBkYXRlIG9iamVjdCwgbWFrZSBhIG5vcm1hbGl6ZWQgZGF0ZS5cclxuICAgICAgZWxzZSBpZiAoIF8uaXNJbnRlZ2VyKCB2YWx1ZSApIHx8IF8uaXNEYXRlKCB2YWx1ZSApICkge1xyXG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhci5ub3JtYWxpemUoIG5ldyBEYXRlKCB2YWx1ZSApLCBvcHRpb25zICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGl04oCZcyBhIGxpdGVyYWwgdHJ1ZSBvciBhbnkgb3RoZXIgY2FzZSwgc2V0IGl0IHRvIG5vdy5cclxuICAgICAgZWxzZSAvKmlmICggdmFsdWUgPT09IHRydWUgKSovIHtcclxuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXIubm93KCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXR1cm4gdGhlIGNvbXBpbGVkIG9iamVjdC5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHllYXI6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgbW9udGg6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZS5nZXRNb250aCgpLFxyXG4gICAgICAgICAgZGF0ZTogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldERhdGUoKSxcclxuICAgICAgICAgIGRheTogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldERheSgpLFxyXG4gICAgICAgICAgb2JqOiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUsXHJcbiAgICAgICAgICBwaWNrOiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUuZ2V0VGltZSgpXHJcbiAgICAgIH1cclxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgcmFuZ2UgbGltaXQgb2JqZWN0IHVzaW5nIGFuIGFycmF5LCBkYXRlIG9iamVjdCxcclxuICAgKiBsaXRlcmFsIOKAnHRydWXigJ0sIG9yIGludGVnZXIgcmVsYXRpdmUgdG8gYW5vdGhlciB0aW1lLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZVJhbmdlID0gZnVuY3Rpb24oIGZyb20sIHRvICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcclxuICAgICAgICAgIGNyZWF0ZURhdGUgPSBmdW5jdGlvbiggZGF0ZSApIHtcclxuICAgICAgICAgICAgICBpZiAoIGRhdGUgPT09IHRydWUgfHwgJCQkMS5pc0FycmF5KCBkYXRlICkgfHwgXy5pc0RhdGUoIGRhdGUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGVuZGFyLmNyZWF0ZSggZGF0ZSApXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG9iamVjdHMgaWYgcG9zc2libGUuXHJcbiAgICAgIGlmICggIV8uaXNJbnRlZ2VyKCBmcm9tICkgKSB7XHJcbiAgICAgICAgICBmcm9tID0gY3JlYXRlRGF0ZSggZnJvbSApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICggIV8uaXNJbnRlZ2VyKCB0byApICkge1xyXG4gICAgICAgICAgdG8gPSBjcmVhdGVEYXRlKCB0byApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgcmVsYXRpdmUgZGF0ZXMuXHJcbiAgICAgIGlmICggXy5pc0ludGVnZXIoIGZyb20gKSAmJiAkJCQxLmlzUGxhaW5PYmplY3QoIHRvICkgKSB7XHJcbiAgICAgICAgICBmcm9tID0gWyB0by55ZWFyLCB0by5tb250aCwgdG8uZGF0ZSArIGZyb20gXTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmICggXy5pc0ludGVnZXIoIHRvICkgJiYgJCQkMS5pc1BsYWluT2JqZWN0KCBmcm9tICkgKSB7XHJcbiAgICAgICAgICB0byA9IFsgZnJvbS55ZWFyLCBmcm9tLm1vbnRoLCBmcm9tLmRhdGUgKyB0byBdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZnJvbTogY3JlYXRlRGF0ZSggZnJvbSApLFxyXG4gICAgICAgICAgdG86IGNyZWF0ZURhdGUoIHRvIClcclxuICAgICAgfVxyXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuY3JlYXRlUmFuZ2VcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgZGF0ZSB1bml0IGZhbGxzIHdpdGhpbiBhIGRhdGUgcmFuZ2Ugb2JqZWN0LlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLndpdGhpblJhbmdlID0gZnVuY3Rpb24oIHJhbmdlLCBkYXRlVW5pdCApIHtcclxuICAgICAgcmFuZ2UgPSB0aGlzLmNyZWF0ZVJhbmdlKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcclxuICAgICAgcmV0dXJuIGRhdGVVbml0LnBpY2sgPj0gcmFuZ2UuZnJvbS5waWNrICYmIGRhdGVVbml0LnBpY2sgPD0gcmFuZ2UudG8ucGlja1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB0d28gZGF0ZSByYW5nZSBvYmplY3RzIG92ZXJsYXAuXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUub3ZlcmxhcFJhbmdlcyA9IGZ1bmN0aW9uKCBvbmUsIHR3byApIHtcclxuXHJcbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHRoZSByYW5nZXMgaW50byBjb21wYXJhYmxlIGRhdGVzLlxyXG4gICAgICBvbmUgPSBjYWxlbmRhci5jcmVhdGVSYW5nZSggb25lLmZyb20sIG9uZS50byApO1xyXG4gICAgICB0d28gPSBjYWxlbmRhci5jcmVhdGVSYW5nZSggdHdvLmZyb20sIHR3by50byApO1xyXG5cclxuICAgICAgcmV0dXJuIGNhbGVuZGFyLndpdGhpblJhbmdlKCBvbmUsIHR3by5mcm9tICkgfHwgY2FsZW5kYXIud2l0aGluUmFuZ2UoIG9uZSwgdHdvLnRvICkgfHxcclxuICAgICAgICAgIGNhbGVuZGFyLndpdGhpblJhbmdlKCB0d28sIG9uZS5mcm9tICkgfHwgY2FsZW5kYXIud2l0aGluUmFuZ2UoIHR3bywgb25lLnRvIClcclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBkYXRlIHRvZGF5LlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm5vdyA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcclxuICAgICAgdmFsdWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5yZWwgKSB7XHJcbiAgICAgICAgICB2YWx1ZS5zZXREYXRlKCB2YWx1ZS5nZXREYXRlKCkgKyBvcHRpb25zLnJlbCApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggdmFsdWUsIG9wdGlvbnMgKVxyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBOYXZpZ2F0ZSB0byBuZXh0L3ByZXYgbW9udGguXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUubmF2aWdhdGUgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgICB2YXIgdGFyZ2V0RGF0ZU9iamVjdCxcclxuICAgICAgICAgIHRhcmdldFllYXIsXHJcbiAgICAgICAgICB0YXJnZXRNb250aCxcclxuICAgICAgICAgIHRhcmdldERhdGUsXHJcbiAgICAgICAgICBpc1RhcmdldEFycmF5ID0gJCQkMS5pc0FycmF5KCB2YWx1ZSApLFxyXG4gICAgICAgICAgaXNUYXJnZXRPYmplY3QgPSAkJCQxLmlzUGxhaW5PYmplY3QoIHZhbHVlICksXHJcbiAgICAgICAgICB2aWV3c2V0T2JqZWN0ID0gdGhpcy5pdGVtLnZpZXc7LyosXHJcbiAgICAgICAgICBzYWZldHkgPSAxMDAqL1xyXG5cclxuXHJcbiAgICAgIGlmICggaXNUYXJnZXRBcnJheSB8fCBpc1RhcmdldE9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICBpZiAoIGlzVGFyZ2V0T2JqZWN0ICkge1xyXG4gICAgICAgICAgICAgIHRhcmdldFllYXIgPSB2YWx1ZS55ZWFyO1xyXG4gICAgICAgICAgICAgIHRhcmdldE1vbnRoID0gdmFsdWUubW9udGg7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IHZhbHVlLmRhdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICB0YXJnZXRZZWFyID0gK3ZhbHVlWzBdO1xyXG4gICAgICAgICAgICAgIHRhcmdldE1vbnRoID0gK3ZhbHVlWzFdO1xyXG4gICAgICAgICAgICAgIHRhcmdldERhdGUgPSArdmFsdWVbMl07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgd2XigJlyZSBuYXZpZ2F0aW5nIG1vbnRocyBidXQgdGhlIHZpZXcgaXMgaW4gYSBkaWZmZXJlbnRcclxuICAgICAgICAgIC8vIG1vbnRoLCBuYXZpZ2F0ZSB0byB0aGUgdmlld+KAmXMgeWVhciBhbmQgbW9udGguXHJcbiAgICAgICAgICBpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5uYXYgJiYgdmlld3NldE9iamVjdCAmJiB2aWV3c2V0T2JqZWN0Lm1vbnRoICE9PSB0YXJnZXRNb250aCApIHtcclxuICAgICAgICAgICAgICB0YXJnZXRZZWFyID0gdmlld3NldE9iamVjdC55ZWFyO1xyXG4gICAgICAgICAgICAgIHRhcmdldE1vbnRoID0gdmlld3NldE9iamVjdC5tb250aDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBGaWd1cmUgb3V0IHRoZSBleHBlY3RlZCB0YXJnZXQgeWVhciBhbmQgbW9udGguXHJcbiAgICAgICAgICB0YXJnZXREYXRlT2JqZWN0ID0gbmV3IERhdGUoIHRhcmdldFllYXIsIHRhcmdldE1vbnRoICsgKCBvcHRpb25zICYmIG9wdGlvbnMubmF2ID8gb3B0aW9ucy5uYXYgOiAwICksIDEgKTtcclxuICAgICAgICAgIHRhcmdldFllYXIgPSB0YXJnZXREYXRlT2JqZWN0LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICB0YXJnZXRNb250aCA9IHRhcmdldERhdGVPYmplY3QuZ2V0TW9udGgoKTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgbW9udGggd2XigJlyZSBnb2luZyB0byBkb2VzbuKAmXQgaGF2ZSBlbm91Z2ggZGF5cyxcclxuICAgICAgICAgIC8vIGtlZXAgZGVjcmVhc2luZyB0aGUgZGF0ZSB1bnRpbCB3ZSByZWFjaCB0aGUgbW9udGjigJlzIGxhc3QgZGF0ZS5cclxuICAgICAgICAgIHdoaWxlICggLypzYWZldHkgJiYqLyBuZXcgRGF0ZSggdGFyZ2V0WWVhciwgdGFyZ2V0TW9udGgsIHRhcmdldERhdGUgKS5nZXRNb250aCgpICE9PSB0YXJnZXRNb250aCApIHtcclxuICAgICAgICAgICAgICB0YXJnZXREYXRlIC09IDE7XHJcbiAgICAgICAgICAgICAgLypzYWZldHkgLT0gMVxyXG4gICAgICAgICAgICAgIGlmICggIXNhZmV0eSApIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgJ0ZlbGwgaW50byBhbiBpbmZpbml0ZSBsb29wIHdoaWxlIG5hdmlnYXRpbmcgdG8gJyArIG5ldyBEYXRlKCB0YXJnZXRZZWFyLCB0YXJnZXRNb250aCwgdGFyZ2V0RGF0ZSApICsgJy4nXHJcbiAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFsdWUgPSBbIHRhcmdldFllYXIsIHRhcmdldE1vbnRoLCB0YXJnZXREYXRlIF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZVxyXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUubmF2aWdhdGVcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIE5vcm1hbGl6ZSBhIGRhdGUgYnkgc2V0dGluZyB0aGUgaG91cnMgdG8gbWlkbmlnaHQuXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oIHZhbHVlLyosIG9wdGlvbnMqLyApIHtcclxuICAgICAgdmFsdWUuc2V0SG91cnMoIDAsIDAsIDAsIDAgKTtcclxuICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIE1lYXN1cmUgdGhlIHJhbmdlIG9mIGRhdGVzLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm1lYXN1cmUgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUvKiwgb3B0aW9ucyovICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIGl04oCZcyBhbnl0aGluZyBmYWxzZS15LCByZW1vdmUgdGhlIGxpbWl0cy5cclxuICAgICAgaWYgKCAhdmFsdWUgKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IHR5cGUgPT0gJ21pbicgPyAtSW5maW5pdHkgOiBJbmZpbml0eTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgaXTigJlzIGEgc3RyaW5nLCBwYXJzZSBpdC5cclxuICAgICAgZWxzZSBpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXIucGFyc2UoIHR5cGUsIHZhbHVlICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIGl0J3MgYW4gaW50ZWdlciwgZ2V0IGEgZGF0ZSByZWxhdGl2ZSB0byB0b2RheS5cclxuICAgICAgZWxzZSBpZiAoIF8uaXNJbnRlZ2VyKCB2YWx1ZSApICkge1xyXG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhci5ub3coIHR5cGUsIHZhbHVlLCB7IHJlbDogdmFsdWUgfSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsdWVcclxuICB9OyAvLy9EYXRlUGlja2VyLnByb3RvdHlwZS5tZWFzdXJlXHJcblxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSB2aWV3c2V0IG9iamVjdCBiYXNlZCBvbiBuYXZpZ2F0aW9uLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnZpZXdzZXQgPSBmdW5jdGlvbiggdHlwZSwgZGF0ZU9iamVjdC8qLCBvcHRpb25zKi8gKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShbIGRhdGVPYmplY3QueWVhciwgZGF0ZU9iamVjdC5tb250aCwgMSBdKVxyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBWYWxpZGF0ZSBhIGRhdGUgYXMgZW5hYmxlZCBhbmQgc2hpZnQgaWYgbmVlZGVkLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVPYmplY3QsIG9wdGlvbnMgKSB7XHJcblxyXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxyXG5cclxuICAgICAgICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIGRhdGUuXHJcbiAgICAgICAgICBvcmlnaW5hbERhdGVPYmplY3QgPSBkYXRlT2JqZWN0LFxyXG5cclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGFuIGludGVydmFsLlxyXG4gICAgICAgICAgaW50ZXJ2YWwgPSBvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJ2YWwgPyBvcHRpb25zLmludGVydmFsIDogMSxcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FsZW5kYXIgZW5hYmxlZCBkYXRlcyBhcmUgaW52ZXJ0ZWQuXHJcbiAgICAgICAgICBpc0ZsaXBwZWRCYXNlID0gY2FsZW5kYXIuaXRlbS5lbmFibGUgPT09IC0xLFxyXG5cclxuICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYW55IGVuYWJsZWQgZGF0ZXMgYWZ0ZXIvYmVmb3JlIG5vdy5cclxuICAgICAgICAgIGhhc0VuYWJsZWRCZWZvcmVUYXJnZXQsIGhhc0VuYWJsZWRBZnRlclRhcmdldCxcclxuXHJcbiAgICAgICAgICAvLyBUaGUgbWluICYgbWF4IGxpbWl0cy5cclxuICAgICAgICAgIG1pbkxpbWl0T2JqZWN0ID0gY2FsZW5kYXIuaXRlbS5taW4sXHJcbiAgICAgICAgICBtYXhMaW1pdE9iamVjdCA9IGNhbGVuZGFyLml0ZW0ubWF4LFxyXG5cclxuICAgICAgICAgIC8vIENoZWNrIGlmIHdl4oCZdmUgcmVhY2hlZCB0aGUgbGltaXQgZHVyaW5nIHNoaWZ0aW5nLlxyXG4gICAgICAgICAgcmVhY2hlZE1pbiwgcmVhY2hlZE1heCxcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FsZW5kYXIgaXMgaW52ZXJ0ZWQgYW5kIGF0IGxlYXN0IG9uZSB3ZWVrZGF5IGlzIGVuYWJsZWQuXHJcbiAgICAgICAgICBoYXNFbmFibGVkV2Vla2RheXMgPSBpc0ZsaXBwZWRCYXNlICYmIGNhbGVuZGFyLml0ZW0uZGlzYWJsZS5maWx0ZXIoIGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmXigJlzIGEgZGF0ZSwgY2hlY2sgd2hlcmUgaXQgaXMgcmVsYXRpdmUgdG8gdGhlIHRhcmdldC5cclxuICAgICAgICAgICAgICBpZiAoICQkJDEuaXNBcnJheSggdmFsdWUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGRhdGVUaW1lID0gY2FsZW5kYXIuY3JlYXRlKCB2YWx1ZSApLnBpY2s7XHJcbiAgICAgICAgICAgICAgICAgIGlmICggZGF0ZVRpbWUgPCBkYXRlT2JqZWN0LnBpY2sgKSBoYXNFbmFibGVkQmVmb3JlVGFyZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIGRhdGVUaW1lID4gZGF0ZU9iamVjdC5waWNrICkgaGFzRW5hYmxlZEFmdGVyVGFyZ2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJldHVybiBvbmx5IGludGVnZXJzIGZvciBlbmFibGVkIHdlZWtkYXlzLlxyXG4gICAgICAgICAgICAgIHJldHVybiBfLmlzSW50ZWdlciggdmFsdWUgKVxyXG4gICAgICAgICAgfSkubGVuZ3RoOy8qLFxyXG5cclxuICAgICAgICAgIHNhZmV0eSA9IDEwMCovXHJcblxyXG5cclxuXHJcbiAgICAgIC8vIENhc2VzIHRvIHZhbGlkYXRlIGZvcjpcclxuICAgICAgLy8gWzFdIE5vdCBpbnZlcnRlZCBhbmQgZGF0ZSBkaXNhYmxlZC5cclxuICAgICAgLy8gWzJdIEludmVydGVkIGFuZCBzb21lIGRhdGVzIGVuYWJsZWQuXHJcbiAgICAgIC8vIFszXSBOb3QgaW52ZXJ0ZWQgYW5kIG91dCBvZiByYW5nZS5cclxuICAgICAgLy9cclxuICAgICAgLy8gQ2FzZXMgdG8gKipub3QqKiB2YWxpZGF0ZSBmb3I6XHJcbiAgICAgIC8vIOKAoiBOYXZpZ2F0aW5nIG1vbnRocy5cclxuICAgICAgLy8g4oCiIE5vdCBpbnZlcnRlZCBhbmQgZGF0ZSBlbmFibGVkLlxyXG4gICAgICAvLyDigKIgSW52ZXJ0ZWQgYW5kIGFsbCBkYXRlcyBkaXNhYmxlZC5cclxuICAgICAgLy8g4oCiIC4uYW5kIGFueXRoaW5nIGVsc2UuXHJcbiAgICAgIGlmICggIW9wdGlvbnMgfHwgKCFvcHRpb25zLm5hdiAmJiAhb3B0aW9ucy5kZWZhdWx0VmFsdWUpICkgaWYgKFxyXG4gICAgICAgICAgLyogMSAqLyAoICFpc0ZsaXBwZWRCYXNlICYmIGNhbGVuZGFyLmRpc2FibGVkKCBkYXRlT2JqZWN0ICkgKSB8fFxyXG4gICAgICAgICAgLyogMiAqLyAoIGlzRmxpcHBlZEJhc2UgJiYgY2FsZW5kYXIuZGlzYWJsZWQoIGRhdGVPYmplY3QgKSAmJiAoIGhhc0VuYWJsZWRXZWVrZGF5cyB8fCBoYXNFbmFibGVkQmVmb3JlVGFyZ2V0IHx8IGhhc0VuYWJsZWRBZnRlclRhcmdldCApICkgfHxcclxuICAgICAgICAgIC8qIDMgKi8gKCAhaXNGbGlwcGVkQmFzZSAmJiAoZGF0ZU9iamVjdC5waWNrIDw9IG1pbkxpbWl0T2JqZWN0LnBpY2sgfHwgZGF0ZU9iamVjdC5waWNrID49IG1heExpbWl0T2JqZWN0LnBpY2spIClcclxuICAgICAgKSB7XHJcblxyXG5cclxuICAgICAgICAgIC8vIFdoZW4gaW52ZXJ0ZWQsIGZsaXAgdGhlIGRpcmVjdGlvbiBpZiB0aGVyZSBhcmVu4oCZdCBhbnkgZW5hYmxlZCB3ZWVrZGF5c1xyXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGFyZSBubyBlbmFibGVkIGRhdGVzIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGludGVydmFsLlxyXG4gICAgICAgICAgaWYgKCBpc0ZsaXBwZWRCYXNlICYmICFoYXNFbmFibGVkV2Vla2RheXMgJiYgKCAoICFoYXNFbmFibGVkQWZ0ZXJUYXJnZXQgJiYgaW50ZXJ2YWwgPiAwICkgfHwgKCAhaGFzRW5hYmxlZEJlZm9yZVRhcmdldCAmJiBpbnRlcnZhbCA8IDAgKSApICkge1xyXG4gICAgICAgICAgICAgIGludGVydmFsICo9IC0xO1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAvLyBLZWVwIGxvb3BpbmcgdW50aWwgd2UgcmVhY2ggYW4gZW5hYmxlZCBkYXRlLlxyXG4gICAgICAgICAgd2hpbGUgKCAvKnNhZmV0eSAmJiovIGNhbGVuZGFyLmRpc2FibGVkKCBkYXRlT2JqZWN0ICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8qc2FmZXR5IC09IDFcclxuICAgICAgICAgICAgICBpZiAoICFzYWZldHkgKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRocm93ICdGZWxsIGludG8gYW4gaW5maW5pdGUgbG9vcCB3aGlsZSB2YWxpZGF0aW5nICcgKyBkYXRlT2JqZWN0Lm9iaiArICcuJ1xyXG4gICAgICAgICAgICAgIH0qL1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgd2XigJl2ZSBsb29wZWQgaW50byB0aGUgbmV4dC9wcmV2IG1vbnRoIHdpdGggYSBsYXJnZSBpbnRlcnZhbCwgcmV0dXJuIHRvIHRoZSBvcmlnaW5hbCBkYXRlIGFuZCBmbGF0dGVuIHRoZSBpbnRlcnZhbC5cclxuICAgICAgICAgICAgICBpZiAoIE1hdGguYWJzKCBpbnRlcnZhbCApID4gMSAmJiAoIGRhdGVPYmplY3QubW9udGggPCBvcmlnaW5hbERhdGVPYmplY3QubW9udGggfHwgZGF0ZU9iamVjdC5tb250aCA+IG9yaWdpbmFsRGF0ZU9iamVjdC5tb250aCApICkge1xyXG4gICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gb3JpZ2luYWxEYXRlT2JqZWN0O1xyXG4gICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IGludGVydmFsID4gMCA/IDEgOiAtMTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB3ZeKAmXZlIHJlYWNoZWQgdGhlIG1pbi9tYXggbGltaXQsIHJldmVyc2UgdGhlIGRpcmVjdGlvbiwgZmxhdHRlbiB0aGUgaW50ZXJ2YWwgYW5kIHNldCBpdCB0byB0aGUgbGltaXQuXHJcbiAgICAgICAgICAgICAgaWYgKCBkYXRlT2JqZWN0LnBpY2sgPD0gbWluTGltaXRPYmplY3QucGljayApIHtcclxuICAgICAgICAgICAgICAgICAgcmVhY2hlZE1pbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGludGVydmFsID0gMTtcclxuICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IGNhbGVuZGFyLmNyZWF0ZShbXHJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5MaW1pdE9iamVjdC55ZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbWluTGltaXRPYmplY3QubW9udGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5MaW1pdE9iamVjdC5kYXRlICsgKGRhdGVPYmplY3QucGljayA9PT0gbWluTGltaXRPYmplY3QucGljayA/IDAgOiAtMSlcclxuICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYgKCBkYXRlT2JqZWN0LnBpY2sgPj0gbWF4TGltaXRPYmplY3QucGljayApIHtcclxuICAgICAgICAgICAgICAgICAgcmVhY2hlZE1heCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIGludGVydmFsID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBjYWxlbmRhci5jcmVhdGUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgbWF4TGltaXRPYmplY3QueWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgIG1heExpbWl0T2JqZWN0Lm1vbnRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbWF4TGltaXRPYmplY3QuZGF0ZSArIChkYXRlT2JqZWN0LnBpY2sgPT09IG1heExpbWl0T2JqZWN0LnBpY2sgPyAwIDogMSlcclxuICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgd2XigJl2ZSByZWFjaGVkIGJvdGggbGltaXRzLCBqdXN0IGJyZWFrIG91dCBvZiB0aGUgbG9vcC5cclxuICAgICAgICAgICAgICBpZiAoIHJlYWNoZWRNaW4gJiYgcmVhY2hlZE1heCApIHtcclxuICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAvLyBGaW5hbGx5LCBjcmVhdGUgdGhlIHNoaWZ0ZWQgZGF0ZSB1c2luZyB0aGUgaW50ZXJ2YWwgYW5kIGtlZXAgbG9vcGluZy5cclxuICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gY2FsZW5kYXIuY3JlYXRlKFsgZGF0ZU9iamVjdC55ZWFyLCBkYXRlT2JqZWN0Lm1vbnRoLCBkYXRlT2JqZWN0LmRhdGUgKyBpbnRlcnZhbCBdKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgIH0gLy9lbmRpZlxyXG5cclxuXHJcbiAgICAgIC8vIFJldHVybiB0aGUgZGF0ZSBvYmplY3Qgc2V0dGxlZCBvbi5cclxuICAgICAgcmV0dXJuIGRhdGVPYmplY3RcclxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLnZhbGlkYXRlXHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIGRhdGUgaXMgZGlzYWJsZWQuXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuZGlzYWJsZWQgPSBmdW5jdGlvbiggZGF0ZVRvVmVyaWZ5ICkge1xyXG5cclxuICAgICAgdmFyXHJcbiAgICAgICAgICBjYWxlbmRhciA9IHRoaXMsXHJcblxyXG4gICAgICAgICAgLy8gRmlsdGVyIHRocm91Z2ggdGhlIGRpc2FibGVkIGRhdGVzIHRvIGNoZWNrIGlmIHRoaXMgaXMgb25lLlxyXG4gICAgICAgICAgaXNEaXNhYmxlZE1hdGNoID0gY2FsZW5kYXIuaXRlbS5kaXNhYmxlLmZpbHRlciggZnVuY3Rpb24oIGRhdGVUb0Rpc2FibGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBkYXRlIGlzIGEgbnVtYmVyLCBtYXRjaCB0aGUgd2Vla2RheSB3aXRoIDBpbmRleCBhbmQgYGZpcnN0RGF5YCBjaGVjay5cclxuICAgICAgICAgICAgICBpZiAoIF8uaXNJbnRlZ2VyKCBkYXRlVG9EaXNhYmxlICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlVG9WZXJpZnkuZGF5ID09PSAoIGNhbGVuZGFyLnNldHRpbmdzLmZpcnN0RGF5ID8gZGF0ZVRvRGlzYWJsZSA6IGRhdGVUb0Rpc2FibGUgLSAxICkgJSA3XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYW4gYXJyYXkgb3IgYSBuYXRpdmUgSlMgZGF0ZSwgY3JlYXRlIGFuZCBtYXRjaCB0aGUgZXhhY3QgZGF0ZS5cclxuICAgICAgICAgICAgICBpZiAoICQkJDEuaXNBcnJheSggZGF0ZVRvRGlzYWJsZSApIHx8IF8uaXNEYXRlKCBkYXRlVG9EaXNhYmxlICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlVG9WZXJpZnkucGljayA9PT0gY2FsZW5kYXIuY3JlYXRlKCBkYXRlVG9EaXNhYmxlICkucGlja1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFuIG9iamVjdCwgbWF0Y2ggYSBkYXRlIHdpdGhpbiB0aGUg4oCcZnJvbeKAnSBhbmQg4oCcdG/igJ0gcmFuZ2UuXHJcbiAgICAgICAgICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIGRhdGVUb0Rpc2FibGUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGVuZGFyLndpdGhpblJhbmdlKCBkYXRlVG9EaXNhYmxlLCBkYXRlVG9WZXJpZnkgKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSWYgdGhpcyBkYXRlIG1hdGNoZXMgYSBkaXNhYmxlZCBkYXRlLCBjb25maXJtIGl04oCZcyBub3QgaW52ZXJ0ZWQuXHJcbiAgICAgIGlzRGlzYWJsZWRNYXRjaCA9IGlzRGlzYWJsZWRNYXRjaC5sZW5ndGggJiYgIWlzRGlzYWJsZWRNYXRjaC5maWx0ZXIoZnVuY3Rpb24oIGRhdGVUb0Rpc2FibGUgKSB7XHJcbiAgICAgICAgICByZXR1cm4gJCQkMS5pc0FycmF5KCBkYXRlVG9EaXNhYmxlICkgJiYgZGF0ZVRvRGlzYWJsZVszXSA9PSAnaW52ZXJ0ZWQnIHx8XHJcbiAgICAgICAgICAgICAgJCQkMS5pc1BsYWluT2JqZWN0KCBkYXRlVG9EaXNhYmxlICkgJiYgZGF0ZVRvRGlzYWJsZS5pbnZlcnRlZFxyXG4gICAgICB9KS5sZW5ndGg7XHJcblxyXG4gICAgICAvLyBDaGVjayB0aGUgY2FsZW5kYXIg4oCcZW5hYmxlZOKAnSBmbGFnIGFuZCByZXNwZWN0aXZlbHkgZmxpcCB0aGVcclxuICAgICAgLy8gZGlzYWJsZWQgc3RhdGUuIFRoZW4gYWxzbyBjaGVjayBpZiBpdOKAmXMgYmV5b25kIHRoZSBtaW4vbWF4IGxpbWl0cy5cclxuICAgICAgcmV0dXJuIGNhbGVuZGFyLml0ZW0uZW5hYmxlID09PSAtMSA/ICFpc0Rpc2FibGVkTWF0Y2ggOiBpc0Rpc2FibGVkTWF0Y2ggfHxcclxuICAgICAgICAgIGRhdGVUb1ZlcmlmeS5waWNrIDwgY2FsZW5kYXIuaXRlbS5taW4ucGljayB8fFxyXG4gICAgICAgICAgZGF0ZVRvVmVyaWZ5LnBpY2sgPiBjYWxlbmRhci5pdGVtLm1heC5waWNrXHJcblxyXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuZGlzYWJsZWRcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSB1c2FibGUgdHlwZS5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcclxuXHJcbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXHJcbiAgICAgICAgICBwYXJzaW5nT2JqZWN0ID0ge307XHJcblxyXG4gICAgICAvLyBJZiBpdOKAmXMgYWxyZWFkeSBwYXJzZWQsIHdl4oCZcmUgZ29vZC5cclxuICAgICAgaWYgKCAhdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnICkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdlIG5lZWQgYSBgLmZvcm1hdGAgdG8gcGFyc2UgdGhlIHZhbHVlIHdpdGguXHJcbiAgICAgIGlmICggISggb3B0aW9ucyAmJiBvcHRpb25zLmZvcm1hdCApICkge1xyXG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgICBvcHRpb25zLmZvcm1hdCA9IGNhbGVuZGFyLnNldHRpbmdzLmZvcm1hdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCB0aGUgZm9ybWF0IGludG8gYW4gYXJyYXkgYW5kIHRoZW4gbWFwIHRocm91Z2ggaXQuXHJcbiAgICAgIGNhbGVuZGFyLmZvcm1hdHMudG9BcnJheSggb3B0aW9ucy5mb3JtYXQgKS5tYXAoIGZ1bmN0aW9uKCBsYWJlbCApIHtcclxuXHJcbiAgICAgICAgICB2YXJcclxuICAgICAgICAgICAgICAvLyBHcmFiIHRoZSBmb3JtYXR0aW5nIGxhYmVsLlxyXG4gICAgICAgICAgICAgIGZvcm1hdHRpbmdMYWJlbCA9IGNhbGVuZGFyLmZvcm1hdHNbIGxhYmVsIF0sXHJcblxyXG4gICAgICAgICAgICAgIC8vIFRoZSBmb3JtYXQgbGVuZ3RoIGlzIGZyb20gdGhlIGZvcm1hdHRpbmcgbGFiZWwgZnVuY3Rpb24gb3IgdGhlXHJcbiAgICAgICAgICAgICAgLy8gbGFiZWwgbGVuZ3RoIHdpdGhvdXQgdGhlIGVzY2FwaW5nIGV4Y2xhbWF0aW9uICghKSBtYXJrLlxyXG4gICAgICAgICAgICAgIGZvcm1hdExlbmd0aCA9IGZvcm1hdHRpbmdMYWJlbCA/IF8udHJpZ2dlciggZm9ybWF0dGluZ0xhYmVsLCBjYWxlbmRhciwgWyB2YWx1ZSwgcGFyc2luZ09iamVjdCBdICkgOiBsYWJlbC5yZXBsYWNlKCAvXiEvLCAnJyApLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgZm9ybWF0IGxhYmVsLCBzcGxpdCB0aGUgdmFsdWUgdXAgdG8gdGhlIGZvcm1hdCBsZW5ndGguXHJcbiAgICAgICAgICAvLyBUaGVuIGFkZCBpdCB0byB0aGUgcGFyc2luZyBvYmplY3Qgd2l0aCBhcHByb3ByaWF0ZSBsYWJlbC5cclxuICAgICAgICAgIGlmICggZm9ybWF0dGluZ0xhYmVsICkge1xyXG4gICAgICAgICAgICAgIHBhcnNpbmdPYmplY3RbIGxhYmVsIF0gPSB2YWx1ZS5zdWJzdHIoIDAsIGZvcm1hdExlbmd0aCApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgYXMgdGhlIHN1YnN0cmluZyBmcm9tIGZvcm1hdCBsZW5ndGggdG8gZW5kLlxyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoIGZvcm1hdExlbmd0aCApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENvbXBlbnNhdGUgZm9yIG1vbnRoIDBpbmRleC5cclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgIHBhcnNpbmdPYmplY3QueXl5eSB8fCBwYXJzaW5nT2JqZWN0Lnl5LFxyXG4gICAgICAgICAgKyggcGFyc2luZ09iamVjdC5tbSB8fCBwYXJzaW5nT2JqZWN0Lm0gKSAtIDEsXHJcbiAgICAgICAgICBwYXJzaW5nT2JqZWN0LmRkIHx8IHBhcnNpbmdPYmplY3QuZFxyXG4gICAgICBdXHJcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5wYXJzZVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVmFyaW91cyBmb3JtYXRzIHRvIGRpc3BsYXkgdGhlIG9iamVjdCBpbi5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5mb3JtYXRzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgaW4gYSBjb2xsZWN0aW9uLlxyXG4gICAgICBmdW5jdGlvbiBnZXRXb3JkTGVuZ3RoRnJvbUNvbGxlY3Rpb24oIHN0cmluZywgY29sbGVjdGlvbiwgZGF0ZU9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAvLyBHcmFiIHRoZSBmaXJzdCB3b3JkIGZyb20gdGhlIHN0cmluZy5cclxuICAgICAgICAgIC8vIFJlZ2V4IHBhdHRlcm4gZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNTAwMzNcclxuICAgICAgICAgIHZhciB3b3JkID0gc3RyaW5nLm1hdGNoKCAvW15cXHgwMC1cXHg3Rl0rfFxcdysvIClbIDAgXTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIG1vbnRoIGluZGV4LCBhZGQgaXQgdG8gdGhlIGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICBpZiAoICFkYXRlT2JqZWN0Lm1tICYmICFkYXRlT2JqZWN0Lm0gKSB7XHJcbiAgICAgICAgICAgICAgZGF0ZU9iamVjdC5tID0gY29sbGVjdGlvbi5pbmRleE9mKCB3b3JkICkgKyAxO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSB3b3JkLlxyXG4gICAgICAgICAgcmV0dXJuIHdvcmQubGVuZ3RoXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIGluIGEgc3RyaW5nLlxyXG4gICAgICBmdW5jdGlvbiBnZXRGaXJzdFdvcmRMZW5ndGgoIHN0cmluZyApIHtcclxuICAgICAgICAgIHJldHVybiBzdHJpbmcubWF0Y2goIC9cXHcrLyApWyAwIF0ubGVuZ3RoXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgICAgZDogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBkaWdpdHMgbGVuZ3RoLlxyXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIGRhdGUuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IF8uZGlnaXRzKCBzdHJpbmcgKSA6IGRhdGVPYmplY3QuZGF0ZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRkOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCB0aGVuIHRoZSBsZW5ndGggaXMgYWx3YXlzIDIuXHJcbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgZGF0ZSB3aXRoIGEgbGVhZGluZyB6ZXJvLlxyXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyAyIDogXy5sZWFkKCBkYXRlT2JqZWN0LmRhdGUgKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRkZDogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiBnZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZC5cclxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzaG9ydCBzZWxlY3RlZCB3ZWVrZGF5LlxyXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyBnZXRGaXJzdFdvcmRMZW5ndGgoIHN0cmluZyApIDogdGhpcy5zZXR0aW5ncy53ZWVrZGF5c1Nob3J0WyBkYXRlT2JqZWN0LmRheSBdXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZGRkZDogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiBnZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZC5cclxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBmdWxsIHNlbGVjdGVkIHdlZWtkYXkuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IGdldEZpcnN0V29yZExlbmd0aCggc3RyaW5nICkgOiB0aGlzLnNldHRpbmdzLndlZWtkYXlzRnVsbFsgZGF0ZU9iamVjdC5kYXkgXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG06IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBsZW5ndGggb2YgdGhlIGRpZ2l0c1xyXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIG1vbnRoIHdpdGggMGluZGV4IGNvbXBlbnNhdGlvbi5cclxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gXy5kaWdpdHMoIHN0cmluZyApIDogZGF0ZU9iamVjdC5tb250aCArIDFcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtbTogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiB0aGUgbGVuZ3RoIGlzIGFsd2F5cyAyLlxyXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIG1vbnRoIHdpdGggMGluZGV4IGFuZCBsZWFkaW5nIHplcm8uXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IDIgOiBfLmxlYWQoIGRhdGVPYmplY3QubW9udGggKyAxIClcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtbW06IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5zZXR0aW5ncy5tb250aHNTaG9ydDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgZ2V0IGxlbmd0aCBvZiB0aGUgcmVsZXZhbnQgbW9udGggZnJvbSB0aGUgc2hvcnRcclxuICAgICAgICAgICAgICAvLyBtb250aHMgY29sbGVjdGlvbi4gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgbW9udGggZnJvbSB0aGF0IGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IGdldFdvcmRMZW5ndGhGcm9tQ29sbGVjdGlvbiggc3RyaW5nLCBjb2xsZWN0aW9uLCBkYXRlT2JqZWN0ICkgOiBjb2xsZWN0aW9uWyBkYXRlT2JqZWN0Lm1vbnRoIF1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtbW1tOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xyXG5cclxuICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuc2V0dGluZ3MubW9udGhzRnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgZ2V0IGxlbmd0aCBvZiB0aGUgcmVsZXZhbnQgbW9udGggZnJvbSB0aGUgZnVsbFxyXG4gICAgICAgICAgICAgIC8vIG1vbnRocyBjb2xsZWN0aW9uLiBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBtb250aCBmcm9tIHRoYXQgY29sbGVjdGlvbi5cclxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gZ2V0V29yZExlbmd0aEZyb21Db2xsZWN0aW9uKCBzdHJpbmcsIGNvbGxlY3Rpb24sIGRhdGVPYmplY3QgKSA6IGNvbGxlY3Rpb25bIGRhdGVPYmplY3QubW9udGggXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHl5OiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCB0aGVuIHRoZSBsZW5ndGggaXMgYWx3YXlzIDIuXHJcbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgeWVhciBieSBzbGljaW5nIG91dCB0aGUgZmlyc3QgMiBkaWdpdHMuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IDIgOiAoICcnICsgZGF0ZU9iamVjdC55ZWFyICkuc2xpY2UoIDIgKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHl5eXk6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gdGhlIGxlbmd0aCBpcyBhbHdheXMgNC5cclxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCB5ZWFyLlxyXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyA0IDogZGF0ZU9iamVjdC55ZWFyXHJcbiAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgIC8vIENyZWF0ZSBhbiBhcnJheSBieSBzcGxpdHRpbmcgdGhlIGZvcm1hdHRpbmcgc3RyaW5nIHBhc3NlZC5cclxuICAgICAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCBmb3JtYXRTdHJpbmcgKSB7IHJldHVybiBmb3JtYXRTdHJpbmcuc3BsaXQoIC8oZHsxLDR9fG17MSw0fXx5ezR9fHl5fCEuKS9nICkgfSxcclxuXHJcbiAgICAgICAgICAvLyBGb3JtYXQgYW4gb2JqZWN0IGludG8gYSBzdHJpbmcgdXNpbmcgdGhlIGZvcm1hdHRpbmcgb3B0aW9ucy5cclxuICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoIGZvcm1hdFN0cmluZywgaXRlbU9iamVjdCApIHtcclxuICAgICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzO1xyXG4gICAgICAgICAgICAgIHJldHVybiBjYWxlbmRhci5mb3JtYXRzLnRvQXJyYXkoIGZvcm1hdFN0cmluZyApLm1hcCggZnVuY3Rpb24oIGxhYmVsICkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXy50cmlnZ2VyKCBjYWxlbmRhci5mb3JtYXRzWyBsYWJlbCBdLCBjYWxlbmRhciwgWyAwLCBpdGVtT2JqZWN0IF0gKSB8fCBsYWJlbC5yZXBsYWNlKCAvXiEvLCAnJyApXHJcbiAgICAgICAgICAgICAgfSkuam9pbiggJycgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgfSkoKTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5mb3JtYXRzXHJcblxyXG5cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHR3byBkYXRlIHVuaXRzIGFyZSB0aGUgZXhhY3QuXHJcbiAgICovXHJcbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUuaXNEYXRlRXhhY3QgPSBmdW5jdGlvbiggb25lLCB0d28gKSB7XHJcblxyXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCB3ZWVrZGF5cywgZG8gYSBkaXJlY3QgY29tcGFyaXNvbi5cclxuICAgICAgaWYgKFxyXG4gICAgICAgICAgKCBfLmlzSW50ZWdlciggb25lICkgJiYgXy5pc0ludGVnZXIoIHR3byApICkgfHxcclxuICAgICAgICAgICggdHlwZW9mIG9uZSA9PSAnYm9vbGVhbicgJiYgdHlwZW9mIHR3byA9PSAnYm9vbGVhbicgKVxyXG4gICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gb25lID09PSB0d29cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCBkYXRlIHJlcHJlc2VudGF0aW9ucywgY29tcGFyZSB0aGUg4oCccGlja+KAnSB2YWx1ZS5cclxuICAgICAgaWYgKFxyXG4gICAgICAgICAgKCBfLmlzRGF0ZSggb25lICkgfHwgJCQkMS5pc0FycmF5KCBvbmUgKSApICYmXHJcbiAgICAgICAgICAoIF8uaXNEYXRlKCB0d28gKSB8fCAkJCQxLmlzQXJyYXkoIHR3byApIClcclxuICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuY3JlYXRlKCBvbmUgKS5waWNrID09PSBjYWxlbmRhci5jcmVhdGUoIHR3byApLnBpY2tcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCByYW5nZSBvYmplY3RzLCBjb21wYXJlIHRoZSDigJxmcm9t4oCdIGFuZCDigJx0b+KAnS5cclxuICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIG9uZSApICYmICQkJDEuaXNQbGFpbk9iamVjdCggdHdvICkgKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuaXNEYXRlRXhhY3QoIG9uZS5mcm9tLCB0d28uZnJvbSApICYmIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCBvbmUudG8sIHR3by50byApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB0d28gZGF0ZSB1bml0cyBvdmVybGFwLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmlzRGF0ZU92ZXJsYXAgPSBmdW5jdGlvbiggb25lLCB0d28gKSB7XHJcblxyXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxyXG4gICAgICAgICAgZmlyc3REYXkgPSBjYWxlbmRhci5zZXR0aW5ncy5maXJzdERheSA/IDEgOiAwO1xyXG5cclxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCBhIHdlZWtkYXkgaW5kZXgsIGNvbXBhcmUgdGhlIGRheXMuXHJcbiAgICAgIGlmICggXy5pc0ludGVnZXIoIG9uZSApICYmICggXy5pc0RhdGUoIHR3byApIHx8ICQkJDEuaXNBcnJheSggdHdvICkgKSApIHtcclxuICAgICAgICAgIG9uZSA9IG9uZSAlIDcgKyBmaXJzdERheTtcclxuICAgICAgICAgIHJldHVybiBvbmUgPT09IGNhbGVuZGFyLmNyZWF0ZSggdHdvICkuZGF5ICsgMVxyXG4gICAgICB9XHJcbiAgICAgIGlmICggXy5pc0ludGVnZXIoIHR3byApICYmICggXy5pc0RhdGUoIG9uZSApIHx8ICQkJDEuaXNBcnJheSggb25lICkgKSApIHtcclxuICAgICAgICAgIHR3byA9IHR3byAlIDcgKyBmaXJzdERheTtcclxuICAgICAgICAgIHJldHVybiB0d28gPT09IGNhbGVuZGFyLmNyZWF0ZSggb25lICkuZGF5ICsgMVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXaGVuIHdl4oCZcmUgd29ya2luZyB3aXRoIHJhbmdlIG9iamVjdHMsIGNoZWNrIGlmIHRoZSByYW5nZXMgb3ZlcmxhcC5cclxuICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIG9uZSApICYmICQkJDEuaXNQbGFpbk9iamVjdCggdHdvICkgKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIub3ZlcmxhcFJhbmdlcyggb25lLCB0d28gKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRmxpcCB0aGUg4oCcZW5hYmxlZOKAnSBzdGF0ZS5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5mbGlwRW5hYmxlID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIHZhciBpdGVtT2JqZWN0ID0gdGhpcy5pdGVtO1xyXG4gICAgICBpdGVtT2JqZWN0LmVuYWJsZSA9IHZhbCB8fCAoaXRlbU9iamVjdC5lbmFibGUgPT0gLTEgPyAxIDogLTEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBNYXJrIGEgY29sbGVjdGlvbiBvZiBkYXRlcyBhcyDigJxkaXNhYmxlZOKAnS5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVzVG9EaXNhYmxlICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcclxuICAgICAgICAgIGRpc2FibGVkSXRlbXMgPSBjYWxlbmRhci5pdGVtLmRpc2FibGUuc2xpY2UoMCk7XHJcblxyXG5cclxuICAgICAgLy8gSWYgd2XigJlyZSBmbGlwcGluZywgdGhhdOKAmXMgYWxsIHdlIG5lZWQgdG8gZG8uXHJcbiAgICAgIGlmICggZGF0ZXNUb0Rpc2FibGUgPT0gJ2ZsaXAnICkge1xyXG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmICggZGF0ZXNUb0Rpc2FibGUgPT09IGZhbHNlICkge1xyXG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgxKTtcclxuICAgICAgICAgIGRpc2FibGVkSXRlbXMgPSBbXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSBpZiAoIGRhdGVzVG9EaXNhYmxlID09PSB0cnVlICkge1xyXG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgtMSk7XHJcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIHRoZSBkYXRlcyB0byBkaXNhYmxlLlxyXG4gICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICBkYXRlc1RvRGlzYWJsZS5tYXAoZnVuY3Rpb24oIHVuaXRUb0Rpc2FibGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBtYXRjaEZvdW5kO1xyXG5cclxuICAgICAgICAgICAgICAvLyBXaGVuIHdlIGhhdmUgZGlzYWJsZWQgaXRlbXMsIGNoZWNrIGZvciBtYXRjaGVzLlxyXG4gICAgICAgICAgICAgIC8vIElmIHNvbWV0aGluZyBpcyBtYXRjaGVkLCBpbW1lZGlhdGVseSBicmVhayBvdXQuXHJcbiAgICAgICAgICAgICAgZm9yICggdmFyIGluZGV4ID0gMDsgaW5kZXggPCBkaXNhYmxlZEl0ZW1zLmxlbmd0aDsgaW5kZXggKz0gMSApIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCBjYWxlbmRhci5pc0RhdGVFeGFjdCggdW5pdFRvRGlzYWJsZSwgZGlzYWJsZWRJdGVtc1tpbmRleF0gKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgbm90aGluZyB3YXMgZm91bmQsIGFkZCB0aGUgdmFsaWRhdGVkIHVuaXQgdG8gdGhlIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgaWYgKCAhbWF0Y2hGb3VuZCApIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgXy5pc0ludGVnZXIoIHVuaXRUb0Rpc2FibGUgKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgXy5pc0RhdGUoIHVuaXRUb0Rpc2FibGUgKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgJCQkMS5pc0FycmF5KCB1bml0VG9EaXNhYmxlICkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICggJCQkMS5pc1BsYWluT2JqZWN0KCB1bml0VG9EaXNhYmxlICkgJiYgdW5pdFRvRGlzYWJsZS5mcm9tICYmIHVuaXRUb0Rpc2FibGUudG8gKVxyXG4gICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkSXRlbXMucHVzaCggdW5pdFRvRGlzYWJsZSApO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJldHVybiB0aGUgdXBkYXRlZCBjb2xsZWN0aW9uLlxyXG4gICAgICByZXR1cm4gZGlzYWJsZWRJdGVtc1xyXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuZGVhY3RpdmF0ZVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogTWFyayBhIGNvbGxlY3Rpb24gb2YgZGF0ZXMgYXMg4oCcZW5hYmxlZOKAnS5cclxuICAgKi9cclxuICBEYXRlUGlja2VyLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCB0eXBlLCBkYXRlc1RvRW5hYmxlICkge1xyXG5cclxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcclxuICAgICAgICAgIGRpc2FibGVkSXRlbXMgPSBjYWxlbmRhci5pdGVtLmRpc2FibGUsXHJcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zQ291bnQgPSBkaXNhYmxlZEl0ZW1zLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIElmIHdl4oCZcmUgZmxpcHBpbmcsIHRoYXTigJlzIGFsbCB3ZSBuZWVkIHRvIGRvLlxyXG4gICAgICBpZiAoIGRhdGVzVG9FbmFibGUgPT0gJ2ZsaXAnICkge1xyXG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmICggZGF0ZXNUb0VuYWJsZSA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgIGNhbGVuZGFyLmZsaXBFbmFibGUoMSk7XHJcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2UgaWYgKCBkYXRlc1RvRW5hYmxlID09PSBmYWxzZSApIHtcclxuICAgICAgICAgIGNhbGVuZGFyLmZsaXBFbmFibGUoLTEpO1xyXG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IFtdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPdGhlcndpc2UgZ28gdGhyb3VnaCB0aGUgZGlzYWJsZWQgZGF0ZXMuXHJcbiAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgIGRhdGVzVG9FbmFibGUubWFwKGZ1bmN0aW9uKCB1bml0VG9FbmFibGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBtYXRjaEZvdW5kLFxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZFVuaXQsXHJcbiAgICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgICBpc0V4YWN0UmFuZ2U7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGRpc2FibGVkIGl0ZW1zIGFuZCB0cnkgdG8gZmluZCBhIG1hdGNoLlxyXG4gICAgICAgICAgICAgIGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBkaXNhYmxlZEl0ZW1zQ291bnQ7IGluZGV4ICs9IDEgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZFVuaXQgPSBkaXNhYmxlZEl0ZW1zW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gYW4gZXhhY3QgbWF0Y2ggaXMgZm91bmQsIHJlbW92ZSBpdCBmcm9tIHRoZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCBkaXNhYmxlZFVuaXQsIHVuaXRUb0VuYWJsZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IGRpc2FibGVkSXRlbXNbaW5kZXhdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzRXhhY3RSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIGFuIG92ZXJsYXBwZWQgbWF0Y2ggaXMgZm91bmQsIGFkZCB0aGUg4oCcaW52ZXJ0ZWTigJ0gc3RhdGUgdG8gaXQuXHJcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCBjYWxlbmRhci5pc0RhdGVPdmVybGFwKCBkaXNhYmxlZFVuaXQsIHVuaXRUb0VuYWJsZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIHVuaXRUb0VuYWJsZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRUb0VuYWJsZS5pbnZlcnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHVuaXRUb0VuYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAkJCQxLmlzQXJyYXkoIHVuaXRUb0VuYWJsZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSB1bml0VG9FbmFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhbWF0Y2hGb3VuZFszXSApIG1hdGNoRm91bmQucHVzaCggJ2ludmVydGVkJyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIF8uaXNEYXRlKCB1bml0VG9FbmFibGUgKSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gWyB1bml0VG9FbmFibGUuZ2V0RnVsbFllYXIoKSwgdW5pdFRvRW5hYmxlLmdldE1vbnRoKCksIHVuaXRUb0VuYWJsZS5nZXREYXRlKCksICdpbnZlcnRlZCcgXTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIGEgbWF0Y2ggd2FzIGZvdW5kLCByZW1vdmUgYSBwcmV2aW91cyBkdXBsaWNhdGUgZW50cnkuXHJcbiAgICAgICAgICAgICAgaWYgKCBtYXRjaEZvdW5kICkgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGRpc2FibGVkSXRlbXNDb3VudDsgaW5kZXggKz0gMSApIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCBjYWxlbmRhci5pc0RhdGVFeGFjdCggZGlzYWJsZWRJdGVtc1tpbmRleF0sIHVuaXRUb0VuYWJsZSApICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRJdGVtc1tpbmRleF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gSW4gdGhlIGV2ZW50IHRoYXQgd2XigJlyZSBkZWFsaW5nIHdpdGggYW4gZXhhY3QgcmFuZ2Ugb2YgZGF0ZXMsXHJcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGFyZSBubyDigJxpbnZlcnRlZOKAnSBkYXRlcyBiZWNhdXNlIG9mIGl0LlxyXG4gICAgICAgICAgICAgIGlmICggaXNFeGFjdFJhbmdlICkgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGRpc2FibGVkSXRlbXNDb3VudDsgaW5kZXggKz0gMSApIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCBjYWxlbmRhci5pc0RhdGVPdmVybGFwKCBkaXNhYmxlZEl0ZW1zW2luZGV4XSwgdW5pdFRvRW5hYmxlICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zW2luZGV4XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBzb21ldGhpbmcgaXMgc3RpbGwgbWF0Y2hlZCwgYWRkIGl0IGludG8gdGhlIGNvbGxlY3Rpb24uXHJcbiAgICAgICAgICAgICAgaWYgKCBtYXRjaEZvdW5kICkge1xyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zLnB1c2goIG1hdGNoRm91bmQgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmV0dXJuIHRoZSB1cGRhdGVkIGNvbGxlY3Rpb24uXHJcbiAgICAgIHJldHVybiBkaXNhYmxlZEl0ZW1zLmZpbHRlcihmdW5jdGlvbiggdmFsICkgeyByZXR1cm4gdmFsICE9IG51bGwgfSlcclxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmFjdGl2YXRlXHJcblxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBzdHJpbmcgZm9yIHRoZSBub2RlcyBpbiB0aGUgcGlja2VyLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm5vZGVzID0gZnVuY3Rpb24oIGlzT3BlbiApIHtcclxuXHJcbiAgICAgIHZhclxyXG4gICAgICAgICAgY2FsZW5kYXIgPSB0aGlzLFxyXG4gICAgICAgICAgc2V0dGluZ3MgPSBjYWxlbmRhci5zZXR0aW5ncyxcclxuICAgICAgICAgIGNhbGVuZGFySXRlbSA9IGNhbGVuZGFyLml0ZW0sXHJcbiAgICAgICAgICBub3dPYmplY3QgPSBjYWxlbmRhckl0ZW0ubm93LFxyXG4gICAgICAgICAgc2VsZWN0ZWRPYmplY3QgPSBjYWxlbmRhckl0ZW0uc2VsZWN0LFxyXG4gICAgICAgICAgaGlnaGxpZ2h0ZWRPYmplY3QgPSBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0LFxyXG4gICAgICAgICAgdmlld3NldE9iamVjdCA9IGNhbGVuZGFySXRlbS52aWV3LFxyXG4gICAgICAgICAgZGlzYWJsZWRDb2xsZWN0aW9uID0gY2FsZW5kYXJJdGVtLmRpc2FibGUsXHJcbiAgICAgICAgICBtaW5MaW1pdE9iamVjdCA9IGNhbGVuZGFySXRlbS5taW4sXHJcbiAgICAgICAgICBtYXhMaW1pdE9iamVjdCA9IGNhbGVuZGFySXRlbS5tYXgsXHJcblxyXG5cclxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FsZW5kYXIgdGFibGUgaGVhZCB1c2luZyBhIGNvcHkgb2Ygd2Vla2RheSBsYWJlbHMgY29sbGVjdGlvbi5cclxuICAgICAgICAgIC8vICogV2UgZG8gYSBjb3B5IHNvIHdlIGRvbid0IG11dGF0ZSB0aGUgb3JpZ2luYWwgYXJyYXkuXHJcbiAgICAgICAgICB0YWJsZUhlYWQgPSAoZnVuY3Rpb24oIGNvbGxlY3Rpb24sIGZ1bGxDb2xsZWN0aW9uICkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgZGF5IHNob3VsZCBiZSBNb25kYXksIG1vdmUgU3VuZGF5IHRvIHRoZSBlbmQuXHJcbiAgICAgICAgICAgICAgaWYgKCBzZXR0aW5ncy5maXJzdERheSApIHtcclxuICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKCBjb2xsZWN0aW9uLnNoaWZ0KCkgKTtcclxuICAgICAgICAgICAgICAgICAgZnVsbENvbGxlY3Rpb24ucHVzaCggZnVsbENvbGxlY3Rpb24uc2hpZnQoKSApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCByZXR1cm4gdGhlIHRhYmxlIGhlYWQgZ3JvdXAuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZShcclxuICAgICAgICAgICAgICAgICAgJ3RoZWFkJyxcclxuICAgICAgICAgICAgICAgICAgXy5ub2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgJ3RyJyxcclxuICAgICAgICAgICAgICAgICAgICAgIF8uZ3JvdXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IERBWVNfSU5fV0VFSyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAndGgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCBjb3VudGVyICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvblsgY291bnRlciBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mua2xhc3Mud2Vla2RheXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2NvcGU9Y29sIHRpdGxlPVwiJyArIGZ1bGxDb2xsZWN0aW9uWyBjb3VudGVyIF0gKyAnXCInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgKSAvL2VuZHJldHVyblxyXG4gICAgICAgICAgfSkoICggc2V0dGluZ3Muc2hvd1dlZWtkYXlzRnVsbCA/IHNldHRpbmdzLndlZWtkYXlzRnVsbCA6IHNldHRpbmdzLndlZWtkYXlzU2hvcnQgKS5zbGljZSggMCApLCBzZXR0aW5ncy53ZWVrZGF5c0Z1bGwuc2xpY2UoIDAgKSApLCAvL3RhYmxlSGVhZFxyXG5cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIG5hdiBmb3IgbmV4dC9wcmV2IG1vbnRoLlxyXG4gICAgICAgICAgY3JlYXRlTW9udGhOYXYgPSBmdW5jdGlvbiggbmV4dCApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIGNyZWF0ZWQgbW9udGggdGFnLlxyXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAnICcsXHJcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmtsYXNzWyAnbmF2JyArICggbmV4dCA/ICdOZXh0JyA6ICdQcmV2JyApIF0gKyAoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGZvY3VzZWQgbW9udGggaXMgb3V0c2lkZSB0aGUgcmFuZ2UsIGRpc2FibGVkIHRoZSBidXR0b24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAoIG5leHQgJiYgdmlld3NldE9iamVjdC55ZWFyID49IG1heExpbWl0T2JqZWN0LnllYXIgJiYgdmlld3NldE9iamVjdC5tb250aCA+PSBtYXhMaW1pdE9iamVjdC5tb250aCApIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAoICFuZXh0ICYmIHZpZXdzZXRPYmplY3QueWVhciA8PSBtaW5MaW1pdE9iamVjdC55ZWFyICYmIHZpZXdzZXRPYmplY3QubW9udGggPD0gbWluTGltaXRPYmplY3QubW9udGggKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAnICcgKyBzZXR0aW5ncy5rbGFzcy5uYXZEaXNhYmxlZCA6ICcnXHJcbiAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICdkYXRhLW5hdj0nICsgKCBuZXh0IHx8IC0xICkgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICBfLmFyaWFBdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkICsgJ190YWJsZSdcclxuICAgICAgICAgICAgICAgICAgfSkgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAndGl0bGU9XCInICsgKG5leHQgPyBzZXR0aW5ncy5sYWJlbE1vbnRoTmV4dCA6IHNldHRpbmdzLmxhYmVsTW9udGhQcmV2ICkgKyAnXCInXHJcbiAgICAgICAgICAgICAgKSAvL2VuZHJldHVyblxyXG4gICAgICAgICAgfSwgLy9jcmVhdGVNb250aE5hdlxyXG5cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1vbnRoIGxhYmVsLlxyXG4gICAgICAgICAgY3JlYXRlTW9udGhMYWJlbCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICB2YXIgbW9udGhzQ29sbGVjdGlvbiA9IHNldHRpbmdzLnNob3dNb250aHNTaG9ydCA/IHNldHRpbmdzLm1vbnRoc1Nob3J0IDogc2V0dGluZ3MubW9udGhzRnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG1vbnRocyB0byBzZWxlY3QsIGFkZCBhIGRyb3Bkb3duIG1lbnUuXHJcbiAgICAgICAgICAgICAgaWYgKCBzZXR0aW5ncy5zZWxlY3RNb250aHMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnc2VsZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgIF8uZ3JvdXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDExLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ29wdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIGxvb3BlZE1vbnRoICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbG9vcGVkIG1vbnRoIGFuZCBubyBjbGFzc2VzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhzQ29sbGVjdGlvblsgbG9vcGVkTW9udGggXSwgMCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHZhbHVlIGFuZCBzZWxlY3RlZCBpbmRleC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZT0nICsgbG9vcGVkTW9udGggK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCB2aWV3c2V0T2JqZWN0Lm1vbnRoID09IGxvb3BlZE1vbnRoID8gJyBzZWxlY3RlZCcgOiAnJyApICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggdmlld3NldE9iamVjdC55ZWFyID09IG1pbkxpbWl0T2JqZWN0LnllYXIgJiYgbG9vcGVkTW9udGggPCBtaW5MaW1pdE9iamVjdC5tb250aCApIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggdmlld3NldE9iamVjdC55ZWFyID09IG1heExpbWl0T2JqZWN0LnllYXIgJiYgbG9vcGVkTW9udGggPiBtYXhMaW1pdE9iamVjdC5tb250aCApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkaXNhYmxlZCcgOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCxcclxuICAgICAgICAgICAgICAgICAgICAgICggaXNPcGVuID8gJycgOiAnZGlzYWJsZWQnICkgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgXy5hcmlhQXR0cih7IGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCArICdfdGFibGUnIH0pICsgJyAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICd0aXRsZT1cIicgKyBzZXR0aW5ncy5sYWJlbE1vbnRoU2VsZWN0ICsgJ1wiJ1xyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgbmVlZCBmb3IgYSBtb250aCBzZWxlY3RvclxyXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoICdkaXYnLCBtb250aHNDb2xsZWN0aW9uWyB2aWV3c2V0T2JqZWN0Lm1vbnRoIF0sIHNldHRpbmdzLmtsYXNzLm1vbnRoIClcclxuICAgICAgICAgIH0sIC8vY3JlYXRlTW9udGhMYWJlbFxyXG5cclxuXHJcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIHllYXIgbGFiZWwuXHJcbiAgICAgICAgICBjcmVhdGVZZWFyTGFiZWwgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIGZvY3VzZWRZZWFyID0gdmlld3NldE9iamVjdC55ZWFyLFxyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB5ZWFycyBzZWxlY3RvciBpcyBzZXQgdG8gYSBsaXRlcmFsIFwidHJ1ZVwiLCBzZXQgaXQgdG8gNS4gT3RoZXJ3aXNlXHJcbiAgICAgICAgICAgICAgLy8gZGl2aWRlIGluIGhhbGYgdG8gZ2V0IGhhbGYgYmVmb3JlIGFuZCBoYWxmIGFmdGVyIGZvY3VzZWQgeWVhci5cclxuICAgICAgICAgICAgICBudW1iZXJZZWFycyA9IHNldHRpbmdzLnNlbGVjdFllYXJzID09PSB0cnVlID8gNSA6IH5+KCBzZXR0aW5ncy5zZWxlY3RZZWFycyAvIDIgKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIHllYXJzIHRvIHNlbGVjdCwgYWRkIGEgZHJvcGRvd24gbWVudS5cclxuICAgICAgICAgICAgICBpZiAoIG51bWJlclllYXJzICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgdmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5ZZWFyID0gbWluTGltaXRPYmplY3QueWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgIG1heFllYXIgPSBtYXhMaW1pdE9iamVjdC55ZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgbG93ZXN0WWVhciA9IGZvY3VzZWRZZWFyIC0gbnVtYmVyWWVhcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICBoaWdoZXN0WWVhciA9IGZvY3VzZWRZZWFyICsgbnVtYmVyWWVhcnM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbWluIHllYXIgaXMgZ3JlYXRlciB0aGFuIHRoZSBsb3dlc3QgeWVhciwgaW5jcmVhc2UgdGhlIGhpZ2hlc3QgeWVhclxyXG4gICAgICAgICAgICAgICAgICAvLyBieSB0aGUgZGlmZmVyZW5jZSBhbmQgc2V0IHRoZSBsb3dlc3QgeWVhciB0byB0aGUgbWluIHllYXIuXHJcbiAgICAgICAgICAgICAgICAgIGlmICggbWluWWVhciA+IGxvd2VzdFllYXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBoaWdoZXN0WWVhciArPSBtaW5ZZWFyIC0gbG93ZXN0WWVhcjtcclxuICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFllYXIgPSBtaW5ZZWFyO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbWF4IHllYXIgaXMgbGVzcyB0aGFuIHRoZSBoaWdoZXN0IHllYXIsIGRlY3JlYXNlIHRoZSBsb3dlc3QgeWVhclxyXG4gICAgICAgICAgICAgICAgICAvLyBieSB0aGUgbG93ZXIgb2YgdGhlIHR3bzogYXZhaWxhYmxlIGFuZCBuZWVkZWQgeWVhcnMuIFRoZW4gc2V0IHRoZVxyXG4gICAgICAgICAgICAgICAgICAvLyBoaWdoZXN0IHllYXIgdG8gdGhlIG1heCB5ZWFyLlxyXG4gICAgICAgICAgICAgICAgICBpZiAoIG1heFllYXIgPCBoaWdoZXN0WWVhciApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgYXZhaWxhYmxlWWVhcnMgPSBsb3dlc3RZZWFyIC0gbWluWWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkZWRZZWFycyA9IGhpZ2hlc3RZZWFyIC0gbWF4WWVhcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RZZWFyIC09IGF2YWlsYWJsZVllYXJzID4gbmVlZGVkWWVhcnMgPyBuZWVkZWRZZWFycyA6IGF2YWlsYWJsZVllYXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFllYXIgPSBtYXhZZWFyO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnc2VsZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgIF8uZ3JvdXAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbG93ZXN0WWVhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IGhpZ2hlc3RZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ29wdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIGxvb3BlZFllYXIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxvb3BlZCB5ZWFyIGFuZCBubyBjbGFzc2VzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcGVkWWVhciwgMCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHZhbHVlIGFuZCBzZWxlY3RlZCBpbmRleC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZT0nICsgbG9vcGVkWWVhciArICggZm9jdXNlZFllYXIgPT0gbG9vcGVkWWVhciA/ICcgc2VsZWN0ZWQnIDogJycgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5zZWxlY3RZZWFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgKCBpc09wZW4gPyAnJyA6ICdkaXNhYmxlZCcgKSArICcgJyArIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgKyAnX3RhYmxlJyB9KSArICcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAndGl0bGU9XCInICsgc2V0dGluZ3MubGFiZWxZZWFyU2VsZWN0ICsgJ1wiJ1xyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UganVzdCByZXR1cm4gdGhlIHllYXIgZm9jdXNlZFxyXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoICdkaXYnLCBmb2N1c2VkWWVhciwgc2V0dGluZ3Mua2xhc3MueWVhciApXHJcbiAgICAgICAgICB9OyAvL2NyZWF0ZVllYXJMYWJlbFxyXG5cclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhbmQgcmV0dXJuIHRoZSBlbnRpcmUgY2FsZW5kYXIuXHJcbiAgICAgIHJldHVybiBfLm5vZGUoXHJcbiAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICggc2V0dGluZ3Muc2VsZWN0WWVhcnMgPyBjcmVhdGVZZWFyTGFiZWwoKSArIGNyZWF0ZU1vbnRoTGFiZWwoKSA6IGNyZWF0ZU1vbnRoTGFiZWwoKSArIGNyZWF0ZVllYXJMYWJlbCgpICkgK1xyXG4gICAgICAgICAgY3JlYXRlTW9udGhOYXYoKSArIGNyZWF0ZU1vbnRoTmF2KCAxICksXHJcbiAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5oZWFkZXJcclxuICAgICAgKSArIF8ubm9kZShcclxuICAgICAgICAgICd0YWJsZScsXHJcbiAgICAgICAgICB0YWJsZUhlYWQgK1xyXG4gICAgICAgICAgXy5ub2RlKFxyXG4gICAgICAgICAgICAgICd0Ym9keScsXHJcbiAgICAgICAgICAgICAgXy5ncm91cCh7XHJcbiAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgbWF4OiBXRUVLU19JTl9DQUxFTkRBUiAtIDEsXHJcbiAgICAgICAgICAgICAgICAgIGk6IDEsXHJcbiAgICAgICAgICAgICAgICAgIG5vZGU6ICd0cicsXHJcbiAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCByb3dDb3VudGVyICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIE1vbmRheSBpcyB0aGUgZmlyc3QgZGF5IGFuZCB0aGUgbW9udGggc3RhcnRzIG9uIFN1bmRheSwgc2hpZnQgdGhlIGRhdGUgYmFjayBhIHdlZWsuXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZnREYXRlQnkgPSBzZXR0aW5ncy5maXJzdERheSAmJiBjYWxlbmRhci5jcmVhdGUoWyB2aWV3c2V0T2JqZWN0LnllYXIsIHZpZXdzZXRPYmplY3QubW9udGgsIDEgXSkuZGF5ID09PSAwID8gLTcgOiAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXy5ncm91cCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogREFZU19JTl9XRUVLICogcm93Q291bnRlciAtIHZpZXdzZXRPYmplY3QuZGF5ICsgc2hpZnREYXRlQnkgKyAxLCAvLyBBZGQgMSBmb3Igd2Vla2RheSAwaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbiArIERBWVNfSU5fV0VFSyAtIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogJ3RkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIHRhcmdldERhdGUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgdGltZSBkYXRlIGZyb20gYSByZWxhdGl2ZSBkYXRlIHRvIGEgdGFyZ2V0IGRhdGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRlID0gY2FsZW5kYXIuY3JlYXRlKFsgdmlld3NldE9iamVjdC55ZWFyLCB2aWV3c2V0T2JqZWN0Lm1vbnRoLCB0YXJnZXREYXRlICsgKCBzZXR0aW5ncy5maXJzdERheSA/IDEgOiAwICkgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBzZWxlY3RlZE9iamVjdCAmJiBzZWxlY3RlZE9iamVjdC5waWNrID09IHRhcmdldERhdGUucGljayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hpZ2hsaWdodGVkID0gaGlnaGxpZ2h0ZWRPYmplY3QgJiYgaGlnaGxpZ2h0ZWRPYmplY3QucGljayA9PSB0YXJnZXREYXRlLnBpY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZCA9IGRpc2FibGVkQ29sbGVjdGlvbiAmJiBjYWxlbmRhci5kaXNhYmxlZCggdGFyZ2V0RGF0ZSApIHx8IHRhcmdldERhdGUucGljayA8IG1pbkxpbWl0T2JqZWN0LnBpY2sgfHwgdGFyZ2V0RGF0ZS5waWNrID4gbWF4TGltaXRPYmplY3QucGljayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWREYXRlID0gXy50cmlnZ2VyKCBjYWxlbmRhci5mb3JtYXRzLnRvU3RyaW5nLCBjYWxlbmRhciwgWyBzZXR0aW5ncy5mb3JtYXQsIHRhcmdldERhdGUgXSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5ub2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0ZS5kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oIGtsYXNzZXMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBgaW5mb2N1c2Agb3IgYG91dGZvY3VzYCBjbGFzc2VzIGJhc2VkIG9uIG1vbnRoIGluIHZpZXcuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHZpZXdzZXRPYmplY3QubW9udGggPT0gdGFyZ2V0RGF0ZS5tb250aCA/IHNldHRpbmdzLmtsYXNzLmluZm9jdXMgOiBzZXR0aW5ncy5rbGFzcy5vdXRmb2N1cyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYHRvZGF5YCBjbGFzcyBpZiBuZWVkZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG5vd09iamVjdC5waWNrID09IHRhcmdldERhdGUucGljayApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLm5vdyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYHNlbGVjdGVkYCBjbGFzcyBpZiBzb21ldGhpbmcncyBzZWxlY3RlZCBhbmQgdGhlIHRpbWUgbWF0Y2hlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNTZWxlY3RlZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLnNlbGVjdGVkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBgaGlnaGxpZ2h0ZWRgIGNsYXNzIGlmIHNvbWV0aGluZydzIGhpZ2hsaWdodGVkIGFuZCB0aGUgdGltZSBtYXRjaGVzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc0hpZ2hsaWdodGVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtsYXNzZXMucHVzaCggc2V0dGluZ3Mua2xhc3MuaGlnaGxpZ2h0ZWQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGBkaXNhYmxlZGAgY2xhc3MgaWYgc29tZXRoaW5nJ3MgZGlzYWJsZWQgYW5kIHRoZSBvYmplY3QgbWF0Y2hlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNEaXNhYmxlZCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLmRpc2FibGVkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtsYXNzZXMuam9pbiggJyAnIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoWyBzZXR0aW5ncy5rbGFzcy5kYXkgXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXBpY2s9JyArIHRhcmdldERhdGUucGljayArICcgJyArIF8uYXJpYUF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmb3JtYXR0ZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGlzU2VsZWN0ZWQgJiYgY2FsZW5kYXIuJG5vZGUudmFsKCkgPT09IGZvcm1hdHRlZERhdGUgPyB0cnVlIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZWRlc2NlbmRhbnQ6IGlzSGlnaGxpZ2h0ZWQgPyB0cnVlIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkID8gdHJ1ZSA6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyByb2xlOiAncHJlc2VudGF0aW9uJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSAvL2VuZHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgIF0gLy9lbmRyZXR1cm5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgc2V0dGluZ3Mua2xhc3MudGFibGUsXHJcbiAgICAgICAgICAnaWQ9XCInICsgY2FsZW5kYXIuJG5vZGVbMF0uaWQgKyAnX3RhYmxlJyArICdcIiAnICsgXy5hcmlhQXR0cih7XHJcbiAgICAgICAgICAgICAgcm9sZTogJ2dyaWQnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCxcclxuICAgICAgICAgICAgICByZWFkb25seTogdHJ1ZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgKSArXHJcblxyXG4gICAgICAvLyAqIEZvciBGaXJlZm94IGZvcm1zIHRvIHN1Ym1pdCwgbWFrZSBzdXJlIHRvIHNldCB0aGUgYnV0dG9uc+KAmSBgdHlwZWAgYXR0cmlidXRlcyBhcyDigJxidXR0b27igJ0uXHJcbiAgICAgIF8ubm9kZShcclxuICAgICAgICAgICdkaXYnLFxyXG4gICAgICAgICAgXy5ub2RlKCAnYnV0dG9uJywgc2V0dGluZ3MudG9kYXksIHNldHRpbmdzLmtsYXNzLmJ1dHRvblRvZGF5LFxyXG4gICAgICAgICAgICAgICd0eXBlPWJ1dHRvbiBkYXRhLXBpY2s9JyArIG5vd09iamVjdC5waWNrICtcclxuICAgICAgICAgICAgICAoIGlzT3BlbiAmJiAhY2FsZW5kYXIuZGlzYWJsZWQobm93T2JqZWN0KSA/ICcnIDogJyBkaXNhYmxlZCcgKSArICcgJyArXHJcbiAgICAgICAgICAgICAgXy5hcmlhQXR0cih7IGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCB9KSApICtcclxuICAgICAgICAgIF8ubm9kZSggJ2J1dHRvbicsIHNldHRpbmdzLmNsZWFyLCBzZXR0aW5ncy5rbGFzcy5idXR0b25DbGVhcixcclxuICAgICAgICAgICAgICAndHlwZT1idXR0b24gZGF0YS1jbGVhcj0xJyArXHJcbiAgICAgICAgICAgICAgKCBpc09wZW4gPyAnJyA6ICcgZGlzYWJsZWQnICkgKyAnICcgK1xyXG4gICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgfSkgKSArXHJcbiAgICAgICAgICBfLm5vZGUoJ2J1dHRvbicsIHNldHRpbmdzLmNsb3NlLCBzZXR0aW5ncy5rbGFzcy5idXR0b25DbG9zZSxcclxuICAgICAgICAgICAgICAndHlwZT1idXR0b24gZGF0YS1jbG9zZT10cnVlICcgK1xyXG4gICAgICAgICAgICAgICggaXNPcGVuID8gJycgOiAnIGRpc2FibGVkJyApICsgJyAnICtcclxuICAgICAgICAgICAgICBfLmFyaWFBdHRyKHsgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkIH0pICksXHJcbiAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5mb290ZXJcclxuICAgICAgKSAvL2VuZHJldHVyblxyXG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUubm9kZXNcclxuXHJcblxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGRhdGUgcGlja2VyIGRlZmF1bHRzLlxyXG4gICAqL1xyXG4gIERhdGVQaWNrZXIuZGVmYXVsdHMgPSAoZnVuY3Rpb24oIHByZWZpeCApIHtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgICAgLy8gVGhlIHRpdGxlIGxhYmVsIHRvIHVzZSBmb3IgdGhlIG1vbnRoIG5hdiBidXR0b25zXHJcbiAgICAgICAgICBsYWJlbE1vbnRoTmV4dDogJ05leHQgbW9udGgnLFxyXG4gICAgICAgICAgbGFiZWxNb250aFByZXY6ICdQcmV2aW91cyBtb250aCcsXHJcblxyXG4gICAgICAgICAgLy8gVGhlIHRpdGxlIGxhYmVsIHRvIHVzZSBmb3IgdGhlIGRyb3Bkb3duIHNlbGVjdG9yc1xyXG4gICAgICAgICAgbGFiZWxNb250aFNlbGVjdDogJ1NlbGVjdCBhIG1vbnRoJyxcclxuICAgICAgICAgIGxhYmVsWWVhclNlbGVjdDogJ1NlbGVjdCBhIHllYXInLFxyXG5cclxuICAgICAgICAgIC8vIE1vbnRocyBhbmQgd2Vla2RheXNcclxuICAgICAgICAgIG1vbnRoc0Z1bGw6IFsgJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInIF0sXHJcbiAgICAgICAgICBtb250aHNTaG9ydDogWyAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnIF0sXHJcbiAgICAgICAgICB3ZWVrZGF5c0Z1bGw6IFsgJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5JyBdLFxyXG4gICAgICAgICAgd2Vla2RheXNTaG9ydDogWyAnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0JyBdLFxyXG5cclxuICAgICAgICAgIC8vIFRvZGF5IGFuZCBjbGVhclxyXG4gICAgICAgICAgdG9kYXk6ICdUb2RheScsXHJcbiAgICAgICAgICBjbGVhcjogJ0NsZWFyJyxcclxuICAgICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxyXG5cclxuICAgICAgICAgIC8vIFBpY2tlciBjbG9zZSBiZWhhdmlvclxyXG4gICAgICAgICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcclxuICAgICAgICAgIGNsb3NlT25DbGVhcjogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAvLyBUaGUgZm9ybWF0IHRvIHNob3cgb24gdGhlIGBpbnB1dGAgZWxlbWVudFxyXG4gICAgICAgICAgZm9ybWF0OiAnZCBtbW1tLCB5eXl5JyxcclxuXHJcbiAgICAgICAgICAvLyBDbGFzc2VzXHJcbiAgICAgICAgICBrbGFzczoge1xyXG5cclxuICAgICAgICAgICAgICB0YWJsZTogcHJlZml4ICsgJ3RhYmxlJyxcclxuXHJcbiAgICAgICAgICAgICAgaGVhZGVyOiBwcmVmaXggKyAnaGVhZGVyJyxcclxuXHJcbiAgICAgICAgICAgICAgbmF2UHJldjogcHJlZml4ICsgJ25hdi0tcHJldicsXHJcbiAgICAgICAgICAgICAgbmF2TmV4dDogcHJlZml4ICsgJ25hdi0tbmV4dCcsXHJcbiAgICAgICAgICAgICAgbmF2RGlzYWJsZWQ6IHByZWZpeCArICduYXYtLWRpc2FibGVkJyxcclxuXHJcbiAgICAgICAgICAgICAgbW9udGg6IHByZWZpeCArICdtb250aCcsXHJcbiAgICAgICAgICAgICAgeWVhcjogcHJlZml4ICsgJ3llYXInLFxyXG5cclxuICAgICAgICAgICAgICBzZWxlY3RNb250aDogcHJlZml4ICsgJ3NlbGVjdC0tbW9udGgnLFxyXG4gICAgICAgICAgICAgIHNlbGVjdFllYXI6IHByZWZpeCArICdzZWxlY3QtLXllYXInLFxyXG5cclxuICAgICAgICAgICAgICB3ZWVrZGF5czogcHJlZml4ICsgJ3dlZWtkYXknLFxyXG5cclxuICAgICAgICAgICAgICBkYXk6IHByZWZpeCArICdkYXknLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVkOiBwcmVmaXggKyAnZGF5LS1kaXNhYmxlZCcsXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHByZWZpeCArICdkYXktLXNlbGVjdGVkJyxcclxuICAgICAgICAgICAgICBoaWdobGlnaHRlZDogcHJlZml4ICsgJ2RheS0taGlnaGxpZ2h0ZWQnLFxyXG4gICAgICAgICAgICAgIG5vdzogcHJlZml4ICsgJ2RheS0tdG9kYXknLFxyXG4gICAgICAgICAgICAgIGluZm9jdXM6IHByZWZpeCArICdkYXktLWluZm9jdXMnLFxyXG4gICAgICAgICAgICAgIG91dGZvY3VzOiBwcmVmaXggKyAnZGF5LS1vdXRmb2N1cycsXHJcblxyXG4gICAgICAgICAgICAgIGZvb3RlcjogcHJlZml4ICsgJ2Zvb3RlcicsXHJcblxyXG4gICAgICAgICAgICAgIGJ1dHRvbkNsZWFyOiBwcmVmaXggKyAnYnV0dG9uLS1jbGVhcicsXHJcbiAgICAgICAgICAgICAgYnV0dG9uVG9kYXk6IHByZWZpeCArICdidXR0b24tLXRvZGF5JyxcclxuICAgICAgICAgICAgICBidXR0b25DbG9zZTogcHJlZml4ICsgJ2J1dHRvbi0tY2xvc2UnXHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICB9KSggUGlja2VyLmtsYXNzZXMoKS5waWNrZXIgKyAnX18nICk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAvKipcclxuICAgKiBFeHRlbmQgdGhlIHBpY2tlciB0byBhZGQgdGhlIGRhdGUgcGlja2VyLlxyXG4gICAqL1xyXG4gIFBpY2tlci5leHRlbmQoICdwaWNrYWRhdGUnLCBEYXRlUGlja2VyICk7XHJcblxyXG5cclxuICB9KSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qXHJcbiAgICogRGF0ZSBwaWNrZXIgcGx1Z2luIGV4dGVuZHMgYHBpY2thZGF0ZS5qc2AgYnkgQW1zdWxcclxuICAgKi9cclxuXHJcbiAgdmFyIFBpY2tEYXRlID0gZnVuY3Rpb24gKCQkJDEpIHtcclxuICAgIC8vIGNvbnN0YW50cyA+Pj5cclxuICAgIHZhciBEQVRBX0tFWSA9ICdtZC5waWNrZGF0ZSc7XHJcbiAgICB2YXIgTkFNRSA9ICdwaWNrZGF0ZSc7XHJcbiAgICB2YXIgTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xyXG4gICAgdmFyIERlZmF1bHQgPSB7XHJcbiAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXHJcbiAgICAgIGNsb3NlT25DYW5jZWw6IHRydWUsXHJcbiAgICAgIGNsb3NlT25TZWxlY3Q6IGZhbHNlLFxyXG4gICAgICBjb250YWluZXI6ICcnLFxyXG4gICAgICBjb250YWluZXJIaWRkZW46ICcnLFxyXG4gICAgICBkaXNhYmxlOiBbXSxcclxuICAgICAgZmlyc3REYXk6IDAsXHJcbiAgICAgIGZvcm1hdDogJ2QvbS95eXl5JyxcclxuICAgICAgZm9ybWF0U3VibWl0OiAnJyxcclxuICAgICAgaGlkZGVuTmFtZTogZmFsc2UsXHJcbiAgICAgIGhpZGRlblByZWZpeDogJycsXHJcbiAgICAgIGhpZGRlblN1ZmZpeDogJycsXHJcbiAgICAgIGtsYXNzOiB7XHJcbiAgICAgICAgLy8gYnV0dG9uXHJcbiAgICAgICAgYnV0dG9uQ2xlYXI6ICdidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBwaWNrZXItYnV0dG9uLWNsZWFyJyxcclxuICAgICAgICBidXR0b25DbG9zZTogJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5IHBpY2tlci1idXR0b24tY2xvc2UnLFxyXG4gICAgICAgIGJ1dHRvblRvZGF5OiAnYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgcGlja2VyLWJ1dHRvbi10b2RheScsXHJcbiAgICAgICAgLy8gZGF5XHJcbiAgICAgICAgZGF5OiAncGlja2VyLWRheScsXHJcbiAgICAgICAgZGlzYWJsZWQ6ICdwaWNrZXItZGF5LWRpc2FibGVkJyxcclxuICAgICAgICBoaWdobGlnaHRlZDogJ3BpY2tlci1kYXktaGlnaGxpZ2h0ZWQnLFxyXG4gICAgICAgIGluZm9jdXM6ICdwaWNrZXItZGF5LWluZm9jdXMnLFxyXG4gICAgICAgIG5vdzogJ3BpY2tlci1kYXktdG9kYXknLFxyXG4gICAgICAgIG91dGZvY3VzOiAncGlja2VyLWRheS1vdXRmb2N1cycsXHJcbiAgICAgICAgc2VsZWN0ZWQ6ICdwaWNrZXItZGF5LXNlbGVjdGVkJyxcclxuICAgICAgICB3ZWVrZGF5czogJ3BpY2tlci13ZWVrZGF5JyxcclxuICAgICAgICAvLyBlbGVtZW50XHJcbiAgICAgICAgYm94OiAncGlja2VyLWJveCcsXHJcbiAgICAgICAgZm9vdGVyOiAncGlja2VyLWZvb3RlcicsXHJcbiAgICAgICAgZnJhbWU6ICdwaWNrZXItZnJhbWUnLFxyXG4gICAgICAgIGhlYWRlcjogJ3BpY2tlci1oZWFkZXInLFxyXG4gICAgICAgIGhvbGRlcjogJ3BpY2tlci1ob2xkZXInLFxyXG4gICAgICAgIHRhYmxlOiAncGlja2VyLXRhYmxlJyxcclxuICAgICAgICB3cmFwOiAncGlja2VyLXdyYXAnLFxyXG4gICAgICAgIC8vIGlucHV0IGVsZW1lbnRcclxuICAgICAgICBhY3RpdmU6ICdwaWNrZXItaW5wdXQtYWN0aXZlJyxcclxuICAgICAgICBpbnB1dDogJ3BpY2tlci1pbnB1dCcsXHJcbiAgICAgICAgLy8gbW9udGggYW5kIHllYXIgbmF2XHJcbiAgICAgICAgbW9udGg6ICdwaWNrZXItbW9udGgnLFxyXG4gICAgICAgIG5hdkRpc2FibGVkOiAncGlja2VyLW5hdi1kaXNhYmxlZCcsXHJcbiAgICAgICAgbmF2TmV4dDogJ21hdGVyaWFsLWljb25zIHBpY2tlci1uYXYtbmV4dCcsXHJcbiAgICAgICAgbmF2UHJldjogJ21hdGVyaWFsLWljb25zIHBpY2tlci1uYXYtcHJldicsXHJcbiAgICAgICAgc2VsZWN0TW9udGg6ICdwaWNrZXItc2VsZWN0LW1vbnRoJyxcclxuICAgICAgICBzZWxlY3RZZWFyOiAncGlja2VyLXNlbGVjdC15ZWFyJyxcclxuICAgICAgICB5ZWFyOiAncGlja2VyLXllYXInLFxyXG4gICAgICAgIC8vIHJvb3QgcGlja2VyXHJcbiAgICAgICAgZm9jdXNlZDogJ3BpY2tlci1mb2N1c2VkJyxcclxuICAgICAgICBvcGVuZWQ6ICdwaWNrZXItb3BlbmVkJyxcclxuICAgICAgICBwaWNrZXI6ICdwaWNrZXInXHJcbiAgICAgIH0sXHJcbiAgICAgIGxhYmVsTW9udGhOZXh0OiAnTmV4dCBtb250aCcsXHJcbiAgICAgIGxhYmVsTW9udGhQcmV2OiAnUHJldmlvdXMgbW9udGgnLFxyXG4gICAgICBsYWJlbE1vbnRoU2VsZWN0OiAnU2VsZWN0IGEgbW9udGgnLFxyXG4gICAgICBsYWJlbFllYXJTZWxlY3Q6ICdTZWxlY3QgYSB5ZWFyJyxcclxuICAgICAgbWF4OiBmYWxzZSxcclxuICAgICAgbWluOiBmYWxzZSxcclxuICAgICAgbW9udGhzRnVsbDogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXHJcbiAgICAgIG1vbnRoc1Nob3J0OiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ10sXHJcbiAgICAgIG9rOiAnT0snLFxyXG4gICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgey8vIERvIG5vdGhpbmdcclxuICAgICAgfSxcclxuICAgICAgb25PcGVuOiBmdW5jdGlvbiBvbk9wZW4oKSB7Ly8gRG8gbm90aGluZ1xyXG4gICAgICB9LFxyXG4gICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7Ly8gRG8gbm90aGluZ1xyXG4gICAgICB9LFxyXG4gICAgICBvblNldDogZnVuY3Rpb24gb25TZXQoKSB7Ly8gRG8gbm90aGluZ1xyXG4gICAgICB9LFxyXG4gICAgICBvblN0YXJ0OiBmdW5jdGlvbiBvblN0YXJ0KCkgey8vIERvIG5vdGhpbmdcclxuICAgICAgfSxcclxuICAgICAgb25TdG9wOiBmdW5jdGlvbiBvblN0b3AoKSB7Ly8gRG8gbm90aGluZ1xyXG4gICAgICB9LFxyXG4gICAgICBzZWxlY3RNb250aHM6IGZhbHNlLFxyXG4gICAgICBzZWxlY3RZZWFyczogZmFsc2UsXHJcbiAgICAgIHRvZGF5OiAnJyxcclxuICAgICAgd2Vla2RheXNGdWxsOiBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddLFxyXG4gICAgICB3ZWVrZGF5c1Nob3J0OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXVxyXG4gICAgfTtcclxuICAgIHZhciBEZWZhdWx0VHlwZSA9IHtcclxuICAgICAgY2FuY2VsOiAnc3RyaW5nJyxcclxuICAgICAgY2xvc2VPbkNhbmNlbDogJ2Jvb2xlYW4nLFxyXG4gICAgICBjbG9zZU9uU2VsZWN0OiAnYm9vbGVhbicsXHJcbiAgICAgIGNvbnRhaW5lcjogJ3N0cmluZycsXHJcbiAgICAgIGNvbnRhaW5lckhpZGRlbjogJ3N0cmluZycsXHJcbiAgICAgIGRpc2FibGU6ICdhcnJheScsXHJcbiAgICAgIGZpcnN0RGF5OiAnbnVtYmVyJyxcclxuICAgICAgZm9ybWF0OiAnc3RyaW5nJyxcclxuICAgICAgZm9ybWF0U3VibWl0OiAnc3RyaW5nJyxcclxuICAgICAgaGlkZGVuTmFtZTogJ2Jvb2xlYW4nLFxyXG4gICAgICBoaWRkZW5QcmVmaXg6ICdzdHJpbmcnLFxyXG4gICAgICBoaWRkZW5TdWZmaXg6ICdzdHJpbmcnLFxyXG4gICAgICBrbGFzczogJ29iamVjdCcsXHJcbiAgICAgIGxhYmVsTW9udGhOZXh0OiAnc3RyaW5nJyxcclxuICAgICAgbGFiZWxNb250aFByZXY6ICdzdHJpbmcnLFxyXG4gICAgICBsYWJlbE1vbnRoU2VsZWN0OiAnc3RyaW5nJyxcclxuICAgICAgbGFiZWxZZWFyU2VsZWN0OiAnc3RyaW5nJyxcclxuICAgICAgbWF4OiAnYm9vbGVhbiB8fCBkYXRlJyxcclxuICAgICAgbWluOiAnYm9vbGVhbiB8fCBkYXRlJyxcclxuICAgICAgbW9udGhzRnVsbDogJ2FycmF5JyxcclxuICAgICAgbW9udGhzU2hvcnQ6ICdhcnJheScsXHJcbiAgICAgIG9rOiAnc3RyaW5nJyxcclxuICAgICAgb25DbG9zZTogJ2Z1bmN0aW9uJyxcclxuICAgICAgb25PcGVuOiAnZnVuY3Rpb24nLFxyXG4gICAgICBvblJlbmRlcjogJ2Z1bmN0aW9uJyxcclxuICAgICAgb25TZXQ6ICdmdW5jdGlvbicsXHJcbiAgICAgIG9uU3RhcnQ6ICdmdW5jdGlvbicsXHJcbiAgICAgIG9uU3RvcDogJ2Z1bmN0aW9uJyxcclxuICAgICAgc2VsZWN0TW9udGhzOiAnYm9vbGVhbicsXHJcbiAgICAgIHNlbGVjdFllYXJzOiAnYm9vbGVhbiB8fCBudW1iZXInLFxyXG4gICAgICB0b2RheTogJ3N0cmluZycsXHJcbiAgICAgIHdlZWtkYXlzRnVsbDogJ2FycmF5JyxcclxuICAgICAgd2Vla2RheXNTaG9ydDogJ2FycmF5J1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgUGlja0RhdGUgPVxyXG4gICAgLyojX19QVVJFX18qL1xyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICBmdW5jdGlvbiBQaWNrRGF0ZShlbGVtZW50LCBjb25maWcpIHtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9wcm90byA9IFBpY2tEYXRlLnByb3RvdHlwZTtcclxuXHJcbiAgICAgIF9wcm90by5kaXNwbGF5ID0gZnVuY3Rpb24gZGlzcGxheShkYXRlcGlja2VyQXBpLCBkYXRlcGlja2VyUm9vdCwgZGF0ZXBpY2tlclZhbHVlKSB7XHJcbiAgICAgICAgJCQkMSgnLnBpY2tlci1kYXRlLWRpc3BsYXknLCBkYXRlcGlja2VyUm9vdCkucmVtb3ZlKCk7XHJcbiAgICAgICAgJCQkMSgnLnBpY2tlci13cmFwJywgZGF0ZXBpY2tlclJvb3QpLnByZXBlbmQoXCI8ZGl2IGNsYXNzPVxcXCJwaWNrZXItZGF0ZS1kaXNwbGF5XFxcIj48ZGl2IGNsYXNzPVxcXCJwaWNrZXItZGF0ZS1kaXNwbGF5LXRvcFxcXCI+PHNwYW4gY2xhc3M9XFxcInBpY2tlci15ZWFyLWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAneXl5eScpICsgXCI8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwicGlja2VyLWRhdGUtZGlzcGxheS1ib3R0b21cXFwiPjxzcGFuIGNsYXNzPVxcXCJwaWNrZXItd2Vla2RheS1kaXNwbGF5XFxcIj5cIiArIGRhdGVwaWNrZXJBcGkuZ2V0KGRhdGVwaWNrZXJWYWx1ZSwgJ2RkZGQnKSArIFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJwaWNrZXItZGF5LWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAnZCcpICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInBpY2tlci1tb250aC1kaXNwbGF5XFxcIj5cIiArIGRhdGVwaWNrZXJBcGkuZ2V0KGRhdGVwaWNrZXJWYWx1ZSwgJ21tbScpICsgXCI8L3NwYW4+PC9kaXY+PC9kaXY+XCIpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkucGlja2FkYXRlKHtcclxuICAgICAgICAgIGNsZWFyOiB0aGlzLl9jb25maWcuY2FuY2VsLFxyXG4gICAgICAgICAgY2xvc2U6IHRoaXMuX2NvbmZpZy5vayxcclxuICAgICAgICAgIGNsb3NlT25DbGVhcjogdGhpcy5fY29uZmlnLmNsb3NlT25DYW5jZWwsXHJcbiAgICAgICAgICBjbG9zZU9uU2VsZWN0OiB0aGlzLl9jb25maWcuY2xvc2VPblNlbGVjdCxcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5fY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICAgIGNvbnRhaW5lckhpZGRlbjogdGhpcy5fY29uZmlnLmNvbnRhaW5lckhpZGRlbixcclxuICAgICAgICAgIGRpc2FibGU6IHRoaXMuX2NvbmZpZy5kaXNhYmxlLFxyXG4gICAgICAgICAgZmlyc3REYXk6IHRoaXMuX2NvbmZpZy5maXJzdERheSxcclxuICAgICAgICAgIGZvcm1hdDogdGhpcy5fY29uZmlnLmZvcm1hdCxcclxuICAgICAgICAgIGZvcm1hdFN1Ym1pdDogdGhpcy5fY29uZmlnLmZvcm1hdFN1Ym1pdCxcclxuICAgICAgICAgIGtsYXNzOiB0aGlzLl9jb25maWcua2xhc3MsXHJcbiAgICAgICAgICBoaWRkZW5OYW1lOiB0aGlzLl9jb25maWcuaGlkZGVuTmFtZSxcclxuICAgICAgICAgIGhpZGRlblByZWZpeDogdGhpcy5fY29uZmlnLmhpZGRlblByZWZpeCxcclxuICAgICAgICAgIGhpZGRlblN1ZmZpeDogdGhpcy5fY29uZmlnLmhpZGRlblN1ZmZpeCxcclxuICAgICAgICAgIGxhYmVsTW9udGhOZXh0OiB0aGlzLl9jb25maWcubGFiZWxNb250aE5leHQsXHJcbiAgICAgICAgICBsYWJlbE1vbnRoUHJldjogdGhpcy5fY29uZmlnLmxhYmVsTW9udGhQcmV2LFxyXG4gICAgICAgICAgbGFiZWxNb250aFNlbGVjdDogdGhpcy5fY29uZmlnLmxhYmVsTW9udGhTZWxlY3QsXHJcbiAgICAgICAgICBsYWJlbFllYXJTZWxlY3Q6IHRoaXMuX2NvbmZpZy5sYWJlbFllYXJTZWxlY3QsXHJcbiAgICAgICAgICBtYXg6IHRoaXMuX2NvbmZpZy5tYXgsXHJcbiAgICAgICAgICBtaW46IHRoaXMuX2NvbmZpZy5taW4sXHJcbiAgICAgICAgICBtb250aHNGdWxsOiB0aGlzLl9jb25maWcubW9udGhzRnVsbCxcclxuICAgICAgICAgIG1vbnRoc1Nob3J0OiB0aGlzLl9jb25maWcubW9udGhzU2hvcnQsXHJcbiAgICAgICAgICBvbkNsb3NlOiB0aGlzLl9jb25maWcub25DbG9zZSxcclxuICAgICAgICAgIG9uT3BlbjogdGhpcy5fY29uZmlnLm9uT3BlbixcclxuICAgICAgICAgIG9uUmVuZGVyOiB0aGlzLl9jb25maWcub25SZW5kZXIsXHJcbiAgICAgICAgICBvblNldDogdGhpcy5fY29uZmlnLm9uU2V0LFxyXG4gICAgICAgICAgb25TdGFydDogdGhpcy5fY29uZmlnLm9uU3RhcnQsXHJcbiAgICAgICAgICBvblN0b3A6IHRoaXMuX2NvbmZpZy5vblN0b3AsXHJcbiAgICAgICAgICBzZWxlY3RNb250aHM6IHRoaXMuX2NvbmZpZy5zZWxlY3RNb250aHMsXHJcbiAgICAgICAgICBzZWxlY3RZZWFyczogdGhpcy5fY29uZmlnLnNlbGVjdFllYXJzLFxyXG4gICAgICAgICAgdG9kYXk6IHRoaXMuX2NvbmZpZy50b2RheSxcclxuICAgICAgICAgIHdlZWtkYXlzRnVsbDogdGhpcy5fY29uZmlnLndlZWtkYXlzRnVsbCxcclxuICAgICAgICAgIHdlZWtkYXlzU2hvcnQ6IHRoaXMuX2NvbmZpZy53ZWVrZGF5c1Nob3J0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGRhdGVwaWNrZXJBcGkgPSAkJCQxKHRoaXMuX2VsZW1lbnQpLnBpY2thZGF0ZSgncGlja2VyJyk7XHJcbiAgICAgICAgdmFyIGRhdGVwaWNrZXJSb290ID0gZGF0ZXBpY2tlckFwaS4kcm9vdDtcclxuICAgICAgICBkYXRlcGlja2VyQXBpLm9uKHtcclxuICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcclxuICAgICAgICAgICAgJCQkMShkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5ibHVyKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHtcclxuICAgICAgICAgICAgaWYgKCEkJCQxKCcucGlja2VyX19kYXRlLWRpc3BsYXknLCBkYXRlcGlja2VyUm9vdCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuZGlzcGxheShkYXRlcGlja2VyQXBpLCBkYXRlcGlja2VyUm9vdCwgJ2hpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRlcGlja2VyQXBpLmdldCgnc2VsZWN0JykgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5kaXNwbGF5KGRhdGVwaWNrZXJBcGksIGRhdGVwaWNrZXJSb290LCAnc2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcclxuICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCBjb25maWcpO1xyXG4gICAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgRGVmYXVsdFR5cGUpO1xyXG4gICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBQaWNrRGF0ZS5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBfY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgJCQkMSh0aGlzKS5kYXRhKCksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcclxuXHJcbiAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XHJcblxyXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgUGlja0RhdGUodGhpcywgX2NvbmZpZyk7XHJcbiAgICAgICAgICAgICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSwgZGF0YSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGF0YS5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gUGlja0RhdGU7XHJcbiAgICB9KCk7XHJcblxyXG4gICAgJCQkMS5mbltOQU1FXSA9IFBpY2tEYXRlLl9qUXVlcnlJbnRlcmZhY2U7XHJcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gUGlja0RhdGU7XHJcblxyXG4gICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAkJCQxLmZuW05BTUVdID0gTk9fQ09ORkxJQ1Q7XHJcbiAgICAgIHJldHVybiBQaWNrRGF0ZS5falF1ZXJ5SW50ZXJmYWNlO1xyXG4gICAgfTtcclxuICB9KCQpO1xyXG5cclxuICAvKlxyXG4gICAqIFNlbGVjdGlvbiBjb250cm9sIHBsdWdpbiBmaXhlcyB0aGUgZm9jdXMgc3RhdGUgcHJvYmxlbSB3aXRoXHJcbiAgICogQ2hyb21lIHBlcnNpc3RpbmcgZm9jdXMgc3RhdGUgb24gY2hlY2tib3hlcy9yYWRpbyBidXR0b25zIGFmdGVyIGNsaWNraW5nXHJcbiAgICovXHJcblxyXG4gIHZhciBTZWxlY3Rpb25Db250cm9sRm9jdXMgPSBmdW5jdGlvbiAoJCQkMSkge1xyXG4gICAgLy8gY29uc3RhbnRzID4+PlxyXG4gICAgdmFyIERBVEFfS0VZID0gJ21kLnNlbGVjdGlvbmNvbnRyb2xmb2N1cyc7XHJcbiAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcclxuICAgIHZhciBDbGFzc05hbWUgPSB7XHJcbiAgICAgIEZPQ1VTOiAnZm9jdXMnXHJcbiAgICB9O1xyXG4gICAgdmFyIExhc3RJbnRlcmFjdGlvbiA9IHtcclxuICAgICAgSVNfTU9VU0VET1dOOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIHZhciBFdmVudCA9IHtcclxuICAgICAgQkxVUjogXCJibHVyXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIEZPQ1VTOiBcImZvY3VzXCIgKyBFVkVOVF9LRVksXHJcbiAgICAgIE1PVVNFRE9XTjogXCJtb3VzZWRvd25cIiArIEVWRU5UX0tFWSxcclxuICAgICAgTU9VU0VVUDogXCJtb3VzZXVwXCIgKyBFVkVOVF9LRVlcclxuICAgIH07XHJcbiAgICB2YXIgU2VsZWN0b3IgPSB7XHJcbiAgICAgIENPTlRST0w6ICcuY3VzdG9tLWNvbnRyb2wnLFxyXG4gICAgICBJTlBVVDogJy5jdXN0b20tY29udHJvbC1pbnB1dCcgLy8gPDw8IGNvbnN0YW50c1xyXG5cclxuICAgIH07XHJcbiAgICAkJCQxKGRvY3VtZW50KS5vbihcIlwiICsgRXZlbnQuQkxVUiwgU2VsZWN0b3IuSU5QVVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgJCQkMSh0aGlzKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuRk9DVVMpO1xyXG4gICAgfSkub24oXCJcIiArIEV2ZW50LkZPQ1VTLCBTZWxlY3Rvci5JTlBVVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoTGFzdEludGVyYWN0aW9uLklTX01PVVNFRE9XTiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAkJCQxKHRoaXMpLmFkZENsYXNzKENsYXNzTmFtZS5GT0NVUyk7XHJcbiAgICAgIH1cclxuICAgIH0pLm9uKFwiXCIgKyBFdmVudC5NT1VTRURPV04sIFNlbGVjdG9yLkNPTlRST0wsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgTGFzdEludGVyYWN0aW9uLklTX01PVVNFRE9XTiA9IHRydWU7XHJcbiAgICB9KS5vbihcIlwiICsgRXZlbnQuTU9VU0VVUCwgU2VsZWN0b3IuQ09OVFJPTCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBMYXN0SW50ZXJhY3Rpb24uSVNfTU9VU0VET1dOID0gZmFsc2U7XHJcbiAgICAgIH0sIDEpO1xyXG4gICAgfSk7XHJcbiAgfSgkKTtcclxuXHJcbiAgLypcclxuICAgKiBUYWIgaW5kaWNhdG9yIGFuaW1hdGlvblxyXG4gICAqIFJlcXVpcmVzIEJvb3RzdHJhcCdzICh2NC4xLlgpIGB0YWIuanNgXHJcbiAgICovXHJcblxyXG4gIHZhciBUYWJTd2l0Y2ggPSBmdW5jdGlvbiAoJCQkMSkge1xyXG4gICAgLy8gY29uc3RhbnRzID4+PlxyXG4gICAgdmFyIERBVEFfS0VZID0gJ21kLnRhYnN3aXRjaCc7XHJcbiAgICB2YXIgTkFNRSA9ICd0YWJzd2l0Y2gnO1xyXG4gICAgdmFyIE5PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcclxuICAgIHZhciBDbGFzc05hbWUgPSB7XHJcbiAgICAgIEFOSU1BVEU6ICdhbmltYXRlJyxcclxuICAgICAgRFJPUERPV05fSVRFTTogJ2Ryb3Bkb3duLWl0ZW0nLFxyXG4gICAgICBJTkRJQ0FUT1I6ICduYXYtdGFicy1pbmRpY2F0b3InLFxyXG4gICAgICBNQVRFUklBTDogJ25hdi10YWJzLW1hdGVyaWFsJyxcclxuICAgICAgU0NST0xMQUJMRTogJ25hdi10YWJzLXNjcm9sbGFibGUnLFxyXG4gICAgICBTSE9XOiAnc2hvdydcclxuICAgIH07XHJcbiAgICB2YXIgRXZlbnQgPSB7XHJcbiAgICAgIFNIT1dfQlNfVEFCOiAnc2hvdy5icy50YWInXHJcbiAgICB9O1xyXG4gICAgdmFyIFNlbGVjdG9yID0ge1xyXG4gICAgICBEQVRBX1RPR0dMRTogJy5uYXYtdGFicyBbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLFxyXG4gICAgICBEUk9QRE9XTjogJy5kcm9wZG93bicsXHJcbiAgICAgIE5BVjogJy5uYXYtdGFicycgLy8gPDw8IGNvbnN0YW50c1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRhYlN3aXRjaCA9XHJcbiAgICAvKiNfX1BVUkVfXyovXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGZ1bmN0aW9uIFRhYlN3aXRjaChuYXYpIHtcclxuICAgICAgICB0aGlzLl9uYXYgPSBuYXY7XHJcbiAgICAgICAgdGhpcy5fbmF2aW5kaWNhdG9yID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIF9wcm90byA9IFRhYlN3aXRjaC5wcm90b3R5cGU7XHJcblxyXG4gICAgICBfcHJvdG8uc3dpdGNoID0gZnVuY3Rpb24gX3N3aXRjaChlbGVtZW50LCByZWxhdGVkVGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgdmFyIG5hdkxlZnQgPSAkJCQxKHRoaXMuX25hdikub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB2YXIgbmF2U2Nyb2xsTGVmdCA9ICQkJDEodGhpcy5fbmF2KS5zY3JvbGxMZWZ0KCk7XHJcbiAgICAgICAgdmFyIG5hdldpZHRoID0gJCQkMSh0aGlzLl9uYXYpLm91dGVyV2lkdGgoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9uYXZpbmRpY2F0b3IpIHtcclxuICAgICAgICAgIHRoaXMuX2NyZWF0ZUluZGljYXRvcihuYXZMZWZ0LCBuYXZTY3JvbGxMZWZ0LCBuYXZXaWR0aCwgcmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJCQkMShlbGVtZW50KS5oYXNDbGFzcyhDbGFzc05hbWUuRFJPUERPV05fSVRFTSkpIHtcclxuICAgICAgICAgIGVsZW1lbnQgPSAkJCQxKGVsZW1lbnQpLmNsb3Nlc3QoU2VsZWN0b3IuRFJPUERPV04pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVsTGVmdCA9ICQkJDEoZWxlbWVudCkub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB2YXIgZWxXaWR0aCA9ICQkJDEoZWxlbWVudCkub3V0ZXJXaWR0aCgpO1xyXG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XHJcbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fbmF2aW5kaWNhdG9yKTtcclxuICAgICAgICAkJCQxKHRoaXMuX25hdikuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFOSU1BVEUpO1xyXG4gICAgICAgICQkJDEodGhpcy5fbmF2aW5kaWNhdG9yKS5jc3Moe1xyXG4gICAgICAgICAgbGVmdDogZWxMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQsXHJcbiAgICAgICAgICByaWdodDogbmF2V2lkdGggLSAoZWxMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQgKyBlbFdpZHRoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcclxuICAgICAgICAgICQkJDEoX3RoaXMuX25hdikucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkFOSU1BVEUpO1xyXG4gICAgICAgICAgJCQkMShfdGhpcy5fbmF2aW5kaWNhdG9yKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fbmF2aW5kaWNhdG9yKTtcclxuICAgICAgICAkJCQxKHRoaXMuX25hdmluZGljYXRvcikub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgX3Byb3RvLl9jcmVhdGVJbmRpY2F0b3IgPSBmdW5jdGlvbiBfY3JlYXRlSW5kaWNhdG9yKG5hdkxlZnQsIG5hdlNjcm9sbExlZnQsIG5hdldpZHRoLCByZWxhdGVkVGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5fbmF2aW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLmFkZENsYXNzKENsYXNzTmFtZS5JTkRJQ0FUT1IpLmFwcGVuZFRvKHRoaXMuX25hdik7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgcmVsYXRlZFRhcmdldCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGlmICgkJCQxKHJlbGF0ZWRUYXJnZXQpLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QRE9XTl9JVEVNKSkge1xyXG4gICAgICAgICAgICByZWxhdGVkVGFyZ2V0ID0gJCQkMShyZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KFNlbGVjdG9yLkRST1BET1dOKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgcmVsYXRlZExlZnQgPSAkJCQxKHJlbGF0ZWRUYXJnZXQpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICB2YXIgcmVsYXRlZFdpZHRoID0gJCQkMShyZWxhdGVkVGFyZ2V0KS5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgICAkJCQxKHRoaXMuX25hdmluZGljYXRvcikuY3NzKHtcclxuICAgICAgICAgICAgbGVmdDogcmVsYXRlZExlZnQgKyBuYXZTY3JvbGxMZWZ0IC0gbmF2TGVmdCxcclxuICAgICAgICAgICAgcmlnaHQ6IG5hdldpZHRoIC0gKHJlbGF0ZWRMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQgKyByZWxhdGVkV2lkdGgpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQkJDEodGhpcy5fbmF2KS5hZGRDbGFzcyhDbGFzc05hbWUuTUFURVJJQUwpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgVGFiU3dpdGNoLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKHJlbGF0ZWRUYXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciBuYXYgPSAkJCQxKHRoaXMpLmNsb3Nlc3QoU2VsZWN0b3IuTkFWKVswXTtcclxuXHJcbiAgICAgICAgICBpZiAoIW5hdikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKG5hdikuZGF0YShEQVRBX0tFWSk7XHJcblxyXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgVGFiU3dpdGNoKG5hdik7XHJcbiAgICAgICAgICAgICQkJDEobmF2KS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBkYXRhLnN3aXRjaCh0aGlzLCByZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBUYWJTd2l0Y2g7XHJcbiAgICB9KCk7XHJcblxyXG4gICAgJCQkMShkb2N1bWVudCkub24oRXZlbnQuU0hPV19CU19UQUIsIFNlbGVjdG9yLkRBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgVGFiU3dpdGNoLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRoaXMpLCBldmVudC5yZWxhdGVkVGFyZ2V0KTtcclxuICAgIH0pO1xyXG4gICAgJCQkMS5mbltOQU1FXSA9IFRhYlN3aXRjaC5falF1ZXJ5SW50ZXJmYWNlO1xyXG4gICAgJCQkMS5mbltOQU1FXS5Db25zdHJ1Y3RvciA9IFRhYlN3aXRjaDtcclxuXHJcbiAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICQkJDEuZm5bTkFNRV0gPSBOT19DT05GTElDVDtcclxuICAgICAgcmV0dXJuIFRhYlN3aXRjaC5falF1ZXJ5SW50ZXJmYWNlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gVGFiU3dpdGNoO1xyXG4gIH0oJCk7XHJcblxyXG4gIGV4cG9ydHMuVXRpbCA9IFV0aWw7XHJcbiAgZXhwb3J0cy5FeHBhbnNpb25QYW5lbCA9IEV4cGFuc2lvblBhbmVsO1xyXG4gIGV4cG9ydHMuRmxvYXRpbmdMYWJlbCA9IEZsb2F0aW5nTGFiZWw7XHJcbiAgZXhwb3J0cy5OYXZEcmF3ZXIgPSBOYXZEcmF3ZXI7XHJcbiAgZXhwb3J0cy5QaWNrRGF0ZSA9IFBpY2tEYXRlO1xyXG4gIGV4cG9ydHMuU2VsZWN0aW9uQ29udHJvbEZvY3VzID0gU2VsZWN0aW9uQ29udHJvbEZvY3VzO1xyXG4gIGV4cG9ydHMuVGFiU3dpdGNoID0gVGFiU3dpdGNoO1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5cclxufSkpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWwuanMubWFwXHJcbiJdfQ==
