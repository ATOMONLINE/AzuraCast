"use strict";function confirmDangerousAction(t){var e=$(t);e.is("a")||(e=e.closest("a"));var n="Are you sure?";e.data("confirm-title")&&(n=e.data("confirm-title"));var a=!0;(e.hasClass("btn-success")||e.hasClass("btn-outline-success"))&&(a=!1);var s=e.clone().children().remove().end().text();return swal({title:n,buttons:[!0,s],dangerMode:a})}function styleForm(t,e){var n=$.extend({},{placeholder:"Select...",no_results:"No results found!",advanced:"Advanced"},e),a=$(t);$(window).on("beforeunload",function(){return!1}),a.on("submit",function(){$(window).off("beforeunload")}),a.find("fieldset").addClass("form-group"),a.find("input:not(input[type=button],input[type=submit],input[type=reset],input[type=radio],input[type=checkbox]),textarea,select").addClass("form-control"),a.find("select").wrap('<div class="select" />').chosen({width:"100%",placeholder_text_single:n.placeholder,placeholder_text_multiple:n.placeholder,no_results_text:n.no_results}),autosize(a.find("textarea")),a.find("input[type=radio]").each(function(){$(this).addClass("custom-control-input"),$(this).closest(".form-field").addClass("mt-3"),$(this).next("label").addClass("custom-control-label").addBack().wrapAll('<div class="custom-control custom-radio" />')}),a.find("input[type=checkbox]").each(function(){$(this).addClass("custom-control-input"),$(this).closest(".form-field").addClass("mt-3"),$(this).next("label").addClass("custom-control-label").addBack().wrapAll('<div class="custom-control custom-checkbox" />')}),a.find(".help-block").addClass("form-text"),a.find(".help-block.form-error").parent().addClass("has-error"),a.find(".help-block.form-success").parent().addClass("has-success"),a.find(".help-block.form-warning").parent().addClass("has-warning"),a.find("label.advanced,fieldset.advanced legend").prepend('<span class="text-info">'+n.advanced+"</span> "),a.find("input[type=button],input[type=submit],input[type=reset]").addClass("btn m-t-10");var s=a.find(".form-errors");if(0<s.length){var o=a.closest(".card").find(".card-header:first");0<o.length&&(s.removeClass("alert").addClass("card-body"),o.after(s))}var i=a.find(".has-error:visible");0<i.length&&$([document.documentElement,document.body]).animate({scrollTop:i.first().offset().top-$("#header").outerHeight()-15},1e3)}function notify(t,e,n){var a={type:e,allow_dismiss:!0,label:"Cancel",className:"btn-xs btn-inverse align-right",placement:{from:"top",align:"right"},delay:1e4,z_index:8,animate:{enter:"animated fadeIn",exit:"animated fadeOut"},offset:{x:20,y:85}};n&&(a.placement.from="top",a.placement.align="center",a.offset.y=20),$.notify({message:t},a)}$(function(){$("a.btn-danger,a.btn[data-confirm-title]").on("click",function(t){t.preventDefault();var e=$(this).attr("href");return confirmDangerousAction(t.target).then(function(t){t&&(window.location.href=e)}),!1})}),$("form button.file-upload").on("click",function(t){var e=$(this).siblings("input[type=file]")[0];$(e).trigger("click")}),$("form input[type=file]").change(function(t){var e=$(this).siblings(".file-name")[0];$(e).text($(this).val().split("\\").pop())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpcm0tZGFuZ2VyLmpzIiwiZm9ybS5qcyIsIm5vdGlmeS5qcyJdLCJuYW1lcyI6WyJjb25maXJtRGFuZ2Vyb3VzQWN0aW9uIiwiZWwiLCIkZWwiLCIkIiwiaXMiLCJjbG9zZXN0IiwiY29uZmlybVRpdGxlIiwiZGF0YSIsImRhbmdlck1vZGUiLCJoYXNDbGFzcyIsImJ1dHRvblRleHQiLCJjbG9uZSIsImNoaWxkcmVuIiwicmVtb3ZlIiwiZW5kIiwidGV4dCIsInN3YWwiLCJ0aXRsZSIsImJ1dHRvbnMiLCJzdHlsZUZvcm0iLCJmb3JtIiwidHJhbnNsYXRpb25zIiwibGFuZyIsImV4dGVuZCIsInBsYWNlaG9sZGVyIiwibm9fcmVzdWx0cyIsImFkdmFuY2VkIiwiJGZvcm0iLCJ3aW5kb3ciLCJvbiIsIm9mZiIsImZpbmQiLCJhZGRDbGFzcyIsIndyYXAiLCJjaG9zZW4iLCJ3aWR0aCIsInBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIiwicGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZSIsIm5vX3Jlc3VsdHNfdGV4dCIsImF1dG9zaXplIiwiZWFjaCIsInRoaXMiLCJuZXh0IiwiYWRkQmFjayIsIndyYXBBbGwiLCJwYXJlbnQiLCJwcmVwZW5kIiwiZm9ybV9lcnJvcnNfYmxvY2siLCJsZW5ndGgiLCJoZWFkZXJfYmFyIiwicmVtb3ZlQ2xhc3MiLCJhZnRlciIsImVycm9yX2ZpZWxkcyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJmaXJzdCIsIm9mZnNldCIsInRvcCIsIm91dGVySGVpZ2h0Iiwibm90aWZ5IiwibWVzc2FnZSIsInR5cGUiLCJtaW5pbWFsX2xheW91dCIsImdyb3dsU2V0dGluZ3MiLCJhbGxvd19kaXNtaXNzIiwibGFiZWwiLCJjbGFzc05hbWUiLCJwbGFjZW1lbnQiLCJmcm9tIiwiYWxpZ24iLCJkZWxheSIsInpfaW5kZXgiLCJlbnRlciIsImV4aXQiLCJ4IiwieSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImxpbmtVcmwiLCJhdHRyIiwidGFyZ2V0IiwidGhlbiIsInZhbHVlIiwibG9jYXRpb24iLCJocmVmIiwiaW5wdXRFbGVtZW50Iiwic2libGluZ3MiLCJ0cmlnZ2VyIiwiY2hhbmdlIiwiZmlsZU5hbWVFbGVtZW50IiwidmFsIiwic3BsaXQiLCJwb3AiXSwibWFwcGluZ3MiOiJhQUFBLFNBQVNBLHVCQUF1QkMsR0FDNUIsSUFBSUMsRUFBTUMsRUFBRUYsR0FFUEMsRUFBSUUsR0FBRyxPQUNSRixFQUFNQSxFQUFJRyxRQUFRLE1BR3RCLElBQUlDLEVBQWUsZ0JBQ2ZKLEVBQUlLLEtBQUssbUJBQ1RELEVBQWVKLEVBQUlLLEtBQUssa0JBRzVCLElBQUlDLEdBQWEsR0FDYk4sRUFBSU8sU0FBUyxnQkFBa0JQLEVBQUlPLFNBQVMsMEJBQzVDRCxHQUFhLEdBS2pCLElBQUlFLEVBQWFSLEVBQUlTLFFBQVFDLFdBQVdDLFNBQVNDLE1BQU1DLE9BRXZELE9BQU9DLEtBQUssQ0FDUkMsTUFBT1gsRUFDUFksUUFBUyxFQUFDLEVBQU1SLEdBQ2hCRixXQUFZQSxJQ3hCcEIsU0FBU1csVUFBVUMsRUFBTUMsR0FFckIsSUFBSUMsRUFBT25CLEVBQUVvQixPQUFPLEdBQUksQ0FDcEJDLFlBQWUsWUFDZkMsV0FBYyxvQkFDZEMsU0FBWSxZQUNiTCxHQUVDTSxFQUFReEIsRUFBRWlCLEdBRWRqQixFQUFFeUIsUUFBUUMsR0FBRyxlQUFnQixXQUN6QixPQUFPLElBR1hGLEVBQU1FLEdBQUcsU0FBVSxXQUNmMUIsRUFBRXlCLFFBQVFFLElBQUksa0JBR2xCSCxFQUFNSSxLQUFLLFlBQVlDLFNBQVMsY0FFaENMLEVBQU1JLEtBQUssNkhBQTZIQyxTQUFTLGdCQUVqSkwsRUFBTUksS0FBSyxVQUFVRSxLQUFLLDBCQUEwQkMsT0FBTyxDQUN2REMsTUFBTyxPQUNQQyx3QkFBeUJkLEVBQUtFLFlBQzlCYSwwQkFBMkJmLEVBQUtFLFlBQ2hDYyxnQkFBaUJoQixFQUFLRyxhQUcxQmMsU0FBU1osRUFBTUksS0FBSyxhQUVwQkosRUFBTUksS0FBSyxxQkFBcUJTLEtBQUssV0FDakNyQyxFQUFFc0MsTUFBTVQsU0FBUyx3QkFDakI3QixFQUFFc0MsTUFBTXBDLFFBQVEsZUFBZTJCLFNBQVMsUUFDeEM3QixFQUFFc0MsTUFBTUMsS0FBSyxTQUFTVixTQUFTLHdCQUF3QlcsVUFBVUMsUUFBUSxpREFFN0VqQixFQUFNSSxLQUFLLHdCQUF3QlMsS0FBSyxXQUNwQ3JDLEVBQUVzQyxNQUFNVCxTQUFTLHdCQUNqQjdCLEVBQUVzQyxNQUFNcEMsUUFBUSxlQUFlMkIsU0FBUyxRQUV4QzdCLEVBQUVzQyxNQUFNQyxLQUFLLFNBQ1JWLFNBQVMsd0JBQ1RXLFVBQ0FDLFFBQVEsb0RBR2pCakIsRUFBTUksS0FBSyxlQUFlQyxTQUFTLGFBQ25DTCxFQUFNSSxLQUFLLDBCQUEwQmMsU0FBU2IsU0FBUyxhQUN2REwsRUFBTUksS0FBSyw0QkFBNEJjLFNBQVNiLFNBQVMsZUFDekRMLEVBQU1JLEtBQUssNEJBQTRCYyxTQUFTYixTQUFTLGVBR3pETCxFQUFNSSxLQUFLLDJDQUNOZSxRQUFRLDJCQUEyQnhCLEVBQUtJLFNBQVMsWUFFdERDLEVBQU1JLEtBQUssMkRBQTJEQyxTQUFTLGNBRy9FLElBQUllLEVBQW9CcEIsRUFBTUksS0FBSyxnQkFDbkMsR0FBK0IsRUFBM0JnQixFQUFrQkMsT0FBWSxDQUM5QixJQUFJQyxFQUFhdEIsRUFBTXRCLFFBQVEsU0FBUzBCLEtBQUssc0JBRXJCLEVBQXBCa0IsRUFBV0QsU0FDWEQsRUFBa0JHLFlBQVksU0FDekJsQixTQUFTLGFBRWRpQixFQUFXRSxNQUFNSixJQUt6QixJQUFJSyxFQUFlekIsRUFBTUksS0FBSyxzQkFDSixFQUF0QnFCLEVBQWFKLFFBQ2I3QyxFQUFFLENBQUNrRCxTQUFTQyxnQkFBaUJELFNBQVNFLE9BQU9DLFFBQVEsQ0FDakRDLFVBQVdMLEVBQWFNLFFBQVFDLFNBQVNDLElBQU16RCxFQUFFLFdBQVcwRCxjQUFnQixJQUM3RSxLQzNFWCxTQUFTQyxPQUFPQyxFQUFTQyxFQUFNQyxHQUUzQixJQUFJQyxFQUFnQixDQUNoQkYsS0FBTUEsRUFDTkcsZUFBZSxFQUNmQyxNQUFPLFNBQ1BDLFVBQVcsaUNBQ1hDLFVBQVcsQ0FDUEMsS0FBTSxNQUNOQyxNQUFPLFNBRVhDLE1BQU8sSUFDUEMsUUFBUyxFQUNUbEIsUUFBUyxDQUNMbUIsTUFBTyxrQkFDUEMsS0FBTSxvQkFFVmpCLE9BQVEsQ0FDSmtCLEVBQUcsR0FDSEMsRUFBRyxLQUlQYixJQUNBQyxFQUFjSSxVQUFVQyxLQUFPLE1BQy9CTCxFQUFjSSxVQUFVRSxNQUFRLFNBQ2hDTixFQUFjUCxPQUFPbUIsRUFBSSxJQUc3QjNFLEVBQUUyRCxPQUFPLENBQUVDLFFBQVNBLEdBQVdHLEdGRG5DL0QsRUFBRSxXQUVFQSxFQUFFLDBDQUEwQzBCLEdBQUcsUUFBUyxTQUFTa0QsR0FDN0RBLEVBQUVDLGlCQUVGLElBQU1DLEVBQVU5RSxFQUFFc0MsTUFBTXlDLEtBQUssUUFNN0IsT0FMQWxGLHVCQUF1QitFLEVBQUVJLFFBQVFDLEtBQUssU0FBQ0MsR0FDL0JBLElBQ0F6RCxPQUFPMEQsU0FBU0MsS0FBT04sTUFHeEIsTUN5Q2Y5RSxFQUFFLDJCQUEyQjBCLEdBQUcsUUFBUyxTQUFTa0QsR0FDOUMsSUFBSVMsRUFBZXJGLEVBQUVzQyxNQUFNZ0QsU0FBUyxvQkFBb0IsR0FFeER0RixFQUFFcUYsR0FBY0UsUUFBUSxXQUc1QnZGLEVBQUUseUJBQXlCd0YsT0FBTyxTQUFVWixHQUN4QyxJQUFJYSxFQUFrQnpGLEVBQUVzQyxNQUFNZ0QsU0FBUyxjQUFjLEdBQ3JEdEYsRUFBRXlGLEdBQWlCN0UsS0FBS1osRUFBRXNDLE1BQU1vRCxNQUFNQyxNQUFNLE1BQU1DIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGNvbmZpcm1EYW5nZXJvdXNBY3Rpb24oZWwpIHtcbiAgICBsZXQgJGVsID0gJChlbCk7XG5cbiAgICBpZiAoISRlbC5pcygnYScpKSB7XG4gICAgICAgICRlbCA9ICRlbC5jbG9zZXN0KCdhJyk7XG4gICAgfVxuXG4gICAgbGV0IGNvbmZpcm1UaXRsZSA9ICdBcmUgeW91IHN1cmU/JztcbiAgICBpZiAoJGVsLmRhdGEoJ2NvbmZpcm0tdGl0bGUnKSkge1xuICAgICAgICBjb25maXJtVGl0bGUgPSAkZWwuZGF0YSgnY29uZmlybS10aXRsZScpO1xuICAgIH1cblxuICAgIGxldCBkYW5nZXJNb2RlID0gdHJ1ZTtcbiAgICBpZiAoJGVsLmhhc0NsYXNzKCdidG4tc3VjY2VzcycpIHx8ICRlbC5oYXNDbGFzcygnYnRuLW91dGxpbmUtc3VjY2VzcycpKSB7XG4gICAgICAgIGRhbmdlck1vZGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBqUXVlcnkgdHJpY2sgdG8gcHVsbCBhbiBpdGVtJ3MgdGV4dCB3aXRob3V0IGlubmVyIEhUTUwgZWxlbWVudHMuXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODYyNDU5Mi9ob3ctdG8tZ2V0LW9ubHktZGlyZWN0LXRleHQtd2l0aG91dC10YWdzLXdpdGgtanF1ZXJ5LWluLWh0bWxcbiAgICBsZXQgYnV0dG9uVGV4dCA9ICRlbC5jbG9uZSgpLmNoaWxkcmVuKCkucmVtb3ZlKCkuZW5kKCkudGV4dCgpO1xuXG4gICAgcmV0dXJuIHN3YWwoe1xuICAgICAgICB0aXRsZTogY29uZmlybVRpdGxlLFxuICAgICAgICBidXR0b25zOiBbdHJ1ZSwgYnV0dG9uVGV4dF0sXG4gICAgICAgIGRhbmdlck1vZGU6IGRhbmdlck1vZGVcbiAgICB9KTtcbn1cblxuJChmdW5jdGlvbigpIHtcblxuICAgICQoJ2EuYnRuLWRhbmdlcixhLmJ0bltkYXRhLWNvbmZpcm0tdGl0bGVdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgbGlua1VybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgICBjb25maXJtRGFuZ2Vyb3VzQWN0aW9uKGUudGFyZ2V0KS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsaW5rVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG59KTtcblxuIiwiZnVuY3Rpb24gc3R5bGVGb3JtKGZvcm0sIHRyYW5zbGF0aW9ucykge1xuXG4gICAgdmFyIGxhbmcgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgICBcInBsYWNlaG9sZGVyXCI6IFwiU2VsZWN0Li4uXCIsXG4gICAgICAgIFwibm9fcmVzdWx0c1wiOiBcIk5vIHJlc3VsdHMgZm91bmQhXCIsXG4gICAgICAgIFwiYWR2YW5jZWRcIjogXCJBZHZhbmNlZFwiXG4gICAgfSwgdHJhbnNsYXRpb25zKTtcblxuICAgIHZhciAkZm9ybSA9ICQoZm9ybSk7XG5cbiAgICAkKHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICQod2luZG93KS5vZmYoJ2JlZm9yZXVubG9hZCcpO1xuICAgIH0pO1xuXG4gICAgJGZvcm0uZmluZCgnZmllbGRzZXQnKS5hZGRDbGFzcygnZm9ybS1ncm91cCcpO1xuXG4gICAgJGZvcm0uZmluZCgnaW5wdXQ6bm90KGlucHV0W3R5cGU9YnV0dG9uXSxpbnB1dFt0eXBlPXN1Ym1pdF0saW5wdXRbdHlwZT1yZXNldF0saW5wdXRbdHlwZT1yYWRpb10saW5wdXRbdHlwZT1jaGVja2JveF0pLHRleHRhcmVhLHNlbGVjdCcpLmFkZENsYXNzKCdmb3JtLWNvbnRyb2wnKTtcblxuICAgICRmb3JtLmZpbmQoJ3NlbGVjdCcpLndyYXAoJzxkaXYgY2xhc3M9XCJzZWxlY3RcIiAvPicpLmNob3Nlbih7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgcGxhY2Vob2xkZXJfdGV4dF9zaW5nbGU6IGxhbmcucGxhY2Vob2xkZXIsXG4gICAgICAgIHBsYWNlaG9sZGVyX3RleHRfbXVsdGlwbGU6IGxhbmcucGxhY2Vob2xkZXIsXG4gICAgICAgIG5vX3Jlc3VsdHNfdGV4dDogbGFuZy5ub19yZXN1bHRzXG4gICAgfSk7XG5cbiAgICBhdXRvc2l6ZSgkZm9ybS5maW5kKCd0ZXh0YXJlYScpKTtcblxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnY3VzdG9tLWNvbnRyb2wtaW5wdXQnKTtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuZm9ybS1maWVsZCcpLmFkZENsYXNzKCdtdC0zJyk7XG4gICAgICAgICQodGhpcykubmV4dCgnbGFiZWwnKS5hZGRDbGFzcygnY3VzdG9tLWNvbnRyb2wtbGFiZWwnKS5hZGRCYWNrKCkud3JhcEFsbCgnPGRpdiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpb1wiIC8+Jyk7XG4gICAgfSk7XG4gICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdjdXN0b20tY29udHJvbC1pbnB1dCcpO1xuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5mb3JtLWZpZWxkJykuYWRkQ2xhc3MoJ210LTMnKTtcblxuICAgICAgICAkKHRoaXMpLm5leHQoJ2xhYmVsJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY3VzdG9tLWNvbnRyb2wtbGFiZWwnKVxuICAgICAgICAgICAgLmFkZEJhY2soKVxuICAgICAgICAgICAgLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3hcIiAvPicpO1xuICAgIH0pO1xuXG4gICAgJGZvcm0uZmluZCgnLmhlbHAtYmxvY2snKS5hZGRDbGFzcygnZm9ybS10ZXh0Jyk7XG4gICAgJGZvcm0uZmluZCgnLmhlbHAtYmxvY2suZm9ybS1lcnJvcicpLnBhcmVudCgpLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbiAgICAkZm9ybS5maW5kKCcuaGVscC1ibG9jay5mb3JtLXN1Y2Nlc3MnKS5wYXJlbnQoKS5hZGRDbGFzcygnaGFzLXN1Y2Nlc3MnKTtcbiAgICAkZm9ybS5maW5kKCcuaGVscC1ibG9jay5mb3JtLXdhcm5pbmcnKS5wYXJlbnQoKS5hZGRDbGFzcygnaGFzLXdhcm5pbmcnKTtcblxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU0Fubm90YXRvclxuICAgICRmb3JtLmZpbmQoJ2xhYmVsLmFkdmFuY2VkLGZpZWxkc2V0LmFkdmFuY2VkIGxlZ2VuZCcpXG4gICAgICAgIC5wcmVwZW5kKCc8c3BhbiBjbGFzcz1cInRleHQtaW5mb1wiPicrbGFuZy5hZHZhbmNlZCsnPC9zcGFuPiAnKTtcblxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9YnV0dG9uXSxpbnB1dFt0eXBlPXN1Ym1pdF0saW5wdXRbdHlwZT1yZXNldF0nKS5hZGRDbGFzcygnYnRuIG0tdC0xMCcpO1xuXG4gICAgLy8gUHVsbCBlcnJvcnMgdG8gdGhlIHRvcC5cbiAgICBsZXQgZm9ybV9lcnJvcnNfYmxvY2sgPSAkZm9ybS5maW5kKCcuZm9ybS1lcnJvcnMnKTtcbiAgICBpZiAoZm9ybV9lcnJvcnNfYmxvY2subGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgaGVhZGVyX2JhciA9ICRmb3JtLmNsb3Nlc3QoJy5jYXJkJykuZmluZCgnLmNhcmQtaGVhZGVyOmZpcnN0Jyk7XG5cbiAgICAgICAgaWYgKGhlYWRlcl9iYXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9ybV9lcnJvcnNfYmxvY2sucmVtb3ZlQ2xhc3MoJ2FsZXJ0JylcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NhcmQtYm9keScpO1xuXG4gICAgICAgICAgICBoZWFkZXJfYmFyLmFmdGVyKGZvcm1fZXJyb3JzX2Jsb2NrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNjcm9sbCB0byBlcnJvcnMuXG4gICAgdmFyIGVycm9yX2ZpZWxkcyA9ICRmb3JtLmZpbmQoJy5oYXMtZXJyb3I6dmlzaWJsZScpO1xuICAgIGlmIChlcnJvcl9maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHldKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogZXJyb3JfZmllbGRzLmZpcnN0KCkub2Zmc2V0KCkudG9wIC0gJCgnI2hlYWRlcicpLm91dGVySGVpZ2h0KCkgLSAxNVxuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbn1cblxuJCgnZm9ybSBidXR0b24uZmlsZS11cGxvYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgbGV0IGlucHV0RWxlbWVudCA9ICQodGhpcykuc2libGluZ3MoJ2lucHV0W3R5cGU9ZmlsZV0nKVswXTtcblxuICAgICQoaW5wdXRFbGVtZW50KS50cmlnZ2VyKCdjbGljaycpO1xufSk7XG5cbiQoJ2Zvcm0gaW5wdXRbdHlwZT1maWxlXScpLmNoYW5nZShmdW5jdGlvbiAoZSl7XG4gICAgbGV0IGZpbGVOYW1lRWxlbWVudCA9ICQodGhpcykuc2libGluZ3MoJy5maWxlLW5hbWUnKVswXTtcbiAgICAkKGZpbGVOYW1lRWxlbWVudCkudGV4dCgkKHRoaXMpLnZhbCgpLnNwbGl0KCdcXFxcJykucG9wKCkpO1xufSk7XG4iLCJmdW5jdGlvbiBub3RpZnkobWVzc2FnZSwgdHlwZSwgbWluaW1hbF9sYXlvdXQpIHtcclxuXHJcbiAgICB2YXIgZ3Jvd2xTZXR0aW5ncyA9IHtcclxuICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgIGFsbG93X2Rpc21pc3M6IHRydWUsXHJcbiAgICAgICAgbGFiZWw6ICdDYW5jZWwnLFxyXG4gICAgICAgIGNsYXNzTmFtZTogJ2J0bi14cyBidG4taW52ZXJzZSBhbGlnbi1yaWdodCcsXHJcbiAgICAgICAgcGxhY2VtZW50OiB7XHJcbiAgICAgICAgICAgIGZyb206ICd0b3AnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVsYXk6IDEwMDAwLFxyXG4gICAgICAgIHpfaW5kZXg6IDgsXHJcbiAgICAgICAgYW5pbWF0ZToge1xyXG4gICAgICAgICAgICBlbnRlcjogJ2FuaW1hdGVkIGZhZGVJbicsXHJcbiAgICAgICAgICAgIGV4aXQ6ICdhbmltYXRlZCBmYWRlT3V0J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb2Zmc2V0OiB7XHJcbiAgICAgICAgICAgIHg6IDIwLFxyXG4gICAgICAgICAgICB5OiA4NVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKG1pbmltYWxfbGF5b3V0KSB7XHJcbiAgICAgICAgZ3Jvd2xTZXR0aW5ncy5wbGFjZW1lbnQuZnJvbSA9ICd0b3AnO1xyXG4gICAgICAgIGdyb3dsU2V0dGluZ3MucGxhY2VtZW50LmFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgZ3Jvd2xTZXR0aW5ncy5vZmZzZXQueSA9IDIwO1xyXG4gICAgfVxyXG5cclxuICAgICQubm90aWZ5KHsgbWVzc2FnZTogbWVzc2FnZSB9LCBncm93bFNldHRpbmdzKTtcclxuXHJcbn1cclxuIl19
