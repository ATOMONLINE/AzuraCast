var player,$player,volume=55,is_playing=!1;function stopAllPlayers(){player.pause(),player.src="",is_playing=!1,$(".btn-audio").each(function(){var e=$(this).removeClass("playing").find("i");e.hasClass("material-icons")?e.text("play_circle_filled"):e.removeClass("zmdi-stop").addClass("zmdi-play")}),$("#radio-player-controls").removeClass("jp-state-playing")}function setVolume(e){volume=e;var l=Math.round(100*volume);$(".jp-volume-bar-value").css("width",l+"%"),player.volume=Math.pow(volume,3),store.enabled&&store.set("player_volume",100*volume)}function playAudio(e){player.src=e,player.play().catch(function(e){console.error(e),stopAllPlayers()})}function handlePlayClick(e){if(btn=$('.btn-audio[data-url="'+e+'"]'),btn.hasClass("playing"))stopAllPlayers();else{is_playing&&stopAllPlayers(),playAudio(e);var l=btn.addClass("playing").find("i");l.hasClass("material-icons")?l.text("pause_circle_filled"):l.removeClass("zmdi-play").addClass("zmdi-stop")}}$(function(){store.enabled&&void 0!==store.get("player_volume")&&(volume=store.get("player_volume",volume)),$(".btn-audio").on("click",function(e){return e.preventDefault(),handlePlayClick($(this).data("url")),!1}),player=document.createElement("audio"),$player=$(player),setVolume(volume/100),$player.on("play",function(e){is_playing=!0,$(".jp-unmute").hide(),$("#radio-player-controls,#radio-embedded-controls").addClass("jp-state-playing");var l=Math.round(100*$player.volume);$(".jp-volume-bar-value").css("width",l+"%")}),$player.on("ended",function(e){stopAllPlayers()}),"mediaSession"in navigator&&navigator.mediaSession.setActionHandler("pause",function(){stopAllPlayers()}),$(".jp-pause").on("click",function(e){stopAllPlayers()}),$(".jp-mute").on("click",function(e){player.volume=0,$(".jp-unmute").show(),$(".jp-mute").hide()}),$(".jp-unmute").on("click",function(e){setVolume(volume),$(".jp-unmute").hide(),$(".jp-mute").show()}),$(".jp-volume-bar").on("click",function(e){var l=$(e.currentTarget),a=l.offset(),o=e.pageX-a.left,t=l.width();l.height(),e.pageY,a.top,l.height();setVolume(o/t)}),$('.btn-audio[data-autoplay="true"]:first').click()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvLmpzIl0sIm5hbWVzIjpbInBsYXllciIsIiRwbGF5ZXIiLCJ2b2x1bWUiLCJpc19wbGF5aW5nIiwic3RvcEFsbFBsYXllcnMiLCJwYXVzZSIsInNyYyIsIiQiLCJlYWNoIiwicGxheV9pY29uIiwidGhpcyIsInJlbW92ZUNsYXNzIiwiZmluZCIsImhhc0NsYXNzIiwidGV4dCIsImFkZENsYXNzIiwic2V0Vm9sdW1lIiwibmV3X3ZvbHVtZSIsInZvbHVtZV9wZXJjZW50IiwiTWF0aCIsInJvdW5kIiwiY3NzIiwicG93Iiwic3RvcmUiLCJlbmFibGVkIiwic2V0IiwicGxheUF1ZGlvIiwic291cmNlX3VybCIsInBsYXkiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZVBsYXlDbGljayIsImF1ZGlvX3NvdXJjZSIsImJ0biIsInVuZGVmaW5lZCIsImdldCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZGF0YSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhpZGUiLCJuYXZpZ2F0b3IiLCJtZWRpYVNlc3Npb24iLCJzZXRBY3Rpb25IYW5kbGVyIiwic2hvdyIsIiRiYXIiLCJjdXJyZW50VGFyZ2V0Iiwib2Zmc2V0IiwieCIsInBhZ2VYIiwibGVmdCIsInciLCJ3aWR0aCIsImhlaWdodCIsInBhZ2VZIiwidG9wIiwiY2xpY2siXSwibWFwcGluZ3MiOiJBQUlBLElBRUlBLE9BQ0FDLFFBSEFDLE9BQVMsR0FDVEMsWUFBYSxFQUlqQixTQUFTQyxpQkFFTEosT0FBT0ssUUFDUEwsT0FBT00sSUFBTSxHQUViSCxZQUFhLEVBRWJJLEVBQUUsY0FBY0MsS0FBSyxXQUNqQixJQUFJQyxFQUFZRixFQUFFRyxNQUFNQyxZQUFZLFdBQVdDLEtBQUssS0FDaERILEVBQVVJLFNBQVMsa0JBQ25CSixFQUFVSyxLQUFLLHNCQUVmTCxFQUFVRSxZQUFZLGFBQWFJLFNBQVMsZUFJcERSLEVBQUUsMEJBQTBCSSxZQUFZLG9CQUc1QyxTQUFTSyxVQUFVQyxHQUVmZixPQUFTZSxFQUVULElBQUlDLEVBQWlCQyxLQUFLQyxNQUFlLElBQVRsQixRQUNoQ0ssRUFBRSx3QkFBd0JjLElBQUksUUFBU0gsRUFBZSxLQUV0RGxCLE9BQU9FLE9BQVNpQixLQUFLRyxJQUFJcEIsT0FBTyxHQUU1QnFCLE1BQU1DLFNBQ05ELE1BQU1FLElBQUksZ0JBQXdCLElBQVB2QixRQUduQyxTQUFTd0IsVUFBVUMsR0FFZjNCLE9BQU9NLElBQU1xQixFQUNiM0IsT0FBTzRCLE9BQU9DLE1BQU0sU0FBU0MsR0FDekJDLFFBQVFELE1BQU1BLEdBQ2QxQixtQkFJUixTQUFTNEIsZ0JBQWdCQyxHQUlyQixHQUZBQyxJQUFNM0IsRUFBRSx3QkFBd0IwQixFQUFhLE1BRXpDQyxJQUFJckIsU0FBUyxXQUNiVCxxQkFDRyxDQUNDRCxZQUNBQyxpQkFHSnNCLFVBQVVPLEdBRVYsSUFBSXhCLEVBQVl5QixJQUFJbkIsU0FBUyxXQUFXSCxLQUFLLEtBQ3pDSCxFQUFVSSxTQUFTLGtCQUNuQkosRUFBVUssS0FBSyx1QkFFZkwsRUFBVUUsWUFBWSxhQUFhSSxTQUFTLGNBS3hEUixFQUFFLFdBR01nQixNQUFNQyxjQUEwQ1csSUFBL0JaLE1BQU1hLElBQUksbUJBQzNCbEMsT0FBU3FCLE1BQU1hLElBQUksZ0JBQWlCbEMsU0FFeENLLEVBQUUsY0FBYzhCLEdBQUcsUUFBUyxTQUFTQyxHQUdqQyxPQUZBQSxFQUFFQyxpQkFDRlAsZ0JBQWdCekIsRUFBRUcsTUFBTThCLEtBQUssU0FDdEIsSUFJWHhDLE9BQVN5QyxTQUFTQyxjQUFjLFNBQ2hDekMsUUFBVU0sRUFBRVAsUUFFWmdCLFVBQVVkLE9BQU8sS0FHakJELFFBQVFvQyxHQUFHLE9BQVEsU0FBU0MsR0FDeEJuQyxZQUFhLEVBRWJJLEVBQUUsY0FBY29DLE9BQ2hCcEMsRUFBRSxtREFBbURRLFNBQVMsb0JBRTlELElBQUlHLEVBQWlCQyxLQUFLQyxNQUF1QixJQUFqQm5CLFFBQVFDLFFBQ3hDSyxFQUFFLHdCQUF3QmMsSUFBSSxRQUFTSCxFQUFlLE9BRzFEakIsUUFBUW9DLEdBQUcsUUFBUyxTQUFTQyxHQUN6QmxDLG1CQUdBLGlCQUFrQndDLFdBQ2xCQSxVQUFVQyxhQUFhQyxpQkFBaUIsUUFBUyxXQUM3QzFDLG1CQUtSRyxFQUFFLGFBQWE4QixHQUFHLFFBQVMsU0FBU0MsR0FDaENsQyxtQkFHSkcsRUFBRSxZQUFZOEIsR0FBRyxRQUFTLFNBQVNDLEdBQy9CdEMsT0FBT0UsT0FBUyxFQUNoQkssRUFBRSxjQUFjd0MsT0FDaEJ4QyxFQUFFLFlBQVlvQyxTQUdsQnBDLEVBQUUsY0FBYzhCLEdBQUcsUUFBUyxTQUFTQyxHQUNqQ3RCLFVBQVVkLFFBQ1ZLLEVBQUUsY0FBY29DLE9BQ2hCcEMsRUFBRSxZQUFZd0MsU0FHbEJ4QyxFQUFFLGtCQUFrQjhCLEdBQUcsUUFBUyxTQUFTQyxHQUNyQyxJQUFJVSxFQUFPekMsRUFBRStCLEVBQUVXLGVBQ1hDLEVBQVNGLEVBQUtFLFNBQ2RDLEVBQUliLEVBQUVjLE1BQVFGLEVBQU9HLEtBQ3JCQyxFQUFJTixFQUFLTyxRQUNMUCxFQUFLUSxTQUFXbEIsRUFBRW1CLE1BQVFQLEVBQU9RLElBQ2pDVixFQUFLUSxTQUVieEMsVUFBVW1DLEVBQUVHLEtBSWhCL0MsRUFBRSwwQ0FBMENvRCIsImZpbGUiOiJyYWRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBSYWRpbyBQbGF5ZXIgU2NyaXB0XHJcbiAqL1xyXG5cclxudmFyIHZvbHVtZSA9IDU1LFxyXG4gICAgaXNfcGxheWluZyA9IGZhbHNlLFxyXG4gICAgcGxheWVyLFxyXG4gICAgJHBsYXllcjtcclxuXHJcbmZ1bmN0aW9uIHN0b3BBbGxQbGF5ZXJzKClcclxue1xyXG4gICAgcGxheWVyLnBhdXNlKCk7XHJcbiAgICBwbGF5ZXIuc3JjID0gJyc7XHJcblxyXG4gICAgaXNfcGxheWluZyA9IGZhbHNlO1xyXG5cclxuICAgICQoJy5idG4tYXVkaW8nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBwbGF5X2ljb24gPSAkKHRoaXMpLnJlbW92ZUNsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpO1xyXG4gICAgICAgIGlmIChwbGF5X2ljb24uaGFzQ2xhc3MoJ21hdGVyaWFsLWljb25zJykpIHtcclxuICAgICAgICAgICAgcGxheV9pY29uLnRleHQoJ3BsYXlfY2lyY2xlX2ZpbGxlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYXlfaWNvbi5yZW1vdmVDbGFzcygnem1kaS1zdG9wJykuYWRkQ2xhc3MoJ3ptZGktcGxheScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMnKS5yZW1vdmVDbGFzcygnanAtc3RhdGUtcGxheWluZycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRWb2x1bWUobmV3X3ZvbHVtZSlcclxue1xyXG4gICAgdm9sdW1lID0gbmV3X3ZvbHVtZTtcclxuXHJcbiAgICB2YXIgdm9sdW1lX3BlcmNlbnQgPSBNYXRoLnJvdW5kKHZvbHVtZSAqIDEwMCk7XHJcbiAgICAkKCcuanAtdm9sdW1lLWJhci12YWx1ZScpLmNzcygnd2lkdGgnLCB2b2x1bWVfcGVyY2VudCsnJScpO1xyXG5cclxuICAgIHBsYXllci52b2x1bWUgPSBNYXRoLnBvdyh2b2x1bWUsMyk7XHJcblxyXG4gICAgaWYgKHN0b3JlLmVuYWJsZWQpXHJcbiAgICAgICAgc3RvcmUuc2V0KCdwbGF5ZXJfdm9sdW1lJywgdm9sdW1lKjEwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXlBdWRpbyhzb3VyY2VfdXJsKVxyXG57XHJcbiAgICBwbGF5ZXIuc3JjID0gc291cmNlX3VybDtcclxuICAgIHBsYXllci5wbGF5KCkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICBzdG9wQWxsUGxheWVycygpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVBsYXlDbGljayhhdWRpb19zb3VyY2UpXHJcbntcclxuICAgIGJ0biA9ICQoJy5idG4tYXVkaW9bZGF0YS11cmw9XCInK2F1ZGlvX3NvdXJjZSsnXCJdJyk7XHJcblxyXG4gICAgaWYgKGJ0bi5oYXNDbGFzcygncGxheWluZycpKSB7XHJcbiAgICAgICAgc3RvcEFsbFBsYXllcnMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgc3RvcEFsbFBsYXllcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBsYXlBdWRpbyhhdWRpb19zb3VyY2UpO1xyXG5cclxuICAgICAgICB2YXIgcGxheV9pY29uID0gYnRuLmFkZENsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpO1xyXG4gICAgICAgIGlmIChwbGF5X2ljb24uaGFzQ2xhc3MoJ21hdGVyaWFsLWljb25zJykpIHtcclxuICAgICAgICAgICAgcGxheV9pY29uLnRleHQoJ3BhdXNlX2NpcmNsZV9maWxsZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5X2ljb24ucmVtb3ZlQ2xhc3MoJ3ptZGktcGxheScpLmFkZENsYXNzKCd6bWRpLXN0b3AnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgLy8gQ2hlY2sgd2Vic3RvcmFnZSBmb3IgZXhpc3Rpbmcgdm9sdW1lIHByZWZlcmVuY2UuXHJcbiAgICBpZiAoc3RvcmUuZW5hYmxlZCAmJiBzdG9yZS5nZXQoJ3BsYXllcl92b2x1bWUnKSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHZvbHVtZSA9IHN0b3JlLmdldCgncGxheWVyX3ZvbHVtZScsIHZvbHVtZSk7XHJcblxyXG4gICAgJCgnLmJ0bi1hdWRpbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaGFuZGxlUGxheUNsaWNrKCQodGhpcykuZGF0YSgndXJsJykpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhdWRpbyBlbGVtZW50LlxyXG4gICAgcGxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICRwbGF5ZXIgPSAkKHBsYXllcik7XHJcblxyXG4gICAgc2V0Vm9sdW1lKHZvbHVtZS8xMDApO1xyXG5cclxuICAgIC8vIEhhbmRsZSBldmVudHMuXHJcbiAgICAkcGxheWVyLm9uKCdwbGF5JywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlzX3BsYXlpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAkKCcuanAtdW5tdXRlJykuaGlkZSgpO1xyXG4gICAgICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMsI3JhZGlvLWVtYmVkZGVkLWNvbnRyb2xzJykuYWRkQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcclxuXHJcbiAgICAgICAgdmFyIHZvbHVtZV9wZXJjZW50ID0gTWF0aC5yb3VuZCgkcGxheWVyLnZvbHVtZSAqIDEwMCk7XHJcbiAgICAgICAgJCgnLmpwLXZvbHVtZS1iYXItdmFsdWUnKS5jc3MoJ3dpZHRoJywgdm9sdW1lX3BlcmNlbnQrJyUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRwbGF5ZXIub24oJ2VuZGVkJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoJ21lZGlhU2Vzc2lvbicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgbmF2aWdhdG9yLm1lZGlhU2Vzc2lvbi5zZXRBY3Rpb25IYW5kbGVyKCdwYXVzZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzdG9wQWxsUGxheWVycygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBidXR0b24gY2xpY2tzLlxyXG4gICAgJCgnLmpwLXBhdXNlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanAtbXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBwbGF5ZXIudm9sdW1lID0gMDtcclxuICAgICAgICAkKCcuanAtdW5tdXRlJykuc2hvdygpO1xyXG4gICAgICAgICQoJy5qcC1tdXRlJykuaGlkZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpwLXVubXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBzZXRWb2x1bWUodm9sdW1lKTtcclxuICAgICAgICAkKCcuanAtdW5tdXRlJykuaGlkZSgpO1xyXG4gICAgICAgICQoJy5qcC1tdXRlJykuc2hvdygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmpwLXZvbHVtZS1iYXInKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyICRiYXIgPSAkKGUuY3VycmVudFRhcmdldCksXHJcbiAgICAgICAgICAgIG9mZnNldCA9ICRiYXIub2Zmc2V0KCksXHJcbiAgICAgICAgICAgIHggPSBlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQsXHJcbiAgICAgICAgICAgIHcgPSAkYmFyLndpZHRoKCksXHJcbiAgICAgICAgICAgIHkgPSAkYmFyLmhlaWdodCgpIC0gZS5wYWdlWSArIG9mZnNldC50b3AsXHJcbiAgICAgICAgICAgIGggPSAkYmFyLmhlaWdodCgpO1xyXG5cclxuICAgICAgICBzZXRWb2x1bWUoeC93KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEhhbmRsZSBhdXRvcGxheS5cclxuICAgICQoJy5idG4tYXVkaW9bZGF0YS1hdXRvcGxheT1cInRydWVcIl06Zmlyc3QnKS5jbGljaygpO1xyXG5cclxufSk7XHJcbiJdfQ==
