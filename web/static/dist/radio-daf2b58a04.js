var player,$player,volume=55,is_playing=!1;function stopAllPlayers(){player.pause(),player.src="",is_playing=!1,$(".btn-audio").removeClass("playing").find("i").removeClass("zmdi-stop").addClass("zmdi-play"),$("#radio-player-controls").removeClass("jp-state-playing")}function setVolume(e){volume=e;var l=Math.round(100*volume);$(".jp-volume-bar-value").css("width",l+"%"),player.volume=Math.pow(volume,3),store.enabled&&store.set("player_volume",100*volume)}function playAudio(e){player.src=e,player.play().catch(function(e){console.error(e),stopAllPlayers()})}function handlePlayClick(e){btn=$('.btn-audio[data-url="'+e+'"]'),btn.hasClass("playing")?stopAllPlayers():(is_playing&&stopAllPlayers(),playAudio(e),btn.addClass("playing").find("i").removeClass("zmdi-play").addClass("zmdi-stop"))}$(function(){store.enabled&&void 0!==store.get("player_volume")&&(volume=store.get("player_volume",volume)),$(".btn-audio").on("click",function(e){return e.preventDefault(),handlePlayClick($(this).data("url")),!1}),player=document.createElement("audio"),$player=$(player),setVolume(volume/100),$player.on("play",function(e){is_playing=!0,$(".jp-unmute").hide(),$("#radio-player-controls,#radio-embedded-controls").addClass("jp-state-playing");var l=Math.round(100*$player.volume);$(".jp-volume-bar-value").css("width",l+"%")}),$player.on("ended",function(e){stopAllPlayers()}),"mediaSession"in navigator&&navigator.mediaSession.setActionHandler("pause",function(){stopAllPlayers()}),$(".jp-pause").on("click",function(e){stopAllPlayers()}),$(".jp-mute").on("click",function(e){player.volume=0,$(".jp-unmute").show(),$(".jp-mute").hide()}),$(".jp-unmute").on("click",function(e){setVolume(volume),$(".jp-unmute").hide(),$(".jp-mute").show()}),$(".jp-volume-bar").on("click",function(e){var l=$(e.currentTarget),a=l.offset(),o=e.pageX-a.left,t=l.width();l.height(),e.pageY,a.top,l.height();setVolume(o/t)}),$('.btn-audio[data-autoplay="true"]:first').click()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvLmpzIl0sIm5hbWVzIjpbInBsYXllciIsIiRwbGF5ZXIiLCJ2b2x1bWUiLCJpc19wbGF5aW5nIiwic3RvcEFsbFBsYXllcnMiLCJwYXVzZSIsInNyYyIsIiQiLCJyZW1vdmVDbGFzcyIsImZpbmQiLCJhZGRDbGFzcyIsInNldFZvbHVtZSIsIm5ld192b2x1bWUiLCJ2b2x1bWVfcGVyY2VudCIsIk1hdGgiLCJyb3VuZCIsImNzcyIsInBvdyIsInN0b3JlIiwiZW5hYmxlZCIsInNldCIsInBsYXlBdWRpbyIsInNvdXJjZV91cmwiLCJwbGF5IiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVQbGF5Q2xpY2siLCJhdWRpb19zb3VyY2UiLCJidG4iLCJoYXNDbGFzcyIsInVuZGVmaW5lZCIsImdldCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsImRhdGEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoaWRlIiwibmF2aWdhdG9yIiwibWVkaWFTZXNzaW9uIiwic2V0QWN0aW9uSGFuZGxlciIsInNob3ciLCIkYmFyIiwiY3VycmVudFRhcmdldCIsIm9mZnNldCIsIngiLCJwYWdlWCIsImxlZnQiLCJ3Iiwid2lkdGgiLCJoZWlnaHQiLCJwYWdlWSIsInRvcCIsImNsaWNrIl0sIm1hcHBpbmdzIjoiQUFJQSxJQUVJQSxPQUNBQyxRQUhBQyxPQUFTLEdBQ1RDLFlBQWEsRUFJakIsU0FBU0MsaUJBRUxKLE9BQU9LLFFBQ1BMLE9BQU9NLElBQU0sR0FFYkgsWUFBYSxFQUNiSSxFQUFFLGNBQWNDLFlBQVksV0FBV0MsS0FBSyxLQUFLRCxZQUFZLGFBQWFFLFNBQVMsYUFFbkZILEVBQUUsMEJBQTBCQyxZQUFZLG9CQUc1QyxTQUFTRyxVQUFVQyxHQUVmVixPQUFTVSxFQUVULElBQUlDLEVBQWlCQyxLQUFLQyxNQUFlLElBQVRiLFFBQ2hDSyxFQUFFLHdCQUF3QlMsSUFBSSxRQUFTSCxFQUFlLEtBRXREYixPQUFPRSxPQUFTWSxLQUFLRyxJQUFJZixPQUFPLEdBRTVCZ0IsTUFBTUMsU0FDTkQsTUFBTUUsSUFBSSxnQkFBd0IsSUFBUGxCLFFBR25DLFNBQVNtQixVQUFVQyxHQUVmdEIsT0FBT00sSUFBTWdCLEVBQ2J0QixPQUFPdUIsT0FBT0MsTUFBTSxTQUFTQyxHQUN6QkMsUUFBUUQsTUFBTUEsR0FDZHJCLG1CQUlSLFNBQVN1QixnQkFBZ0JDLEdBRXJCQyxJQUFNdEIsRUFBRSx3QkFBd0JxQixFQUFhLE1BRXpDQyxJQUFJQyxTQUFTLFdBQ2IxQixrQkFFSUQsWUFDQUMsaUJBR0ppQixVQUFVTyxHQUNWQyxJQUFJbkIsU0FBUyxXQUFXRCxLQUFLLEtBQUtELFlBQVksYUFBYUUsU0FBUyxjQUk1RUgsRUFBRSxXQUdNVyxNQUFNQyxjQUEwQ1ksSUFBL0JiLE1BQU1jLElBQUksbUJBQzNCOUIsT0FBU2dCLE1BQU1jLElBQUksZ0JBQWlCOUIsU0FFeENLLEVBQUUsY0FBYzBCLEdBQUcsUUFBUyxTQUFTQyxHQUdqQyxPQUZBQSxFQUFFQyxpQkFDRlIsZ0JBQWdCcEIsRUFBRTZCLE1BQU1DLEtBQUssU0FDdEIsSUFJWHJDLE9BQVNzQyxTQUFTQyxjQUFjLFNBQ2hDdEMsUUFBVU0sRUFBRVAsUUFFWlcsVUFBVVQsT0FBTyxLQUdqQkQsUUFBUWdDLEdBQUcsT0FBUSxTQUFTQyxHQUN4Qi9CLFlBQWEsRUFFYkksRUFBRSxjQUFjaUMsT0FDaEJqQyxFQUFFLG1EQUFtREcsU0FBUyxvQkFFOUQsSUFBSUcsRUFBaUJDLEtBQUtDLE1BQXVCLElBQWpCZCxRQUFRQyxRQUN4Q0ssRUFBRSx3QkFBd0JTLElBQUksUUFBU0gsRUFBZSxPQUcxRFosUUFBUWdDLEdBQUcsUUFBUyxTQUFTQyxHQUN6QjlCLG1CQUdBLGlCQUFrQnFDLFdBQ2xCQSxVQUFVQyxhQUFhQyxpQkFBaUIsUUFBUyxXQUM3Q3ZDLG1CQUtSRyxFQUFFLGFBQWEwQixHQUFHLFFBQVMsU0FBU0MsR0FDaEM5QixtQkFHSkcsRUFBRSxZQUFZMEIsR0FBRyxRQUFTLFNBQVNDLEdBQy9CbEMsT0FBT0UsT0FBUyxFQUNoQkssRUFBRSxjQUFjcUMsT0FDaEJyQyxFQUFFLFlBQVlpQyxTQUdsQmpDLEVBQUUsY0FBYzBCLEdBQUcsUUFBUyxTQUFTQyxHQUNqQ3ZCLFVBQVVULFFBQ1ZLLEVBQUUsY0FBY2lDLE9BQ2hCakMsRUFBRSxZQUFZcUMsU0FHbEJyQyxFQUFFLGtCQUFrQjBCLEdBQUcsUUFBUyxTQUFTQyxHQUNyQyxJQUFJVyxFQUFPdEMsRUFBRTJCLEVBQUVZLGVBQ1hDLEVBQVNGLEVBQUtFLFNBQ2RDLEVBQUlkLEVBQUVlLE1BQVFGLEVBQU9HLEtBQ3JCQyxFQUFJTixFQUFLTyxRQUNMUCxFQUFLUSxTQUFXbkIsRUFBRW9CLE1BQVFQLEVBQU9RLElBQ2pDVixFQUFLUSxTQUViMUMsVUFBVXFDLEVBQUVHLEtBSWhCNUMsRUFBRSwwQ0FBMENpRCIsImZpbGUiOiJyYWRpby5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmFkaW8gUGxheWVyIFNjcmlwdFxuICovXG5cbnZhciB2b2x1bWUgPSA1NSxcbiAgICBpc19wbGF5aW5nID0gZmFsc2UsXG4gICAgcGxheWVyLFxuICAgICRwbGF5ZXI7XG5cbmZ1bmN0aW9uIHN0b3BBbGxQbGF5ZXJzKClcbntcbiAgICBwbGF5ZXIucGF1c2UoKTtcbiAgICBwbGF5ZXIuc3JjID0gJyc7XG5cbiAgICBpc19wbGF5aW5nID0gZmFsc2U7XG4gICAgJCgnLmJ0bi1hdWRpbycpLnJlbW92ZUNsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCd6bWRpLXN0b3AnKS5hZGRDbGFzcygnem1kaS1wbGF5Jyk7XG5cbiAgICAkKCcjcmFkaW8tcGxheWVyLWNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcbn1cblxuZnVuY3Rpb24gc2V0Vm9sdW1lKG5ld192b2x1bWUpXG57XG4gICAgdm9sdW1lID0gbmV3X3ZvbHVtZTtcblxuICAgIHZhciB2b2x1bWVfcGVyY2VudCA9IE1hdGgucm91bmQodm9sdW1lICogMTAwKTtcbiAgICAkKCcuanAtdm9sdW1lLWJhci12YWx1ZScpLmNzcygnd2lkdGgnLCB2b2x1bWVfcGVyY2VudCsnJScpO1xuXG4gICAgcGxheWVyLnZvbHVtZSA9IE1hdGgucG93KHZvbHVtZSwzKTtcblxuICAgIGlmIChzdG9yZS5lbmFibGVkKVxuICAgICAgICBzdG9yZS5zZXQoJ3BsYXllcl92b2x1bWUnLCB2b2x1bWUqMTAwKTtcbn1cblxuZnVuY3Rpb24gcGxheUF1ZGlvKHNvdXJjZV91cmwpXG57XG4gICAgcGxheWVyLnNyYyA9IHNvdXJjZV91cmw7XG4gICAgcGxheWVyLnBsYXkoKS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgc3RvcEFsbFBsYXllcnMoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGxheUNsaWNrKGF1ZGlvX3NvdXJjZSlcbntcbiAgICBidG4gPSAkKCcuYnRuLWF1ZGlvW2RhdGEtdXJsPVwiJythdWRpb19zb3VyY2UrJ1wiXScpO1xuXG4gICAgaWYgKGJ0bi5oYXNDbGFzcygncGxheWluZycpKSB7XG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5QXVkaW8oYXVkaW9fc291cmNlKTtcbiAgICAgICAgYnRuLmFkZENsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpLnJlbW92ZUNsYXNzKCd6bWRpLXBsYXknKS5hZGRDbGFzcygnem1kaS1zdG9wJyk7XG4gICAgfVxufVxuXG4kKGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gQ2hlY2sgd2Vic3RvcmFnZSBmb3IgZXhpc3Rpbmcgdm9sdW1lIHByZWZlcmVuY2UuXG4gICAgaWYgKHN0b3JlLmVuYWJsZWQgJiYgc3RvcmUuZ2V0KCdwbGF5ZXJfdm9sdW1lJykgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdm9sdW1lID0gc3RvcmUuZ2V0KCdwbGF5ZXJfdm9sdW1lJywgdm9sdW1lKTtcblxuICAgICQoJy5idG4tYXVkaW8nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFuZGxlUGxheUNsaWNrKCQodGhpcykuZGF0YSgndXJsJykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgYXVkaW8gZWxlbWVudC5cbiAgICBwbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICRwbGF5ZXIgPSAkKHBsYXllcik7XG5cbiAgICBzZXRWb2x1bWUodm9sdW1lLzEwMCk7XG5cbiAgICAvLyBIYW5kbGUgZXZlbnRzLlxuICAgICRwbGF5ZXIub24oJ3BsYXknLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlzX3BsYXlpbmcgPSB0cnVlO1xuXG4gICAgICAgICQoJy5qcC11bm11dGUnKS5oaWRlKCk7XG4gICAgICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMsI3JhZGlvLWVtYmVkZGVkLWNvbnRyb2xzJykuYWRkQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcblxuICAgICAgICB2YXIgdm9sdW1lX3BlcmNlbnQgPSBNYXRoLnJvdW5kKCRwbGF5ZXIudm9sdW1lICogMTAwKTtcbiAgICAgICAgJCgnLmpwLXZvbHVtZS1iYXItdmFsdWUnKS5jc3MoJ3dpZHRoJywgdm9sdW1lX3BlcmNlbnQrJyUnKTtcbiAgICB9KTtcblxuICAgICRwbGF5ZXIub24oJ2VuZGVkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzdG9wQWxsUGxheWVycygpO1xuICAgIH0pO1xuXG4gICAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikge1xuICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3BhdXNlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzdG9wQWxsUGxheWVycygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYnV0dG9uIGNsaWNrcy5cbiAgICAkKCcuanAtcGF1c2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgfSk7XG5cbiAgICAkKCcuanAtbXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcGxheWVyLnZvbHVtZSA9IDA7XG4gICAgICAgICQoJy5qcC11bm11dGUnKS5zaG93KCk7XG4gICAgICAgICQoJy5qcC1tdXRlJykuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnLmpwLXVubXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2V0Vm9sdW1lKHZvbHVtZSk7XG4gICAgICAgICQoJy5qcC11bm11dGUnKS5oaWRlKCk7XG4gICAgICAgICQoJy5qcC1tdXRlJykuc2hvdygpO1xuICAgIH0pO1xuXG4gICAgJCgnLmpwLXZvbHVtZS1iYXInKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciAkYmFyID0gJChlLmN1cnJlbnRUYXJnZXQpLFxuICAgICAgICAgICAgb2Zmc2V0ID0gJGJhci5vZmZzZXQoKSxcbiAgICAgICAgICAgIHggPSBlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB3ID0gJGJhci53aWR0aCgpLFxuICAgICAgICAgICAgeSA9ICRiYXIuaGVpZ2h0KCkgLSBlLnBhZ2VZICsgb2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGggPSAkYmFyLmhlaWdodCgpO1xuXG4gICAgICAgIHNldFZvbHVtZSh4L3cpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGF1dG9wbGF5LlxuICAgICQoJy5idG4tYXVkaW9bZGF0YS1hdXRvcGxheT1cInRydWVcIl06Zmlyc3QnKS5jbGljaygpO1xuXG59KTtcbiJdfQ==
