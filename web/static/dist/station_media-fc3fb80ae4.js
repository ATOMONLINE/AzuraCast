"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var StationMedia=function(r){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}return n.m=r,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/dist",n(n.s=30)}([function(t,e,r){var n=r(4),i=r(11),s=Object.prototype.toString;function a(t){return"[object Array]"===s.call(t)}function o(t){return null!==t&&"object"==_typeof(t)}function l(t){return"[object Function]"===s.call(t)}function c(t,e){if(null!=t)if("object"!=_typeof(t)&&(t=[t]),a(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:l,isStream:function(t){return o(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function r(){var i={};function t(t,e){"object"==_typeof(i[e])&&"object"==_typeof(t)?i[e]=r(i[e],t):i[e]=t}for(var e=0,n=arguments.length;e<n;e++)c(arguments[e],t);return i},extend:function(r,t,i){return c(t,function(t,e){r[e]=i&&"function"==typeof t?n(t,i):t}),r},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){t.exports=r(10)},function(r,i,t){(function(f){var t,e;void 0===(e="function"==typeof(t=function(){var i,s={},t="undefined"!=typeof window?window:f,e=t.document,n="localStorage";if(s.disabled=!1,s.version="1.3.20",s.set=function(t,e){},s.get=function(t,e){},s.has=function(t){return void 0!==s.get(t)},s.remove=function(t){},s.clear=function(){},s.transact=function(t,e,r){null==r&&(r=e,e=null),null==e&&(e={});var i=s.get(t,e);r(i),s.set(t,i)},s.getAll=function(){},s.forEach=function(){},s.serialize=function(t){return JSON.stringify(t)},s.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return n in t&&t[n]}catch(t){return!1}}())i=t[n],s.set=function(t,e){return void 0===e?s.remove(t):(i.setItem(t,s.serialize(e)),e)},s.get=function(t,e){var r=s.deserialize(i.getItem(t));return void 0===r?e:r},s.remove=function(t){i.removeItem(t)},s.clear=function(){i.clear()},s.getAll=function(){var r={};return s.forEach(function(t,e){r[t]=e}),r},s.forEach=function(t){for(var e=0;e<i.length;e++){var r=i.key(e);t(r,s.get(r))}};else if(e&&e.documentElement.addBehavior){var a,r;try{(r=new ActiveXObject("htmlfile")).open(),r.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),r.close(),a=r.w.frames[0].document,i=a.createElement("div")}catch(s){i=e.createElement("div"),a=e.body}var o=function(r){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),a.appendChild(i),i.addBehavior("#default#userData"),i.load(n);var e=r.apply(s,t);return a.removeChild(i),e}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c=function(t){return t.replace(/^d/,"___$&").replace(l,"___")};s.set=o(function(t,e,r){return e=c(e),void 0===r?s.remove(e):(t.setAttribute(e,s.serialize(r)),t.save(n),r)}),s.get=o(function(t,e,r){e=c(e);var i=s.deserialize(t.getAttribute(e));return void 0===i?r:i}),s.remove=o(function(t,e){e=c(e),t.removeAttribute(e),t.save(n)}),s.clear=o(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(n);for(var r=e.length-1;0<=r;r--)t.removeAttribute(e[r].name);t.save(n)}),s.getAll=function(t){var r={};return s.forEach(function(t,e){r[t]=e}),r},s.forEach=o(function(t,e){for(var r,i=t.XMLDocument.documentElement.attributes,n=0;r=i[n];++n)e(r.name,s.deserialize(t.getAttribute(r.name)))})}try{var u="__storejs__";s.set(u,u),s.get(u)!=u&&(s.disabled=!0),s.remove(u)}catch(i){s.disabled=!0}return s.enabled=!s.disabled,s})?t.apply(i,[]):t)||(r.exports=e)}).call(this,t(28))},function(o,t,l){(function(t){var r=l(0),i=l(14),e={"Content-Type":"application/x-www-form-urlencoded"};function n(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,a={adapter:("undefined"!=typeof XMLHttpRequest?s=l(5):void 0!==t&&(s=l(5)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(e)}),o.exports=a}).call(this,l(13))},function(t,e,r){t.exports=function(r,i){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(i,t)}}},function(t,e,u){var f=u(0),d=u(15),h=u(17),p=u(18),m=u(19),v=u(6);t.exports=function(c){return new Promise(function(r,i){var n=c.data,s=c.headers;f.isFormData(n)&&delete s["Content-Type"];var a=new XMLHttpRequest;if(c.auth){var t=c.auth.username||"",e=c.auth.password||"";s.Authorization="Basic "+btoa(t+":"+e)}if(a.open(c.method.toUpperCase(),h(c.url,c.params,c.paramsSerializer),!0),a.timeout=c.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in a?p(a.getAllResponseHeaders()):null,e={data:c.responseType&&"text"!==c.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:t,config:c,request:a};d(r,i,e),a=null}},a.onerror=function(){i(v("Network Error",c,null,a)),a=null},a.ontimeout=function(){i(v("timeout of "+c.timeout+"ms exceeded",c,"ECONNABORTED",a)),a=null},f.isStandardBrowserEnv()){var o=u(20),l=(c.withCredentials||m(c.url))&&c.xsrfCookieName?o.read(c.xsrfCookieName):void 0;l&&(s[c.xsrfHeaderName]=l)}if("setRequestHeader"in a&&f.forEach(s,function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete s[e]:a.setRequestHeader(e,t)}),c.withCredentials&&(a.withCredentials=!0),c.responseType)try{a.responseType=c.responseType}catch(r){if("json"!==c.responseType)throw r}"function"==typeof c.onDownloadProgress&&a.addEventListener("progress",c.onDownloadProgress),"function"==typeof c.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(t){a&&(a.abort(),i(t),a=null)}),void 0===n&&(n=null),a.send(n)})}},function(t,e,r){var a=r(16);t.exports=function(t,e,r,i,n){var s=new Error(t);return a(s,e,r,i,n)}},function(t,e,r){t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,p,e){(function(t){var r;!function(e,a,s){if(e&&a){var o=e.navigator.msPointerEnabled;i.prototype={on:function(t,e){t=t.toLowerCase(),this.events.hasOwnProperty(t)||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){var r,i,n;t!==s?(t=t.toLowerCase(),e!==s?this.events.hasOwnProperty(t)&&(i=e,-1<(n=(r=this.events[t]).indexOf(i))&&r.splice(n,1)):delete this.events[t]):this.events={}},fire:function(t,e){e=Array.prototype.slice.call(arguments),t=t.toLowerCase();var r=!1;return this.events.hasOwnProperty(t)&&h(this.events[t],function(t){r=!1===t.apply(this,e.slice(1))||r},this),"catchall"!=t&&(e.unshift("catchAll"),r=!1===this.fire.apply(this,e)||r),!r},webkitReadDataTransfer:function(t){var e=this,i=t.dataTransfer.items.length,r=[];function n(t,e){t.relativePath=e.substring(1),r.push(t),a()}function s(t){throw t}function a(){0==--i&&e.addFiles(r,t)}h(t.dataTransfer.items,function(t){var e=t.webkitGetAsEntry();e?e.isFile?n(t.getAsFile(),e.fullPath):function r(e){e.readEntries(function(t){t.length?(i+=t.length,h(t,function(t){if(t.isFile){var e=t.fullPath;t.file(function(t){n(t,e)},s)}else t.isDirectory&&r(t.createReader())}),r(e)):a()},s)}(e.createReader()):a()})},generateUniqueIdentifier:function(t){var e=this.opts.generateUniqueIdentifier;if("function"==typeof e)return e(t);var r=t.relativePath||t.webkitRelativePath||t.fileName||t.name;return t.size+"-"+r.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(t){var e=!1;if(this.opts.prioritizeFirstAndLastChunk&&(h(this.files,function(t){return!t.paused&&t.chunks.length&&"pending"===t.chunks[0].status()?(t.chunks[0].send(),!(e=!0)):!t.paused&&1<t.chunks.length&&"pending"===t.chunks[t.chunks.length-1].status()?(t.chunks[t.chunks.length-1].send(),!(e=!0)):void 0}),e))return e;if(h(this.files,function(t){if(t.paused||h(t.chunks,function(t){if("pending"===t.status())return t.send(),!(e=!0)}),e)return!1}),e)return!0;var r=!1;return h(this.files,function(t){if(!t.isComplete())return!(r=!0)}),r||t||f(function(){this.fire("complete")},this),!1},assignBrowse:function(t,i,n,s){t instanceof Element&&(t=[t]),h(t,function(t){var r;"INPUT"===t.tagName&&"file"===t.type?r=t:((r=a.createElement("input")).setAttribute("type","file"),d(r.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),t.appendChild(r),t.addEventListener("click",function(){r.click()},!1)),this.opts.singleFile||n||r.setAttribute("multiple","multiple"),i&&r.setAttribute("webkitdirectory","webkitdirectory"),h(s,function(t,e){r.setAttribute(e,t)});var e=this;r.addEventListener("change",function(t){t.target.value&&(e.addFiles(t.target.files,t),t.target.value="")},!1)},this)},assignDrop:function(t){void 0===t.length&&(t=[t]),h(t,function(t){t.addEventListener("dragover",this.preventEvent,!1),t.addEventListener("dragenter",this.preventEvent,!1),t.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(t){void 0===t.length&&(t=[t]),h(t,function(t){t.removeEventListener("dragover",this.preventEvent),t.removeEventListener("dragenter",this.preventEvent),t.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return h(this.files,function(t){if(t.isUploading())return!(e=!0)}),e},_shouldUploadNext:function(){var e=0,r=!0,i=this.opts.simultaneousUploads;return h(this.files,function(t){h(t.chunks,function(t){if("uploading"===t.status()&&++e>=i)return r=!1})}),r&&e},upload:function(){var t=this._shouldUploadNext();if(!1!==t){this.fire("uploadStart");for(var e=!1,r=1;r<=this.opts.simultaneousUploads-t;r++)e=this.uploadNextChunk(!0)||e;e||f(function(){this.fire("complete")},this)}},resume:function(){h(this.files,function(t){t.isComplete()||t.resume()})},pause:function(){h(this.files,function(t){t.pause()})},cancel:function(){for(var t=this.files.length-1;0<=t;t--)this.files[t].cancel()},progress:function(){var e=0,r=0;return h(this.files,function(t){e+=t.progress()*t.size,r+=t.size}),0<r?e/r:0},addFile:function(t,e){this.addFiles([t],e)},addFiles:function(t,i){var n=[];h(t,function(t){if((!o||o&&0<t.size)&&(t.size%4096!=0||"."!==t.name&&"."!==t.fileName)){var e=this.generateUniqueIdentifier(t);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(e)){var r=new l(this,t,e);this.fire("fileAdded",r,i)&&n.push(r)}}},this),this.fire("filesAdded",n,i)&&(h(n,function(t){this.opts.singleFile&&0<this.files.length&&this.removeFile(this.files[0]),this.files.push(t)},this),this.fire("filesSubmitted",n,i))},removeFile:function(t){for(var e=this.files.length-1;0<=e;e--)this.files[e]===t&&(this.files.splice(e,1),t.abort(),this.fire("fileRemoved",t))},getFromUniqueIdentifier:function(e){var r=!1;return h(this.files,function(t){t.uniqueIdentifier===e&&(r=t)}),r},getSize:function(){var e=0;return h(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return h(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,r=0;return h(this.files,function(t){t.paused||t.error||(e+=t.size-t.sizeUploaded(),r+=t.averageSpeed)}),e&&!r?Number.POSITIVE_INFINITY:e||r?Math.floor(e/r):0}},l.prototype={measureSpeed:function(){var t=Date.now()-this._lastProgressCallback;if(t){var e=this.flowObj.opts.speedSmoothingFactor,r=this.sizeUploaded();this.currentSpeed=Math.max((r-this._prevUploadedSize)/t*1e3,0),this.averageSpeed=e*this.currentSpeed+(1-e)*this.averageSpeed,this._prevUploadedSize=r}},chunkEvent:function(t,e,r){switch(e){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,t),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,r,t),this.flowObj.fire("error",r,this,t);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,t),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,r,t));break;case"retry":this.flowObj.fire("fileRetry",this,t)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(t){this.currentSpeed=0,this.averageSpeed=0;var e=this.chunks;t&&(this.chunks=[]),h(e,function(t){"uploading"===t.status()&&(t.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var t=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,e=Math.max(t(this.size/this.flowObj.opts.chunkSize),1),r=0;r<e;r++)this.chunks.push(new c(this.flowObj,this,r))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;h(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,.9999<t?1:t),this._prevProgress},isUploading:function(){var e=!1;return h(this.chunks,function(t){if("uploading"===t.status())return!(e=!0)}),e},isComplete:function(){var r=!1;return h(this.chunks,function(t){var e=t.status();if("pending"===e||"uploading"===e||"reading"===e||1===t.preprocessState||1===t.readState)return!(r=!0)}),!r},sizeUploaded:function(){var e=0;return h(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var t=this.size-this.sizeUploaded();return t&&!this.averageSpeed?Number.POSITIVE_INFINITY:t||this.averageSpeed?Math.floor(t/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},c.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(t,e){return t.indexOf("?")<0?t+="?":t+="&",t+e.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var t=u(this.flowObj.opts.testMethod,this.fileObj,this),e=this.prepareXhrRequest(t,!0);this.xhr.send(e)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(t){this.readState=2,this.bytes=t,this.send()},send:function(){var t=this.flowObj.opts.preprocess,e=this.flowObj.opts.readFileFn;if("function"==typeof t)switch(this.preprocessState){case 0:return this.preprocessState=1,void t(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void e(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(!this.flowObj.opts.testChunks||this.tested){this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var r=u(this.flowObj.opts.uploadMethod,this.fileObj,this),i=this.prepareXhrRequest(r,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(i)}else this.test()},abort:function(){var t=this.xhr;this.xhr=null,t&&t.abort()},status:function(t){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":-1<this.flowObj.opts.successStatuses.indexOf(this.xhr.status)?"success":-1<this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)||!t&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var t=this.status();return"success"===t||"error"===t?1:"pending"===t?0:0<this.total?this.loaded/this.total:0},sizeUploaded:function(){var t=this.endByte-this.startByte;return"success"!==this.status()&&(t=this.progress()*t),t},prepareXhrRequest:function(t,e,r,i){var n=u(this.flowObj.opts.query,this.fileObj,this,e);n=d(n||{},this.getParams());var s=u(this.flowObj.opts.target,this.fileObj,this,e),a=null;if("GET"===t||"octet"===r){var o=[];h(n,function(t,e){o.push([encodeURIComponent(e),encodeURIComponent(t)].join("="))}),s=this.getTarget(s,o),a=i||null}else a=new FormData,h(n,function(t,e){a.append(e,t)}),void 0!==i&&a.append(this.flowObj.opts.fileParameterName,i,this.fileObj.file.name);return this.xhr.open(t,s,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,h(u(this.flowObj.opts.headers,this.fileObj,this,e),function(t,e){this.xhr.setRequestHeader(e,t)},this),a}},i.evalOpts=u,i.extend=d,i.each=h,i.FlowFile=l,i.FlowChunk=c,i.version="<%= version %>",t&&"object"==_typeof(t.exports)?t.exports=i:(e.Flow=i,(r=function(){return i}.apply(p,[]))===s||(t.exports=r))}else console.warn("Flowjs needs window and document objects to work");function i(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent)||/Firefox/.test(e.navigator.userAgent)||/Edge/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:n},this.opts={},this.events={};var r=this;this.onDrop=function(t){r.opts.onDropStopPropagation&&t.stopPropagation(),t.preventDefault();var e=t.dataTransfer;e.items&&e.items[0]&&e.items[0].webkitGetAsEntry?r.webkitReadDataTransfer(t):r.addFiles(e.files,t)},this.preventEvent=function(t){t.preventDefault()},this.opts=i.extend({},this.defaults,t||{})}}function l(t,e,r){this.flowObj=t,this.bytes=null,this.file=e,this.name=e.fileName||e.name,this.size=e.size,this.relativePath=e.relativePath||e.webkitRelativePath||this.name,this.uniqueIdentifier=r===s?t.generateUniqueIdentifier(e):r,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function n(t,e,r,i,n){var s="slice";t.file.slice?s="slice":t.file.mozSlice?s="mozSlice":t.file.webkitSlice&&(s="webkitSlice"),n.readFinished(t.file[s](e,r,i))}function c(t,e,r){this.flowObj=t,this.fileObj=e,this.offset=r,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var t=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-t<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(t=this.fileObj.size),t},this.endByte=this.computeEndByte(),this.xhr=null;var i=this;this.event=function(t,e){(e=Array.prototype.slice.call(arguments)).unshift(i),i.fileObj.chunkEvent.apply(i.fileObj,e)},this.progressHandler=function(t){t.lengthComputable&&(i.loaded=t.loaded,i.total=t.total),i.event("progress",t)},this.testHandler=function(t){var e=i.status(!0);"error"===e?(i.event(e,i.message()),i.flowObj.uploadNextChunk()):"success"===e?(i.tested=!0,i.event(e,i.message()),i.flowObj.uploadNextChunk()):i.fileObj.paused||(i.tested=!0,i.send())},this.doneHandler=function(t){var e=i.status();if("success"===e||"error"===e)delete this.data,i.event(e,i.message()),i.flowObj.uploadNextChunk();else{i.event("retry",i.message()),i.pendingRetry=!0,i.abort(),i.retries++;var r=i.flowObj.opts.chunkRetryInterval;null!==r?setTimeout(function(){i.send()},r):i.send()}}}function u(t,e){return"function"==typeof t&&(e=Array.prototype.slice.call(arguments),t=t.apply(null,e.slice(1))),t}function f(t,e){setTimeout(t.bind(e),0)}function d(r,t){return h(arguments,function(t){t!==r&&h(t,function(t,e){r[e]=t})}),r}function h(t,e,r){var i;if(t)if(void 0!==t.length){for(i=0;i<t.length;i++)if(!1===e.call(r,t[i],i))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(r,t[i],i))return}}("undefined"!=typeof window&&window,"undefined"!=typeof document&&document)}).call(this,e(29)(t))},function(t,e,r){var i=r(0),n=r(4),s=r(12),a=r(3);function o(t){var e=new s(t),r=n(s.prototype.request,e);return i.extend(r,s.prototype,e),i.extend(r,e),r}var l=o(a);l.Axios=s,l.create=function(t){return o(i.merge(a,t))},l.Cancel=r(8),l.CancelToken=r(26),l.isCancel=r(7),l.all=function(t){return Promise.all(t)},l.spread=r(27),t.exports=l,t.exports.default=l},function(t,e){t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,r){var i=r(3),n=r(0),s=r(21),a=r(22);function o(t){this.defaults=t,this.interceptors={request:new s,response:new s}}o.prototype.request=function(t){"string"==typeof t&&(t=n.merge({url:arguments[0]},arguments[1])),(t=n.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},n.forEach(["delete","get","head","options"],function(r){o.prototype[r]=function(t,e){return this.request(n.merge(e||{},{method:r,url:t}))}}),n.forEach(["post","put","patch"],function(i){o.prototype[i]=function(t,e,r){return this.request(n.merge(r||{},{method:i,url:t,data:e}))}}),t.exports=o},function(t,e){var r,i,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=o(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||u||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){var n=r(0);t.exports=function(r,i){n.forEach(r,function(t,e){e!==i&&e.toUpperCase()===i.toUpperCase()&&(r[i]=t,delete r[e])})}},function(t,e,r){var n=r(6);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){t.exports=function(t,e,r,i,n){return t.config=e,r&&(t.code=r),t.request=i,t.response=n,t}},function(t,e,r){var s=r(0);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(s.isURLSearchParams(e))i=e.toString();else{var n=[];s.forEach(e,function(t,e){null!=t&&(s.isArray(t)?e+="[]":t=[t],s.forEach(t,function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=JSON.stringify(t)),n.push(a(e)+"="+a(t))}))}),i=n.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,r){var s=r(0),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,n={};return t&&s.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=s.trim(t.substr(0,i)).toLowerCase(),r=s.trim(t.substr(i+1)),e){if(n[e]&&0<=a.indexOf(e))return;n[e]="set-cookie"===e?(n[e]?n[e]:[]).concat([r]):n[e]?n[e]+", "+r:r}}),n}},function(t,e,r){var i,n,s,a=r(0);function o(t){var e=t;return n&&(s.setAttribute("href",e),e=s.href),s.setAttribute("href",e),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}t.exports=a.isStandardBrowserEnv()?(n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),i=o(window.location.href),function(t){var e=a.isString(t)?o(t):t;return e.protocol===i.protocol&&e.host===i.host}):function(){return!0}},function(t,e,r){var o=r(0);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,r,i,n,s){var a=[];a.push(t+"="+encodeURIComponent(e)),o.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),o.isString(i)&&a.push("path="+i),o.isString(n)&&a.push("domain="+n),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){var i=r(0);function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=n},function(t,e,r){var i=r(0),n=r(23),s=r(7),a=r(3),o=r(24),l=r(25);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return c(e),e.baseURL&&!o(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=n(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,r){var i=r(0);t.exports=function(e,r,t){return i.forEach(t,function(t){e=t(e,r)}),e}},function(t,e,r){t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){var i=r(8);function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new i(t),e(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},t.exports=n},function(t,e,r){t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){r.r(e);function i(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",[i("b-row",[i("b-col",{attrs:{md:"6"}},[i("b-pagination",{attrs:{"total-rows":r.totalRows,"per-page":r.perPage},model:{value:r.currentPage,callback:function(t){r.currentPage=t},expression:"currentPage"}})],1),r._v(" "),i("b-col",{attrs:{md:"6"}},[i("div",{staticClass:"search form-group"},[i("div",{staticClass:"input-group"},[i("span",{staticClass:"icon glyphicon input-group-addon search"}),r._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:r.filter,expression:"filter"}],staticClass:"search-field form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:r.filter},on:{input:function(t){t.target.composing||(r.filter=t.target.value)}}})])]),r._v(" "),i("div",{staticClass:"actions btn-group"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:"Refresh"},on:{click:function(t){return r.refresh()}}},[i("i",{staticClass:"material-icons"},[r._v("refresh")])]),r._v(" "),i("div",{staticClass:"dropdown btn-group"},[i("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[i("span",{staticClass:"dropdown-text"},[r._v(r._s(r.perPageLabel))]),r._v(" "),i("span",{staticClass:"caret"})]),r._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{role:"menu"}},r._l(r.pageOptions,function(e){return i("li",{class:{active:e===r.perPage}},[i("a",{staticClass:"dropdown-item dropdown-item-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),r.setPerPage(e)}}},[r._v("\n                                "+r._s(r.getPerPageLabel(e))+"\n                            ")])])}),0)])])])],1),r._v(" "),i("b-table",{ref:"table",attrs:{"show-empty":"",selectable:r.selectable,"api-url":r.apiUrl,"per-page":r.perPage,"current-page":r.currentPage,items:r.loadItems,fields:r.fields,filter:r.filter},on:{"row-selected":r.onRowSelected,filtered:r.onFiltered},scopedSlots:r._u([{key:"cell(selected)",fn:function(t){return[t.rowSelected?[i("span",{attrs:{"aria-hidden":"true"}},[r._v("✓")]),r._v(" "),i("span",{staticClass:"sr-only"},[r._v("Selected")])]:[i("span",{attrs:{"aria-hidden":"true"}},[r._v(" ")]),r._v(" "),i("span",{staticClass:"sr-only"},[r._v("Not selected")])]]}},r._l(r.$scopedSlots,function(t,e){return{key:e,fn:function(t){return[r._t(e,null,null,t)]}}})],null,!0)},[r._v(" "),r._l(r.$slots,function(t,e){return r._t(e,null,{slot:e})})],2),r._v(" "),i("b-pagination",{attrs:{"total-rows":r.totalRows,"per-page":r.perPage},model:{value:r.currentPage,callback:function(t){r.currentPage=t},expression:"currentPage"}})],1)}var n=r(1),s=r.n(n),a=r(2),o=r.n(a),l={name:"DataTable",props:{id:String,apiUrl:String,defaultPerPage:Number,fields:Array,selectable:Boolean,requestConfig:Function,requestProcess:Function},data:function(){return{filter:null,perPage:this.defaultPerPage,perPageText:this.defaultPerPage,pageOptions:[10,25,50,-1],currentPage:1,totalRows:0,flushCache:!1}},created:function(){var t="datatable_"+this.id+"_perpage";o.a.enabled&&void 0!==o.a.get(t)&&(this.perPage=o.a.get(t))},computed:{perPageLabel:function(){return this.getPerPageLabel(this.perPage)}},methods:{getPerPageLabel:function(t){return-1===t?"All":t},setPerPage:function(t){this.perPage=t},refresh:function(){this.$refs.table.refresh()},list:function(){this.filter=null,this.currentPage=1,this.flushCache=!0,this.refresh()},filter:function(t){this.filter=t},loadItems:function(t,r){var i=this,e={rowCount:t.perPage,current:t.currentPage,searchPhrase:t.filter,sort:[]};this.flushCache&&(e.flush_cache=!0),""!==t.sortBy&&(e.sort[t.sortBy]=t.sortDesc?"DESC":"ASC");var n={params:e};"function"==typeof this.requestConfig&&(n=this.requestConfig(n)),s.a.get(t.apiUrl,n).then(function(t){i.flushCache=!1,i.totalRows=t.data.total;var e=t.data.rows;"function"==typeof i.requestProcess&&(e=i.requestProcess(e)),r(e)}).catch(function(t){i.flushCache=!1,i.totalRows=0,console.error(t.data.message),r([])})},onRowSelected:function(t){this.selected=t,this.$emit("row-selected",t)},onFiltered:function(t){this.$emit("filtered",t)}}};function c(t,e,r,i,n,s,a,o){var l=_typeof((t=t||{}).default);"object"!==l&&"function"!==l||(t=t.default);var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId=s),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):n&&(c=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(u.functional){u._injectStyles=c;var f=u.render;u.render=function(t,e){return c.call(e),f(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}i._withStripped=!0;var u=c(l,i,[],!1,null,null,null);u.options.__file="vue/components/DataTable.vue";function f(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"row pt-4",attrs:{id:"app-toolbar"}},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"btn-group dropdown allow-focus"},[e("button",{staticClass:"btn btn-sm btn-primary dropdown-toggle mb-1",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[o._v("clear_all")]),o._v(" "),e("translate",[o._v("Set Playlists")]),o._v(" "),e("span",{staticClass:"caret"})],1),o._v(" "),e("div",{staticClass:"dropdown-menu",staticStyle:{"line-height":"inherit"},attrs:{role:"menu"},on:{click:function(t){t.stopPropagation()}}},[e("form",{staticClass:"px-3 py-3",attrs:{id:"frm_set_playlists"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),o.setPlaylists(t)}}},[o._l(o.playlists,function(a){return e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:o.checkedPlaylists,expression:"checkedPlaylists"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"chk_playlist_"+a.id,name:"playlists[]"},domProps:{value:a.id,checked:Array.isArray(o.checkedPlaylists)?-1<o._i(o.checkedPlaylists,a.id):o.checkedPlaylists},on:{change:function(t){var e=o.checkedPlaylists,r=t.target,i=!!r.checked;if(Array.isArray(e)){var n=a.id,s=o._i(e,n);r.checked?s<0&&(o.checkedPlaylists=e.concat([n])):-1<s&&(o.checkedPlaylists=e.slice(0,s).concat(e.slice(s+1)))}else o.checkedPlaylists=i}}}),o._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"chk_playlist_"+a.id}},[o._v("\n                                "+o._s(a.name)+"\n                            ")])])])}),o._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:o.checkedPlaylists,expression:"checkedPlaylists"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"chk_playlist_new",value:"new"},domProps:{checked:Array.isArray(o.checkedPlaylists)?-1<o._i(o.checkedPlaylists,"new"):o.checkedPlaylists},on:{change:function(t){var e=o.checkedPlaylists,r=t.target,i=!!r.checked;if(Array.isArray(e)){var n=o._i(e,"new");r.checked?n<0&&(o.checkedPlaylists=e.concat(["new"])):-1<n&&(o.checkedPlaylists=e.slice(0,n).concat(e.slice(n+1)))}else o.checkedPlaylists=i}}}),o._v(" "),e("label",{staticClass:"custom-control-label",attrs:{for:"chk_playlist_new"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:o.newPlaylist,expression:"newPlaylist"}],staticClass:"form-control p-2",attrs:{type:"text",id:"new_playlist_name",name:"new_playlist_name",placeholder:"<?=__('New Playlist') ?>"},domProps:{value:o.newPlaylist},on:{input:function(t){t.target.composing||(o.newPlaylist=t.target.value)}}})])])]),o._v(" "),e("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[o._v("Save")])],2)])]),o._v(" "),e("button",{staticClass:"btn btn-sm btn-warning mb-1",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),o.clearPlaylists(t)}}},[e("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[o._v("clear_all")]),o._v(" "),e("translate",[o._v("Clear Playlists")])],1),o._v(" "),e("a",{staticClass:"btn btn-sm btn-primary mb-1",attrs:{href:"#","data-toggle":"modal","data-target":"#mdl-move-file"}},[e("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[o._v("open_with")]),o._v(" "),e("translate",[o._v("Move")])],1),o._v(" "),e("button",{staticClass:"btn btn-sm btn-danger mb-1",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),o.doDelete(t)}}},[e("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[o._v("delete")]),o._v(" "),e("translate",[o._v("Delete")])],1)]),o._v(" "),e("div",{staticClass:"col-md-4 text-right"},[e("a",{staticClass:"btn btn-sm btn-primary",attrs:{href:"#","data-toggle":"modal","data-target":"#mdl-create-directory"}},[e("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[o._v("folder")]),o._v(" "),e("translate",[o._v("New Folder")])],1)])])}var h=u.exports,p={name:"station-media-toolbar",props:{currentDirectory:String,selectedFiles:Array,initialPlaylists:Array,batchUrl:String,csrf:String},data:function(){return{playlists:this.initialPlaylists,checkedPlaylists:[],newPlaylist:""}},watch:{newPlaylist:function(t){""!==t&&(this.checkedPlaylists.includes("new")||this.checkedPlaylists.push("new"))}},computed:{newPlaylistIsChecked:function(){return""!==this.newPlaylist}},methods:{doDelete:function(t){var e=this,r=this.$gettext("Delete"),i=this.$gettext("Delete %{ num } media file(s)?");swal({title:this.$gettextInterpolate(i,{num:this.selectedFiles.length}),buttons:[!0,r],dangerMode:!0}).then(function(t){t&&e.doBatch("delete",e.$gettext("Files removed:"))})},doBatch:function(t,e){var r=this;this.selectedFiles.length&&s.a.post(this.batchUrl,{do:t,files:this.selectedFiles,csrf:this.csrf,file:this.currentDirectory},function(){notify("<b>"+e+"</b><br>"+r.selectedFiles.join("<br>"),"success",!1),r.$emit("relist")},"json")},clearPlaylists:function(t){this.checkedPlaylists=[],this.newPlaylist="",this.setPlaylists(t)},setPlaylists:function(r){var i=this;this.selectedFiles.length&&$.post(this.batchUrl,{do:"playlist",playlists:this.checkedPlaylists,new_playlist_name:this.newPlaylist,files:this.selectedFiles,csrf:this.csrf,file:getUrlHash()},function(t){t.success&&t.record&&i.playlists.push(t.record);var e=0<i.checkedPlaylists.length?i.$gettext("Playlists updated for selected files:"):i.$gettext("Playlists cleared for selected files:");notify("<b>"+e+"</b><br>"+$files.join("<br>"),"success",!1),i.checkedPlaylists=[],i.newPlaylist="",$(r.target).closest(".dropdown").find("[data-toggle=dropdown]").dropdown("toggle"),i.$emit("relist")},"json")}}};f._withStripped=!0;var m=c(p,f,[],!1,null,null,null);m.options.__file="vue/station_media/MediaToolbar.vue";function v(){var r=this,t=r.$createElement,i=r._self._c||t;return i("h3",{staticClass:"card-subtitle mt-0 mb-2",attrs:{id:"breadcrumb"}},[i("a",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),r.changeDirectory("")}}},[r._v("Home")]),r._v(" "),r._l(r.directoryParts,function(t,e){return[r._v("\n         ▸ \n        "),i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),r.changeDirectory(e.dir)}}},[r._v(r._s(e.display))])]})],2)}var g=m.exports,y={name:"Breadcrumb",props:{currentDirectory:String},computed:{directoryParts:function(){var e=[],r="";return this.currentDirectory.split("/").forEach(function(t){r+=t+"/",e.push({dir:r,display:t})}),e}},methods:{changeDirectory:function(t){this.$emit("change-directory",t)}}};v._withStripped=!0;var b=c(y,v,[],!1,null,null,null);b.options.__file="vue/station_media/Breadcrumb.vue";var _=b.exports;function w(t){var e;for(e=0;1e3<=t;e++,t/=1e3)Math.round(10*t);return e?[parseInt(d/10),".",d%10," ",["bytes","KB","MB","GB","TB","PB","EB"][e]].join(""):t+" bytes"}function C(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",[i("div",{attrs:{id:"upload_progress"}},r._l(r.files,function(t,e){return i("div",{staticClass:"uploading-file",class:{"text-success":e.is_completed,"text-danger":e.error},attrs:{id:"file_upload_"+e.uniqueIdentifier}},[i("div",{staticClass:"fileuploadname"},[r._v(r._s(e.name))]),r._v(" "),e.is_completed?r._e():i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",style:{width:e.progress_percent+"%"}})]),r._v(" "),e.error?i("div",{staticClass:"upload-status"},[r._v("\n                "+r._s(e.error)+"\n            ")]):r._e(),r._v(" "),i("div",{staticClass:"size"},[r._v(r._s(r.formatFileSize(e.size)))])])}),0),r._v(" "),i("div",{attrs:{id:"file_drop_target"}},[i("translate",[r._v("Drag files here to upload to this folder or")]),r._v(" "),i("button",{staticClass:"file-upload btn btn-primary text-center ml-1",attrs:{id:"file_browse_target",type:"button"}},[i("translate",[r._v("Select File")]),r._v(" "),i("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[r._v("cloud_upload")])],1),r._v(" "),i("small",{staticClass:"file-name"}),r._v(" "),i("input",{staticStyle:{visibility:"hidden",position:"absolute"},attrs:{type:"file",accept:".mp3,.ogg,.wav,.aac,.mp4,.m4a,.flac,audio/*",multiple:""}})],1)])}var k=r(9),P=r.n(k),x={name:"FileUpload",props:{uploadUrl:String,currentDirectory:String,searchPhrase:String,csrf:String},data:function(){return{flow:null,files:[]}},created:function(){this.flow=new P.a({target:this.uploadUrl,query:function(){return{csrf:this.csrf,file:this.currentDirectory,searchPhrase:this.searchPhrase}},headers:{Accept:"application/json"},withCredentials:!0,allowDuplicateUploads:!0,fileParameterName:"file_data"}),this.flow.assignBrowse(document.getElementById("file_browse_target")),this.flow.assignDrop(document.getElementById("file_drop_target")),this.flow.on("fileAdded",function(t,e){return t.progress_percent=0,t.is_completed=!1,t.error=null,t.is_visible=!0,this.files.push(t),!0}),this.flow.on("filesSubmitted",function(t,e){this.flow.upload()}),this.flow.on("fileProgress",function(t){t.progress_percent=100*t.progress}),this.flow.on("fileSuccess",function(t,e){t.is_completed=!0}),this.flow.on("fileError",function(t,e){var r=JSON.parse(e);t.error=r.message}),this.flow.on("error",function(t,e,r){console.error(t,e,r)}),this.flow.on("complete",function(){this.files=[],this.$emit("relist")})},methods:{formatFileSize:function(t){return w(t)}}};C._withStripped=!0;var S=c(x,C,[],!1,null,null,null);S.options.__file="vue/station_media/FileUpload.vue";function D(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal fade",attrs:{id:"mdl-create-directory",tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("form",{attrs:{id:"frm-create-directory"},on:{submit:function(t){return t.preventDefault(),e.doMkdir(t)}}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("New Directory")]),e._v(" "),e._m(0)]),e._v(" "),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"form-group"},[r("label",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"control-label",attrs:{for:"new_directory_name"}},[e._v("Directory Name:")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newDirectory,expression:"newDirectory"}],staticClass:"form-control",attrs:{type:"text",id:"new_directory_name"},domProps:{value:e.newDirectory},on:{input:function(t){t.target.composing||(e.newDirectory=t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")]),e._v(" "),r("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-primary",attrs:{type:"submit",id:"btn-create-new-playlist"}},[e._v("\n                        Create Directory\n                    ")])])])])])])}var j=S.exports,O={name:"NewDirectoryModal",props:{currentDirectory:String,mkdirUrl:String,csrf:String},data:function(){return{newDirectory:null}},methods:{doMkdir:function(){var e=this;this.newDirectory.length&&s.a.post(this.mkdirUrl,{name:this.newDirectory,csrf:this.csrf,file:this.currentDirectory}).then(function(t){$("#mdl-create-directory").modal("hide"),e.$emit("relist")}).catch(function(t){console.error(t),$("#mdl-create-directory").modal("hide"),e.$emit("relist")})}}};D._withStripped=!0;var E=c(O,D,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);E.options.__file="vue/station_media/NewDirectoryModal.vue";function F(){var r=this,t=r.$createElement,i=r._self._c||t;return i("div",{staticClass:"modal fade",attrs:{id:"mdl-move-file",tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("form",{attrs:{id:"frm-move-file"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[r._v(r._s(r.lang_header))]),r._v(" "),r._m(0)]),r._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:0===r.dirHistory.length},on:{click:r.pageBack}},[i("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[r._v("chevron_left")]),r._v(" "),i("translate",[r._v("Back")])],1),r._v(" "),i("span",[r._v(" "+r._s(r.destinationDirectory))]),r._v(" "),i("br"),i("br")])]),r._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12"},[i("data-table",{ref:"datatable",attrs:{id:"station_media",fields:r.fields,"api-url":r.listDirectoriesUrl,"request-config":r.requestConfig},scopedSlots:r._u([{key:"cell(directory)",fn:function(e){return[i("div",{staticClass:"is_dir"},[i("span",{staticClass:"file-icon"},[i("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[r._v("folder")])]),r._v(" "),i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),r.enterDirectory(e.path)}}},[r._v(r._s(e.name))])])]}}])})],1)])]),r._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[r._v("\n                        Close\n                    ")]),r._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),r.doMove()}}},[r._v("\n                        Move to Directory\n                    ")])])])])])])}var U=E.exports,R={name:"MoveFilesModal",components:{DataTable:h},props:{selectedFiles:Array,currentDirectory:File,batchUrl:String,listDirectoriesUrl:String,csrf:String},data:function(){return{destinationDirectory:"",dirHistory:[],fields:[{id:"directory",label:this.$gettext("Directory"),sortable:!1}]}},computed:{lang_header:function(){var t=this.$gettext("Move %{ num } File(s) to");return this.$gettextInterpolate(t,{num:this.selectedFiles.length})}},methods:{doMove:function(){var e=this;this.selectedFiles.length&&axios.post(this.batchUrl,{do:"move",files:this.selectedFiles,csrf:this.csrf,directory:this.destinationDirectory}).then(function(t){e.$emit("relist"),$("#mdl-move-file").modal("hide")}).catch(function(t){e.$emit("relist"),$("#mdl-move-file").modal("hide")})},enterDirectory:function(t){this.dirHistory.push(t),this.destinationDirectory=t,this.$refs.datatable.refresh()},pageBack:function(t){t.preventDefault(),this.dirHistory.pop(),this.destinationDirectory=this.dirHistory.slice(-1)[0],this.$refs.datatable.refresh()},requestConfig:function(t){return t.params.file=this.destinationDirectory,t.params.csrf=this.csrf,t}}};F._withStripped=!0;var T=c(R,F,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null);T.options.__file="vue/station_media/MoveFilesModal.vue";function A(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[n("div",{staticClass:"card-body"},[n("breadcrumb",{attrs:{"current-directory":i.currentDirectory},on:{"change-directory":i.changeDirectory}}),i._v(" "),n("file-upload",{attrs:{csrf:i.csrf,"upload-url":i.uploadUrl,"search-phrase":i.searchPhrase},on:{relist:i.onTriggerRelist}}),i._v(" "),n("media-toolbar",{attrs:{"selected-files":i.selectedFiles,csrf:i.csrf,"current-directory":i.currentDirectory},on:{relist:i.onTriggerRelist,filtered:i.onFiltered}})],1),i._v(" "),n("div",{staticClass:"table-responsive"},[n("data-table",{ref:"datatable",attrs:{selectable:"",id:"station_media",fields:i.fields,"api-url":i.listUrl,"request-config":i.requestConfig},on:{"row-selected":i.onRowSelected},scopedSlots:i._u([{key:"cell(name)",fn:function(e){return[n("div",{class:{is_dir:e.is_dir,is_file:!e.is_dir}},[n("a",{staticClass:"album-art float-right pl-3",attrs:{href:e.media_art,target:"_blank"}},[n("img",{staticStyle:{width:"40px",height:"auto","border-radius":"5px"},attrs:{alt:i.lang_album_art,src:e.media_art}})]),i._v(" "),e.media.is_playable?[n("a",{staticClass:"file-icon btn-audio",attrs:{href:"#","data-url":e.media_play_url},on:{click:function(t){return t.preventDefault(),i.playAudio(e.media_play_url)}}},[n("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[i._v("play_circle_filled")])])]:[n("span",{staticClass:"file-icon"},[e.is_dir?n("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[i._v("folder")]):n("i",{staticClass:"material-icons",attrs:{"aria-hidden":"true"}},[i._v("note")])])],i._v(" "),e.is_dir?[n("a",{staticClass:"name",attrs:{href:"#",title:e.name},on:{click:function(t){return t.preventDefault(),i.changeDirectory(e.path)}}},[i._v("\n                            "+i._s(e.text)+"\n                        ")])]:[n("a",{staticClass:"name",attrs:{href:e.media_play_url,target:"_blank",title:e.name}},[i._v("\n                            "+i._s(e.media_name)+"\n                        ")])],i._v(" "),n("br"),i._v(" "),e.is-i.dir?n("small",{directives:[{name:"translate",rawName:"v-translate"}]},[i._v("Directory")]):n("small",[i._v(i._s(e.text))])],2)]}},{key:"cell(media_length)",fn:function(t){return[i._v("\n                "+i._s(t.media_length_text)+"\n            ")]}},{key:"cell(size)",fn:function(t){return[t.size?[i._v("\n                    "+i._s(i.formatFileSize(t.size))+"\n                ")]:[i._v(" ")]]}},{key:"cell(playlists)",fn:function(r){return[i._l(r.media_playlists,function(e,t){return[n("a",{staticClass:"btn-search",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.filter("playlist:"+e)}}},[i._v(i._s(e))]),i._v(" "),t+1<r.media_playlists.length?n("span",[i._v(", ")]):i._e()]})]}},{key:"cell(commands)",fn:function(t){return[t.media_edit_url?[n("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-sm btn-primary",attrs:{href:t.media_edit_url}},[i._v("Edit")])]:t.rename_url?[n("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"btn btn-sm btn-primary",attrs:{href:t.rename_url}},[i._v("Rename")])]:[i._v(" ")]]}}])})],1),i._v(" "),n("new-directory-modal",{attrs:{"current-directory":i.currentDirectory,"mkdir-url":i.mkdirUrl,csrf:i.csrf},on:{relist:i.onTriggerRelist}}),i._v(" "),n("move-files-modal",{attrs:{"selected-files":i.selectedFiles,"current-directory":i.currentDirectory,"batch-url":i.batchUrl,"list-directories-url":i.listDirectoriesUrl,csrf:i.csrf},on:{relist:i.onTriggerRelist}})],1)}var z={components:{MoveFilesModal:T.exports,NewDirectoryModal:U,FileUpload:j,MediaToolbar:g,DataTable:h,Breadcrumb:_},props:{csrf:String,listUrl:String,batchUrl:String,uploadUrl:String,listDirectoriesUrl:String,mkdirUrl:String},data:function(){return{selectedFiles:[],currentDirectory:"",searchPhrase:null,fields:[{key:"selected",label:"",sortable:!1},{key:"name",label:this.$gettext("Name"),sortable:!0},{key:"media_length",label:this.$gettext("Length"),sortable:!0},{key:"size",label:this.$gettext("Size"),sortable:!0},{key:"mtime",label:this.$gettext("Modified"),sortable:!0,formatter:function(t,e,r){return t?moment.unix(t).format("lll"):""}},{key:"media_playlists",label:this.$gettext("Playlists"),sortable:!0},{key:"commands",label:this.$gettext("Actions"),sortable:!1}]}},computed:{lang_album_art:function(){return this.$gettext("Album Art")}},methods:{formatFileSize:function(t){return w(t)},onRowSelected:function(t){this.selectedFiles=t},onTriggerRelist:function(){this.$refs.datatable.list()},playAudio:function(t){this.$eventHub.$emit("player_toggle",t)},changeDirectory:function(t){this.currentDirectory=t},filter:function(t){this.$refs.datatable.filter(t)},onFiltered:function(t){this.searchPhrase=t},requestConfig:function(t){return t.params.file=this.currentDirectory,t.params.csrf=this.csrf,t}}};A._withStripped=!0;var N=c(z,A,[],!1,null,null,null);N.options.__file="vue/StationMedia.vue",e.default=N.exports}]);