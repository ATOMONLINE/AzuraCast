!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t(e.material={},e.jQuery)}(this,function(e,i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var n,t,o,r,a,s,c,l,d,u,h,f,p,m,g,y,v,b,_,k,S,w=(r="show-predecessor",a="hide"+(t=".bs.collapse"),s=(o="show")+t,c=".expansion-panel",l=".expansion-panel .collapse",void(n=i)(document).on(""+a,l,function(){var e=n(this).closest(c);e.removeClass(o);var t=e.prev(c);t.length&&t.removeClass(r)}).on(""+s,l,function(){var e=n(this).closest(c);e.addClass(o);var t=e.prev(c);t.length&&t.addClass(r)})),C=(h="."+(u="md.floatinglabel"),f="floatinglabel",p=(d=i).fn[f],m="is-focused",g="has-value",y="change"+h,v="focusin"+h,b="focusout"+h,_=".floating-label",k=".floating-label .custom-select, .floating-label .form-control",S=function(){function i(e){this._element=e,this._parent=d(e).closest(_)[0]}var e=i.prototype;return e.change=function(){d(this._element).val()||d(this._element).is("select")&&""!==d("option:first-child",d(this._element)).html().replace(" ","")?d(this._parent).addClass(g):d(this._parent).removeClass(g)},e.focusin=function(){d(this._parent).addClass(m)},e.focusout=function(){d(this._parent).removeClass(m)},i._jQueryInterface=function(n){return this.each(function(){var e=n||"change",t=d(this).data(u);if(t||(t=new i(this),d(this).data(u,t)),"string"==typeof e){if(void 0===t[e])throw new Error('No method named "'+e+'"');t[e]()}})},i}(),d(document).on(y+" "+v+" "+b,k,function(e){S._jQueryInterface.call(d(this),e.type)}),d.fn[f]=S._jQueryInterface,d.fn[f].Constructor=S,d.fn[f].noConflict=function(){return d.fn[f]=p,S._jQueryInterface},S);function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(e){var t,n,i;t=o,i=r[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i})}return o}var I,x,E,M=(x="transitionend",E={TRANSITION_END:"mdTransitionEnd",getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return 0<I(document).find(t).length?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=I(e).css("transition-duration");return t?(t=t.split(",")[0],1e3*parseFloat(t)):0},getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},isElement:function(e){return(e[0]||e).nodeType},reflow:function(e){return e.offsetHeight},supportsTransitionEnd:function(){return Boolean(x)},triggerTransitionEnd:function(e){I(e).trigger(x)},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=t[i],a=r&&E.isElement(r)?"element":(s=r,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var s}},(I=i).fn.emulateTransitionEnd=N,I.event.special[E.TRANSITION_END]={bindType:x,delegateType:x,handle:function(e){if(I(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},E);function N(e){var t=this,n=!1;return I(this).one(E.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||E.triggerTransitionEnd(t)},e),this}var T,P,$,j,A,F,R,W,Y,H,U,B,Q,J,K,L=($="."+(P="md.navdrawer"),j="navdrawer",A=(T=i).fn[j],F="navdrawer-backdrop",R="navdrawer-open",Y={breakpoint:"",keyboard:!0,show:!0,type:"default"},H={keyboard:"boolean",show:"boolean",type:"string"},U={CLICK_DATA_API:"click"+$+".data-api",CLICK_DISMISS:"click.dismiss"+$,FOCUSIN:"focusin"+$,HIDDEN:"hidden"+$,HIDE:"hide"+$,KEYDOWN_DISMISS:"keydown.dismiss"+$,MOUSEDOWN_DISMISS:"mousedown.dismiss"+$,MOUSEUP_DISMISS:"mouseup.dismiss"+$,SHOW:(W="show")+$,SHOWN:"shown"+$},B=".navdrawer-content",Q='[data-dismiss="navdrawer"]',J='[data-toggle="navdrawer"]',K=function(){function o(e,t){this._backdrop=null,this._config=this._getConfig(t),this._content=T(e).find(B)[0],this._element=e,this._ignoreBackdropClick=!1,this._isShown=!1,this._typeBreakpoint=""===this._config.breakpoint?"":"-"+this._config.breakpoint}var e,t,n,i=o.prototype;return i.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var n=T.Event(U.HIDE);if(T(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1,this._isTransitioning=!0,this._setEscapeEvent(),T(document).off(U.FOCUSIN),T(document.body).removeClass(R+"-"+this._config.type+this._typeBreakpoint),T(this._element).removeClass(W),T(this._element).off(U.CLICK_DISMISS),T(this._content).off(U.MOUSEDOWN_DISMISS);var i=M.getTransitionDurationFromElement(this._content);T(this._content).one(M.TRANSITION_END,function(e){return t._hideNavdrawer(e)}).emulateTransitionEnd(i),this._showBackdrop()}}},i.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){this._isTransitioning=!0;var n=T.Event(U.SHOW,{relatedTarget:e});T(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._setEscapeEvent(),T(this._element).addClass(j+"-"+this._config.type+this._typeBreakpoint),T(this._element).on(U.CLICK_DISMISS,Q,function(e){return t.hide(e)}),T(this._content).on(U.MOUSEDOWN_DISMISS,function(){T(t._element).one(U.MOUSEUP_DISMISS,function(e){T(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(),this._showElement(e))}},i.toggle=function(e){return this._isShown?this.hide():this.show(e)},i._enforceFocus=function(){var t=this;T(document).off(U.FOCUSIN).on(U.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===T(t._element).has(e.target).length&&t._element.focus()})},i._getConfig=function(e){return e=O({},Y,e),M.typeCheckConfig(j,e,H),e},i._hideNavdrawer=function(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,T(this._element).trigger(U.HIDDEN)},i._removeBackdrop=function(){this._backdrop&&(T(this._backdrop).remove(),this._backdrop=null)},i._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?T(this._element).on(U.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||T(this._element).off(U.KEYDOWN_DISMISS)},i._showBackdrop=function(){var t=this;this._isShown?(this._backdrop=document.createElement("div"),T(this._backdrop).addClass(F).addClass(F+"-"+this._config.type+this._typeBreakpoint).appendTo(document.body),T(this._element).on(U.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&t.hide()}),M.reflow(this._backdrop),T(this._backdrop).addClass(W)):!this._isShown&&this._backdrop&&(T(this._backdrop).removeClass(W),this._removeBackdrop())},i._showElement=function(e){var t=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),M.reflow(this._element),T(document.body).addClass(R+"-"+this._config.type+this._typeBreakpoint),T(this._element).addClass(W),this._enforceFocus();var n=T.Event(U.SHOWN,{relatedTarget:e}),i=M.getTransitionDurationFromElement(this._content);T(this._content).one(M.TRANSITION_END,function(){t._element.focus(),t._isTransitioning=!1,T(t._element).trigger(n)}).emulateTransitionEnd(i)},o._jQueryInterface=function(n,i){return this.each(function(){var e=O({},Y,T(this).data(),"object"==typeof n&&n?n:{}),t=T(this).data(P);if(t||(t=new o(this,e),T(this).data(P,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},e=o,n=[{key:"Default",get:function(){return Y}}],(t=null)&&D(e.prototype,t),n&&D(e,n),o}(),T(document).on(U.CLICK_DATA_API,J,function(e){var t,n=this,i=M.getSelectorFromElement(this);i&&(t=T(i)[0]);var o=T(t).data(P)?"toggle":O({},T(t).data(),T(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var r=T(t).one(U.SHOW,function(e){e.isDefaultPrevented()||r.one(U.HIDDEN,function(){T(n).is(":visible")&&n.focus()})});K._jQueryInterface.call(T(t),o,this)}),T.fn[j]=K._jQueryInterface,T.fn[j].Constructor=K,T.fn[j].noConflict=function(){return T.fn[j]=A,K._jQueryInterface},K);function q(e,t){return e(t={exports:{}},t.exports),t.exports}var z,V,G,X,Z,ee,te,ne,ie,oe,re,ae,se,ce,le,de,ue,he,fe,pe,me,ge,ye,ve,be,_e,ke,Se,we,Ce,De=q(function(e,t){var n;n=function(m){var i=m(window),g=m(document),y=m(document.documentElement),v=null!=document.documentElement.style.transition;function b(i,e,t,n){if(!i)return b;function o(){return this.start()}var r=!1,s={id:i.id||"P"+Math.abs(~~(Math.random()*new Date))},c=t?m.extend(!0,{},t.defaults,n):n||{},a=m.extend({},b.klasses(),c.klass),l=m(i),d=o.prototype={constructor:o,$node:l,start:function(){return s&&s.start?d:(s.methods={},s.start=!0,s.open=!1,s.type=i.type,i.autofocus=i==S(),i.readOnly=!c.editable,i.id=i.id||s.id,"text"!=i.type&&(i.type="text"),d.component=new t(d,c),d.$root=m('<div class="'+a.picker+'" id="'+i.id+'_root" />'),k(d.$root[0],"hidden",!0),d.$holder=m(u()).appendTo(d.$root),h(),c.formatSubmit&&function(){var e;!0===c.hiddenName?(e=i.name,i.name=""):e=(e=["string"==typeof c.hiddenPrefix?c.hiddenPrefix:"","string"==typeof c.hiddenSuffix?c.hiddenSuffix:"_submit"])[0]+i.name+e[1];d._hidden=m('<input type=hidden name="'+e+'"'+(l.data("value")||i.value?' value="'+d.get("select",c.formatSubmit)+'"':"")+">")[0],l.on("change."+s.id,function(){d._hidden.value=i.value?d.get("select",c.formatSubmit):""})}(),function(){l.data(e,d).addClass(a.input).val(l.data("value")?d.get("select",c.format):i.value),c.editable||l.on("focus."+s.id+" click."+s.id,function(e){e.preventDefault(),d.open()}).on("keydown."+s.id,p);k(i,{haspopup:!0,expanded:!1,readonly:!1,owns:i.id+"_root"})}(),c.containerHidden?m(c.containerHidden).append(d._hidden):l.after(d._hidden),c.container?m(c.container).append(d.$root):l.after(d.$root),d.on({start:d.component.onStart,render:d.component.onRender,stop:d.component.onStop,open:d.component.onOpen,close:d.component.onClose,set:d.component.onSet}).on({start:c.onStart,render:c.onRender,stop:c.onStop,open:c.onOpen,close:c.onClose,set:c.onSet}),r=function(e){var t,n="position";e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]);return"fixed"==t}(d.$holder[0]),i.autofocus&&d.open(),d.trigger("start").trigger("render"))},render:function(e){return e?(d.$holder=m(u()),h(),d.$root.html(d.$holder)):d.$root.find("."+a.box).html(d.component.nodes(s.open)),d.trigger("render")},stop:function(){return s.start&&(d.close(),d._hidden&&d._hidden.parentNode.removeChild(d._hidden),d.$root.remove(),l.removeClass(a.input).removeData(e),setTimeout(function(){l.off("."+s.id)},0),i.type=s.type,i.readOnly=!1,d.trigger("stop"),s.methods={},s.start=!1),d},open:function(e){return s.open?d:(l.addClass(a.active),k(i,"expanded",!0),setTimeout(function(){d.$root.addClass(a.opened),k(d.$root[0],"hidden",!1)},0),!1!==e&&(s.open=!0,r&&y.css("overflow","hidden").css("padding-right","+="+_()),r&&v?d.$holder.find("."+a.frame).one("transitionend",function(){d.$holder[0].focus()}):d.$holder[0].focus(),g.on("click."+s.id+" focusin."+s.id,function(e){var t=e.target;t!=i&&t!=document&&3!=e.which&&d.close(t===d.$holder[0])}).on("keydown."+s.id,function(e){var t=e.keyCode,n=d.component.key[t],i=e.target;27==t?d.close(!0):i!=d.$holder[0]||!n&&13!=t?m.contains(d.$root[0],i)&&13==t&&(e.preventDefault(),i.click()):(e.preventDefault(),n?b._.trigger(d.component.key.go,d,[b._.trigger(n)]):d.$root.find("."+a.highlighted).hasClass(a.disabled)||(d.set("select",d.component.item.highlight),c.closeOnSelect&&d.close(!0)))})),d.trigger("open"))},close:function(e){return e&&(c.editable?i.focus():(d.$holder.off("focus.toOpen").focus(),setTimeout(function(){d.$holder.on("focus.toOpen",f)},0))),l.removeClass(a.active),k(i,"expanded",!1),setTimeout(function(){d.$root.removeClass(a.opened+" "+a.focused),k(d.$root[0],"hidden",!0)},0),s.open?(s.open=!1,r&&y.css("overflow","").css("padding-right","-="+_()),g.off("."+s.id),d.trigger("close")):d},clear:function(e){return d.set("clear",null,e)},set:function(e,t,n){var i,o,r=m.isPlainObject(e),a=r?e:{};if(n=r&&m.isPlainObject(t)?t:n||{},e){for(i in r||(a[e]=t),a)o=a[i],i in d.component.item&&(void 0===o&&(o=null),d.component.set(i,o,n)),"select"!=i&&"clear"!=i||l.val("clear"==i?"":d.get(i,c.format)).trigger("change");d.render()}return n.muted?d:d.trigger("set",a)},get:function(e,t){if(null!=s[e=e||"value"])return s[e];if("valueSubmit"==e){if(d._hidden)return d._hidden.value;e="value"}if("value"==e)return i.value;if(e in d.component.item){if("string"!=typeof t)return d.component.get(e);var n=d.component.get(e);return n?b._.trigger(d.component.formats.toString,d.component,[t,n]):""}},on:function(e,t,n){var i,o,r=m.isPlainObject(e),a=r?e:{};if(e)for(i in r||(a[e]=t),a)o=a[i],n&&(i="_"+i),s.methods[i]=s.methods[i]||[],s.methods[i].push(o);return d},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in s.methods&&delete s.methods[t];return d},trigger:function(e,n){function t(e){var t=s.methods[e];t&&t.map(function(e){b._.trigger(e,d,[n])})}return t("_"+e),t(e),d}};function u(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",d.component.nodes(s.open),a.box),a.wrap),a.frame),a.holder,'tabindex="-1"')}function h(){d.$holder.on({keydown:p,"focus.toOpen":f,blur:function(){l.removeClass(a.target)},focusin:function(e){d.$root.removeClass(a.focused),e.stopPropagation()},"mousedown click":function(e){var t=e.target;t!=d.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||m(t).is("input, select, textarea, button, option")||(e.preventDefault(),d.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=m(this),t=e.data(),n=e.hasClass(a.navDisabled)||e.hasClass(a.disabled),i=S();i=i&&(i.type||i.href),(n||i&&!m.contains(d.$root[0],i))&&d.$holder[0].focus(),!n&&t.nav?d.set("highlight",d.component.item.highlight,{nav:t.nav}):!n&&"pick"in t?(d.set("select",t.pick),c.closeOnSelect&&d.close(!0)):t.clear?(d.clear(),c.closeOnClear&&d.close(!0)):t.close&&d.close(!0)})}function f(e){e.stopPropagation(),l.addClass(a.target),d.$root.addClass(a.focused),d.open()}function p(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return d.close(!0),!1;(32==t||n||!s.open&&d.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?d.clear().close():d.open())}return new o}function _(){if(y.height()<=i.height())return 0;var e=m('<div style="visibility:hidden;width:100px" />').appendTo("body"),t=e[0].offsetWidth;e.css("overflow","scroll");var n=m('<div style="width:100%" />').appendTo(e)[0].offsetWidth;return e.remove(),t-n}function k(e,t,n){if(m.isPlainObject(t))for(var i in t)o(e,i,t[i]);else o(e,t,n)}function o(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function S(){try{return document.activeElement}catch(e){}}return b.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},b._={group:function(e){for(var t,n="",i=b._.trigger(e.min,e);i<=b._.trigger(e.max,e,[i]);i+=e.i)t=b._.trigger(e.item,e,[i]),n+=b._.node(e.node,t[0],t[1],t[2]);return n},node:function(e,t,n,i){return t?"<"+e+(n=n?' class="'+n+'"':"")+(i=i?" "+i:"")+">"+(t=m.isArray(t)?t.join(""):t)+"</"+e+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&e%1==0},ariaAttr:function(e,t){m.isPlainObject(e)||(e={attribute:t});for(var n in t="",e){var i=("role"==n?"":"aria-")+n,o=e[n];t+=null==o?"":i+'="'+e[n]+'"'}return t}},b.extend=function(i,o){m.fn[i]=function(e,t){var n=this.data(i);return"picker"==e?n:n&&"string"==typeof e?b._.trigger(n[e],n,[t]):this.each(function(){m(this).data(i)||new b(this,i,o,e)})},m.fn[i].defaults=o.defaults},b},e.exports=n(i)}),Oe=Object.freeze({default:De,__moduleExports:De}),Ie=Oe&&De||Oe,xe=(q(function(e,t){var n;n=function(e,p){var t,y=e._;function n(t,n){function e(){return r.currentStyle?"rtl"==r.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction}var i,o=this,r=t.$node[0],a=r.value,s=t.$node.data("value"),c=s||a,l=s?n.formatSubmit:n.format;o.settings=n,o.$node=t.$node,o.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},o.item={},o.item.clear=null,o.item.disable=(n.disable||[]).slice(0),o.item.enable=-(!0===(i=o.item.disable)[0]?i.shift():-1),o.set("min",n.min).set("max",n.max).set("now"),c?o.set("select",c,{format:l,defaultValue:!0}):o.set("select",null).set("highlight",o.item.now),o.key={40:7,38:-7,39:function(){return e()?-1:1},37:function(){return e()?1:-1},go:function(e){var t=o.item.highlight,n=new Date(t.year,t.month,t.date+e);o.set("highlight",n,{interval:e}),this.render()}},t.on("render",function(){t.$root.find("."+n.klass.selectMonth).on("change",function(){var e=this.value;e&&(t.set("highlight",[t.get("view").year,e,t.get("highlight").date]),t.$root.find("."+n.klass.selectMonth).trigger("focus"))}),t.$root.find("."+n.klass.selectYear).on("change",function(){var e=this.value;e&&(t.set("highlight",[e,t.get("view").month,t.get("highlight").date]),t.$root.find("."+n.klass.selectYear).trigger("focus"))})},1).on("open",function(){var e="";o.disabled(o.get("now"))&&(e=":not(."+n.klass.buttonToday+")"),t.$root.find("button"+e+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}function i(e,t,n){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(i)+1),i.length}function o(e){return e.match(/\w+/)[0].length}n.prototype.set=function(t,n,i){var o=this,e=o.item;return null===n?("clear"==t&&(t="select"),e[t]=n):(e["enable"==t?"disable":"flip"==t?"enable":t]=o.queue[t].split(" ").map(function(e){return n=o[e](t,n,i)}).pop(),"select"==t?o.set("highlight",e.select,i):"highlight"==t?o.set("view",e.highlight,i):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&o.disabled(e.select)&&o.set("select",e.select,i),e.highlight&&o.disabled(e.highlight)&&o.set("highlight",e.highlight,i))),o},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,n){var i;return(t=void 0===t?e:t)==-1/0||t==1/0?i=t:t=p.isPlainObject(t)&&y.isInteger(t.pick)?t.obj:p.isArray(t)?(t=new Date(t[0],t[1],t[2]),y.isDate(t)?t:this.create().obj):y.isInteger(t)||y.isDate(t)?this.normalize(new Date(t),n):this.now(e,t,n),{year:i||t.getFullYear(),month:i||t.getMonth(),date:i||t.getDate(),day:i||t.getDay(),obj:i||t,pick:i||t.getTime()}},n.prototype.createRange=function(e,t){function n(e){return!0===e||p.isArray(e)||y.isDate(e)?i.create(e):e}var i=this;return y.isInteger(e)||(e=n(e)),y.isInteger(t)||(t=n(t)),y.isInteger(e)&&p.isPlainObject(t)?e=[t.year,t.month,t.date+e]:y.isInteger(t)&&p.isPlainObject(e)&&(t=[e.year,e.month,e.date+t]),{from:n(e),to:n(t)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,t,n){var i,o,r,a,s=p.isArray(t),c=p.isPlainObject(t),l=this.item.view;if(s||c){for(a=c?(o=t.year,r=t.month,t.date):(o=+t[0],r=+t[1],+t[2]),n&&n.nav&&l&&l.month!==r&&(o=l.year,r=l.month),o=(i=new Date(o,r+(n&&n.nav?n.nav:0),1)).getFullYear(),r=i.getMonth();new Date(o,r,a).getMonth()!==r;)--a;t=[o,r,a]}return t},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){return t?"string"==typeof t?t=this.parse(e,t):y.isInteger(t)&&(t=this.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,t){var i,o,r,a,s=this,c=n,l=t&&t.interval?t.interval:1,d=-1===s.item.enable,u=s.item.min,h=s.item.max,f=d&&s.item.disable.filter(function(e){if(p.isArray(e)){var t=s.create(e).pick;t<n.pick?i=!0:t>n.pick&&(o=!0)}return y.isInteger(e)}).length;if((!t||!t.nav&&!t.defaultValue)&&(!d&&s.disabled(n)||d&&s.disabled(n)&&(f||i||o)||!d&&(n.pick<=u.pick||n.pick>=h.pick)))for(d&&!f&&(!o&&0<l||!i&&l<0)&&(l*=-1);s.disabled(n)&&(1<Math.abs(l)&&(n.month<c.month||n.month>c.month)&&(n=c,l=0<l?1:-1),n.pick<=u.pick?(r=!0,l=1,n=s.create([u.year,u.month,u.date+(n.pick===u.pick?0:-1)])):n.pick>=h.pick&&(a=!0,l=-1,n=s.create([h.year,h.month,h.date+(n.pick===h.pick?0:1)])),!r||!a);)n=s.create([n.year,n.month,n.date+l]);return n},n.prototype.disabled=function(t){var n=this,e=n.item.disable.filter(function(e){return y.isInteger(e)?t.day===(n.settings.firstDay?e:e-1)%7:p.isArray(e)||y.isDate(e)?t.pick===n.create(e).pick:p.isPlainObject(e)?n.withinRange(e,t):void 0});return e=e.length&&!e.filter(function(e){return p.isArray(e)&&"inverted"==e[3]||p.isPlainObject(e)&&e.inverted}).length,-1===n.item.enable?!e:e||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(e,i,t){var o=this,r={};return i&&"string"==typeof i?(t&&t.format||((t=t||{}).format=o.settings.format),o.formats.toArray(t.format).map(function(e){var t=o.formats[e],n=t?y.trigger(t,o,[i,r]):e.replace(/^!/,"").length;t&&(r[e]=i.substr(0,n)),i=i.substr(n)}),[r.yyyy||r.yy,(r.mm||r.m)-1,r.dd||r.d]):i},n.prototype.formats={d:function(e,t){return e?y.digits(e):t.date},dd:function(e,t){return e?2:y.lead(t.date)},ddd:function(e,t){return e?o(e):this.settings.weekdaysShort[t.day]},dddd:function(e,t){return e?o(e):this.settings.weekdaysFull[t.day]},m:function(e,t){return e?y.digits(e):t.month+1},mm:function(e,t){return e?2:y.lead(t.month+1)},mmm:function(e,t){var n=this.settings.monthsShort;return e?i(e,n,t):n[t.month]},mmmm:function(e,t){var n=this.settings.monthsFull;return e?i(e,n,t):n[t.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return y.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}},n.prototype.isDateExact=function(e,t){return y.isInteger(e)&&y.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(y.isDate(e)||p.isArray(e))&&(y.isDate(t)||p.isArray(t))?this.create(e).pick===this.create(t).pick:!(!p.isPlainObject(e)||!p.isPlainObject(t))&&(this.isDateExact(e.from,t.from)&&this.isDateExact(e.to,t.to))},n.prototype.isDateOverlap=function(e,t){var n=this.settings.firstDay?1:0;return y.isInteger(e)&&(y.isDate(t)||p.isArray(t))?(e=e%7+n)===this.create(t).day+1:y.isInteger(t)&&(y.isDate(e)||p.isArray(e))?(t=t%7+n)===this.create(e).day+1:!(!p.isPlainObject(e)||!p.isPlainObject(t))&&this.overlapRanges(e,t)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,t){var i=this,o=i.item.disable.slice(0);return"flip"==t?i.flipEnable():!1===t?(i.flipEnable(1),o=[]):!0===t?(i.flipEnable(-1),o=[]):t.map(function(e){for(var t,n=0;n<o.length;n+=1)if(i.isDateExact(e,o[n])){t=!0;break}t||(y.isInteger(e)||y.isDate(e)||p.isArray(e)||p.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},n.prototype.activate=function(e,t){var r=this,a=r.item.disable,s=a.length;return"flip"==t?r.flipEnable():!0===t?(r.flipEnable(1),a=[]):!1===t?(r.flipEnable(-1),a=[]):t.map(function(e){var t,n,i,o;for(i=0;i<s;i+=1){if(n=a[i],r.isDateExact(n,e)){t=a[i]=null,o=!0;break}if(r.isDateOverlap(n,e)){p.isPlainObject(e)?(e.inverted=!0,t=e):p.isArray(e)?(t=e)[3]||t.push("inverted"):y.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(i=0;i<s;i+=1)if(r.isDateExact(a[i],e)){a[i]=null;break}if(o)for(i=0;i<s;i+=1)if(r.isDateOverlap(a[i],e)){a[i]=null;break}t&&a.push(t)}),a.filter(function(e){return null!=e})},n.prototype.nodes=function(c){function e(e){return y.node("div"," ",d.klass["nav"+(e?"Next":"Prev")]+(e&&h.year>=m.year&&h.month>=m.month||!e&&h.year<=p.year&&h.month<=p.month?" "+d.klass.navDisabled:""),"data-nav="+(e||-1)+" "+y.ariaAttr({role:"button",controls:l.$node[0].id+"_table"})+' title="'+(e?d.labelMonthNext:d.labelMonthPrev)+'"')}function t(){var t=d.showMonthsShort?d.monthsShort:d.monthsFull;return d.selectMonths?y.node("select",y.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(h.month==e?" selected":"")+(h.year==p.year&&e<p.month||h.year==m.year&&e>m.month?" disabled":"")]}}),d.klass.selectMonth,(c?"":"disabled")+" "+y.ariaAttr({controls:l.$node[0].id+"_table"})+' title="'+d.labelMonthSelect+'"'):y.node("div",t[h.month],d.klass.month)}function n(){var t=h.year,e=!0===d.selectYears?5:~~(d.selectYears/2);if(e){var n=p.year,i=m.year,o=t-e,r=t+e;if(o<n&&(r+=n-o,o=n),i<r){var a=o-n,s=r-i;o-=s<a?s:a,r=i}return y.node("select",y.group({min:o,max:r,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),d.klass.selectYear,(c?"":"disabled")+" "+y.ariaAttr({controls:l.$node[0].id+"_table"})+' title="'+d.labelYearSelect+'"')}return y.node("div",t,d.klass.year)}var i,o,l=this,d=l.settings,r=l.item,a=r.now,s=r.select,u=r.highlight,h=r.view,f=r.disable,p=r.min,m=r.max,g=(i=(d.showWeekdaysFull?d.weekdaysFull:d.weekdaysShort).slice(0),o=d.weekdaysFull.slice(0),d.firstDay&&(i.push(i.shift()),o.push(o.shift())),y.node("thead",y.node("tr",y.group({min:0,max:6,i:1,node:"th",item:function(e){return[i[e],d.klass.weekdays,'scope=col title="'+o[e]+'"']}}))));return y.node("div",(d.selectYears?n()+t():t()+n())+e()+e(1),d.klass.header)+y.node("table",g+y.node("tbody",y.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=d.firstDay&&0===l.create([h.year,h.month,1]).day?-7:0;return[y.group({min:7*e-h.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=l.create([h.year,h.month,e+(d.firstDay?1:0)]);var t,n=s&&s.pick==e.pick,i=u&&u.pick==e.pick,o=f&&l.disabled(e)||e.pick<p.pick||e.pick>m.pick,r=y.trigger(l.formats.toString,l,[d.format,e]);return[y.node("div",e.date,((t=[d.klass.day]).push(h.month==e.month?d.klass.infocus:d.klass.outfocus),a.pick==e.pick&&t.push(d.klass.now),n&&t.push(d.klass.selected),i&&t.push(d.klass.highlighted),o&&t.push(d.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+y.ariaAttr({role:"gridcell",label:r,selected:!(!n||l.$node.val()!==r)||null,activedescendant:!!i||null,disabled:!!o||null})),"",y.ariaAttr({role:"presentation"})]}})]}})),d.klass.table,'id="'+l.$node[0].id+'_table" '+y.ariaAttr({role:"grid",controls:l.$node[0].id,readonly:!0}))+y.node("div",y.node("button",d.today,d.klass.buttonToday,"type=button data-pick="+a.pick+(c&&!l.disabled(a)?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id}))+y.node("button",d.clear,d.klass.buttonClear,"type=button data-clear=1"+(c?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id}))+y.node("button",d.close,d.klass.buttonClose,"type=button data-close=true "+(c?"":" disabled")+" "+y.ariaAttr({controls:l.$node[0].id})),d.klass.footer)},n.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:(t=e.klasses().picker+"__")+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}},e.extend("pickadate",n)},e.exports=n(Ie,i)}),V="md.pickdate",G="pickdate",X=(z=i).fn[G],Z={cancel:"Cancel",closeOnCancel:!0,closeOnSelect:!1,container:"",containerHidden:"",disable:[],firstDay:0,format:"d/m/yyyy",formatSubmit:"",hiddenName:!1,hiddenPrefix:"",hiddenSuffix:"",klass:{buttonClear:"btn btn-outline-primary picker-button-clear",buttonClose:"btn btn-outline-primary picker-button-close",buttonToday:"btn btn-outline-primary picker-button-today",day:"picker-day",disabled:"picker-day-disabled",highlighted:"picker-day-highlighted",infocus:"picker-day-infocus",now:"picker-day-today",outfocus:"picker-day-outfocus",selected:"picker-day-selected",weekdays:"picker-weekday",box:"picker-box",footer:"picker-footer",frame:"picker-frame",header:"picker-header",holder:"picker-holder",table:"picker-table",wrap:"picker-wrap",active:"picker-input-active",input:"picker-input",month:"picker-month",navDisabled:"picker-nav-disabled",navNext:"material-icons picker-nav-next",navPrev:"material-icons picker-nav-prev",selectMonth:"picker-select-month",selectYear:"picker-select-year",year:"picker-year",focused:"picker-focused",opened:"picker-opened",picker:"picker"},labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",max:!1,min:!1,monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ok:"OK",onClose:function(){},onOpen:function(){},onRender:function(){},onSet:function(){},onStart:function(){},onStop:function(){},selectMonths:!1,selectYears:!1,today:"",weekdaysFull:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysShort:["S","M","T","W","T","F","S"]},ee={cancel:"string",closeOnCancel:"boolean",closeOnSelect:"boolean",container:"string",containerHidden:"string",disable:"array",firstDay:"number",format:"string",formatSubmit:"string",hiddenName:"boolean",hiddenPrefix:"string",hiddenSuffix:"string",klass:"object",labelMonthNext:"string",labelMonthPrev:"string",labelMonthSelect:"string",labelYearSelect:"string",max:"boolean || date",min:"boolean || date",monthsFull:"array",monthsShort:"array",ok:"string",onClose:"function",onOpen:"function",onRender:"function",onSet:"function",onStart:"function",onStop:"function",selectMonths:"boolean",selectYears:"boolean || number",today:"string",weekdaysFull:"array",weekdaysShort:"array"},te=function(){function i(e,t){this._config=this._getConfig(t),this._element=e}var e=i.prototype;return e.display=function(e,t,n){z(".picker-date-display",t).remove(),z(".picker-wrap",t).prepend('<div class="picker-date-display"><div class="picker-date-display-top"><span class="picker-year-display">'+e.get(n,"yyyy")+'</span></div><div class="picker-date-display-bottom"><span class="picker-weekday-display">'+e.get(n,"dddd")+'</span><span class="picker-day-display">'+e.get(n,"d")+'</span><span class="picker-month-display">'+e.get(n,"mmm")+"</span></div></div>")},e.show=function(){var e=this;z(this._element).pickadate({clear:this._config.cancel,close:this._config.ok,closeOnClear:this._config.closeOnCancel,closeOnSelect:this._config.closeOnSelect,container:this._config.container,containerHidden:this._config.containerHidden,disable:this._config.disable,firstDay:this._config.firstDay,format:this._config.format,formatSubmit:this._config.formatSubmit,klass:this._config.klass,hiddenName:this._config.hiddenName,hiddenPrefix:this._config.hiddenPrefix,hiddenSuffix:this._config.hiddenSuffix,labelMonthNext:this._config.labelMonthNext,labelMonthPrev:this._config.labelMonthPrev,labelMonthSelect:this._config.labelMonthSelect,labelYearSelect:this._config.labelYearSelect,max:this._config.max,min:this._config.min,monthsFull:this._config.monthsFull,monthsShort:this._config.monthsShort,onClose:this._config.onClose,onOpen:this._config.onOpen,onRender:this._config.onRender,onSet:this._config.onSet,onStart:this._config.onStart,onStop:this._config.onStop,selectMonths:this._config.selectMonths,selectYears:this._config.selectYears,today:this._config.today,weekdaysFull:this._config.weekdaysFull,weekdaysShort:this._config.weekdaysShort});var t=z(this._element).pickadate("picker"),n=t.$root;t.on({close:function(){z(document.activeElement).blur()},open:function(){z(".picker__date-display",n).length||e.display(t,n,"highlight")},set:function(){null!==t.get("select")&&e.display(t,n,"select")}})},e._getConfig=function(e){return e=O({},Z,e),M.typeCheckConfig(G,e,ee),e},i._jQueryInterface=function(n){return this.each(function(){var e=O({},Z,z(this).data(),"object"==typeof n&&n?n:{}),t=z(this).data(V);t||(t=new i(this,e),z(this).data(V,t)),t.show()})},i}(),z.fn[G]=te._jQueryInterface,z.fn[G].Constructor=te,void(z.fn[G].noConflict=function(){return z.fn[G]=X,te._jQueryInterface})),Ee=(re={IS_MOUSEDOWN:!(oe="focus")},ae="blur"+(ie=".md.selectioncontrolfocus"),se="focus"+ie,ce="mousedown"+ie,le="mouseup"+ie,de=".custom-control",ue=".custom-control-input",void(ne=i)(document).on(""+ae,ue,function(){ne(this).removeClass(oe)}).on(""+se,ue,function(){!1===re.IS_MOUSEDOWN&&ne(this).addClass(oe)}).on(""+ce,de,function(){re.IS_MOUSEDOWN=!0}).on(""+le,de,function(){setTimeout(function(){re.IS_MOUSEDOWN=!1},1)})),Me=(fe="md.tabswitch",pe="tabswitch",me=(he=i).fn[pe],ge="animate",ye="dropdown-item",ve="nav-tabs-indicator",be="nav-tabs-material",_e="show",ke='.nav-tabs [data-toggle="tab"]',Se=".dropdown",we=".nav-tabs",Ce=function(){function i(e){this._nav=e,this._navindicator=null}var e=i.prototype;return e.switch=function(e,t){var n=this,i=he(this._nav).offset().left,o=he(this._nav).scrollLeft(),r=he(this._nav).outerWidth();this._navindicator||this._createIndicator(i,o,r,t),he(e).hasClass(ye)&&(e=he(e).closest(Se));var a=he(e).offset().left,s=he(e).outerWidth();he(this._navindicator).addClass(_e),M.reflow(this._navindicator),he(this._nav).addClass(ge),he(this._navindicator).css({left:a+o-i,right:r-(a+o-i+s)});var c=M.getTransitionDurationFromElement(this._navindicator);he(this._navindicator).one(M.TRANSITION_END,function(){he(n._nav).removeClass(ge),he(n._navindicator).removeClass(_e)}).emulateTransitionEnd(c)},e._createIndicator=function(e,t,n,i){if(this._navindicator=document.createElement("div"),he(this._navindicator).addClass(ve).appendTo(this._nav),void 0!==i){he(i).hasClass(ye)&&(i=he(i).closest(Se));var o=he(i).offset().left,r=he(i).outerWidth();he(this._navindicator).css({left:o+t-e,right:n-(o+t-e+r)})}he(this._nav).addClass(be)},i._jQueryInterface=function(n){return this.each(function(){var e=he(this).closest(we)[0];if(e){var t=he(e).data(fe);t||(t=new i(e),he(e).data(fe,t)),t.switch(this,n)}})},i}(),he(document).on("show.bs.tab",ke,function(e){Ce._jQueryInterface.call(he(this),e.relatedTarget)}),he.fn[pe]=Ce._jQueryInterface,he.fn[pe].Constructor=Ce,he.fn[pe].noConflict=function(){return he.fn[pe]=me,Ce._jQueryInterface},Ce);e.Util=M,e.ExpansionPanel=w,e.FloatingLabel=C,e.NavDrawer=L,e.PickDate=xe,e.SelectionControlFocus=Ee,e.TabSwitch=Me,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFsLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsIm1hdGVyaWFsIiwialF1ZXJ5IiwidGhpcyIsIiQiLCJoYXNPd25Qcm9wZXJ0eSIsIiQkJDEiLCJFVkVOVF9LRVkiLCJDbGFzc05hbWUiLCJFdmVudCIsIlNlbGVjdG9yIiwiREFUQV9LRVkiLCJOQU1FIiwiTk9fQ09ORkxJQ1QiLCJGbG9hdGluZ0xhYmVsIiwiRXhwYW5zaW9uUGFuZWwiLCJkb2N1bWVudCIsIm9uIiwidGFyZ2V0IiwiY2xvc2VzdCIsInJlbW92ZUNsYXNzIiwicHJlZGVjZXNzb3IiLCJwcmV2IiwibGVuZ3RoIiwiYWRkQ2xhc3MiLCJmbiIsImVsZW1lbnQiLCJfZWxlbWVudCIsIl9wYXJlbnQiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJjaGFuZ2UiLCJ2YWwiLCJpcyIsImh0bWwiLCJyZXBsYWNlIiwiZm9jdXNpbiIsImZvY3Vzb3V0IiwiX2pRdWVyeUludGVyZmFjZSIsImV2ZW50IiwiZWFjaCIsIl9ldmVudCIsImRhdGEiLCJFcnJvciIsImNhbGwiLCJ0eXBlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiX2RlZmluZVByb3BlcnRpZXMiLCJwcm9wcyIsImkiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwic291cmNlIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JFYWNoIiwib2JqIiwidmFsdWUiLCJUUkFOU0lUSU9OX0VORCIsIlV0aWwiLCJnZXRTZWxlY3RvckZyb21FbGVtZW50Iiwic2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJmaW5kIiwiZXJyIiwiZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJjc3MiLCJzcGxpdCIsInBhcnNlRmxvYXQiLCJnZXRVSUQiLCJwcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInJlZmxvdyIsIm9mZnNldEhlaWdodCIsInN1cHBvcnRzVHJhbnNpdGlvbkVuZCIsIkJvb2xlYW4iLCJ0cmlnZ2VyVHJhbnNpdGlvbkVuZCIsInRyaWdnZXIiLCJ0eXBlQ2hlY2tDb25maWciLCJjb21wb25lbnROYW1lIiwiY29uZmlnIiwiY29uZmlnVHlwZXMiLCJwcm9wZXJ0eSIsImV4cGVjdGVkVHlwZXMiLCJ2YWx1ZVR5cGUiLCJ0b1N0cmluZyIsIm1hdGNoIiwidG9Mb3dlckNhc2UiLCJSZWdFeHAiLCJ0ZXN0IiwidG9VcHBlckNhc2UiLCJlbXVsYXRlVHJhbnNpdGlvbkVuZCIsInRyYW5zaXRpb25FbmRFbXVsYXRvciIsInNwZWNpYWwiLCJiaW5kVHlwZSIsImRlbGVnYXRlVHlwZSIsImhhbmRsZSIsImhhbmRsZU9iaiIsImhhbmRsZXIiLCJhcHBseSIsImR1cmF0aW9uIiwiX3RoaXMiLCJjYWxsZWQiLCJvbmUiLCJzZXRUaW1lb3V0IiwiRGVmYXVsdCIsIkRlZmF1bHRUeXBlIiwiTmF2RHJhd2VyIiwiYnJlYWtwb2ludCIsImtleWJvYXJkIiwic2hvdyIsIkNMSUNLX0RBVEFfQVBJIiwiQ0xJQ0tfRElTTUlTUyIsIkZPQ1VTSU4iLCJISURERU4iLCJISURFIiwiS0VZRE9XTl9ESVNNSVNTIiwiTU9VU0VET1dOX0RJU01JU1MiLCJNT1VTRVVQX0RJU01JU1MiLCJTSE9XIiwiU0hPV04iLCJfYmFja2Ryb3AiLCJfY29uZmlnIiwiX2dldENvbmZpZyIsIl9jb250ZW50IiwiX2lnbm9yZUJhY2tkcm9wQ2xpY2siLCJfaXNTaG93biIsIl90eXBlQnJlYWtwb2ludCIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImhpZGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9pc1RyYW5zaXRpb25pbmciLCJoaWRlRXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJfc2V0RXNjYXBlRXZlbnQiLCJvZmYiLCJib2R5IiwiX2hpZGVOYXZkcmF3ZXIiLCJfc2hvd0JhY2tkcm9wIiwicmVsYXRlZFRhcmdldCIsIl90aGlzMiIsInNob3dFdmVudCIsIl9zaG93RWxlbWVudCIsInRvZ2dsZSIsIl9lbmZvcmNlRm9jdXMiLCJfdGhpczMiLCJoYXMiLCJmb2N1cyIsInN0eWxlIiwiZGlzcGxheSIsInNldEF0dHJpYnV0ZSIsIl9yZW1vdmVCYWNrZHJvcCIsInJlbW92ZSIsIl90aGlzNCIsIndoaWNoIiwiX3RoaXM1IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZFRvIiwiY3VycmVudFRhcmdldCIsIl90aGlzNiIsInBhcmVudE5vZGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzaG93bkV2ZW50IiwiVHlwZUVycm9yIiwiZ2V0IiwiX3RoaXM3IiwidGFnTmFtZSIsIiR0YXJnZXQiLCJjcmVhdGVDb21tb25qc01vZHVsZSIsIlBpY2tEYXRlIiwiTGFzdEludGVyYWN0aW9uIiwiVGFiU3dpdGNoIiwicGlja2VyIiwiJHdpbmRvdyIsIndpbmRvdyIsIiRkb2N1bWVudCIsIiRodG1sIiwiZG9jdW1lbnRFbGVtZW50Iiwic3VwcG9ydHNUcmFuc2l0aW9ucyIsInRyYW5zaXRpb24iLCJQaWNrZXJDb25zdHJ1Y3RvciIsIkVMRU1FTlQiLCJDT01QT05FTlQiLCJPUFRJT05TIiwiUGlja2VySW5zdGFuY2UiLCJzdGFydCIsIklTX0RFRkFVTFRfVEhFTUUiLCJTVEFURSIsImlkIiwiYWJzIiwiRGF0ZSIsIlNFVFRJTkdTIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJDTEFTU0VTIiwia2xhc3NlcyIsImtsYXNzIiwiJEVMRU1FTlQiLCJQIiwiY29uc3RydWN0b3IiLCIkbm9kZSIsIm1ldGhvZHMiLCJvcGVuIiwiYXV0b2ZvY3VzIiwiZ2V0QWN0aXZlRWxlbWVudCIsInJlYWRPbmx5IiwiZWRpdGFibGUiLCJjb21wb25lbnQiLCIkcm9vdCIsImFyaWEiLCIkaG9sZGVyIiwiY3JlYXRlV3JhcHBlZENvbXBvbmVudCIsInByZXBhcmVFbGVtZW50SG9sZGVyIiwiZm9ybWF0U3VibWl0IiwibmFtZSIsImhpZGRlbk5hbWUiLCJoaWRkZW5QcmVmaXgiLCJoaWRkZW5TdWZmaXgiLCJfaGlkZGVuIiwicHJlcGFyZUVsZW1lbnRIaWRkZW4iLCJpbnB1dCIsImZvcm1hdCIsImhhbmRsZUtleWRvd25FdmVudCIsImhhc3BvcHVwIiwiZXhwYW5kZWQiLCJyZWFkb25seSIsIm93bnMiLCJwcmVwYXJlRWxlbWVudCIsImNvbnRhaW5lckhpZGRlbiIsImFwcGVuZCIsImFmdGVyIiwiY29udGFpbmVyIiwib25TdGFydCIsInJlbmRlciIsIm9uUmVuZGVyIiwic3RvcCIsIm9uU3RvcCIsIm9uT3BlbiIsImNsb3NlIiwib25DbG9zZSIsInNldCIsIm9uU2V0IiwidGhlbWUiLCJwcm9wIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzVXNpbmdEZWZhdWx0VGhlbWUiLCJlbnRpcmVDb21wb25lbnQiLCJib3giLCJub2RlcyIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRGF0YSIsImRvbnRHaXZlRm9jdXMiLCJhY3RpdmUiLCJvcGVuZWQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsImZyYW1lIiwia2V5Y29kZSIsImtleUNvZGUiLCJrZXljb2RlVG9Nb3ZlIiwiY29udGFpbnMiLCJjbGljayIsIl8iLCJnbyIsImhpZ2hsaWdodGVkIiwiaGFzQ2xhc3MiLCJkaXNhYmxlZCIsIml0ZW0iLCJoaWdobGlnaHQiLCJjbG9zZU9uU2VsZWN0IiwiZ2l2ZUZvY3VzIiwiaGFuZGxlRm9jdXNUb09wZW5FdmVudCIsImZvY3VzZWQiLCJjbGVhciIsIm9wdGlvbnMiLCJ0aGluZyIsInRoaW5nSXRlbSIsInRoaW5nVmFsdWUiLCJ0aGluZ0lzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRoaW5nT2JqZWN0IiwidW5kZWZpbmVkIiwibXV0ZWQiLCJmb3JtYXRzIiwibWV0aG9kIiwiaW50ZXJuYWwiLCJ0aGluZ05hbWUiLCJ0aGluZ01ldGhvZCIsInB1c2giLCJuYW1lcyIsIm5hbWVzQ291bnQiLCJfdHJpZ2dlciIsIm1ldGhvZExpc3QiLCJtYXAiLCJub2RlIiwid3JhcCIsImhvbGRlciIsImtleWRvd24iLCJmb2N1cy50b09wZW4iLCJibHVyIiwic3RvcFByb3BhZ2F0aW9uIiwibW91c2Vkb3duIGNsaWNrIiwidGFyZ2V0RGF0YSIsInRhcmdldERpc2FibGVkIiwibmF2RGlzYWJsZWQiLCJhY3RpdmVFbGVtZW50IiwiaHJlZiIsIm5hdiIsInBpY2siLCJjbG9zZU9uQ2xlYXIiLCJpc0tleWNvZGVEZWxldGUiLCJoZWlnaHQiLCIkb3V0ZXIiLCJ3aWR0aFdpdGhvdXRTY3JvbGwiLCJvZmZzZXRXaWR0aCIsIndpZHRoV2l0aFNjcm9sbCIsImF0dHJpYnV0ZSIsImFyaWFTZXQiLCJncm91cCIsImdyb3VwT2JqZWN0IiwibG9vcE9iamVjdFNjb3BlIiwibm9kZXNMaXN0IiwiY291bnRlciIsIm1pbiIsIm1heCIsIndyYXBwZXIiLCJpc0FycmF5Iiwiam9pbiIsImxlYWQiLCJudW1iZXIiLCJjYWxsYmFjayIsInNjb3BlIiwiYXJncyIsImRpZ2l0cyIsInN0cmluZyIsImlzRGF0ZSIsImluZGV4T2YiLCJpc0ludGVnZXIiLCJnZXREYXRlIiwiYXJpYUF0dHIiLCJhdHRyIiwiYXR0clZhbCIsIkNvbXBvbmVudCIsImFjdGlvbiIsImNvbXBvbmVudERhdGEiLCJwaWNrZXIkMSIsImZyZWV6ZSIsImRlZmF1bHQiLCJfX21vZHVsZUV4cG9ydHMiLCJyZXF1aXJlJCQwIiwiUGlja2VyIiwiRGF0ZVBpY2tlciIsInNldHRpbmdzIiwiaXNSVEwiLCJkaXJlY3Rpb24iLCJjb2xsZWN0aW9uRGlzYWJsZWQiLCJjYWxlbmRhciIsImVsZW1lbnRWYWx1ZSIsImVsZW1lbnREYXRhVmFsdWUiLCJ2YWx1ZVN0cmluZyIsImZvcm1hdFN0cmluZyIsInF1ZXVlIiwibm93Iiwic2VsZWN0IiwidmlldyIsImRpc2FibGUiLCJlbmFibGUiLCJzbGljZSIsInNoaWZ0IiwiZGVmYXVsdFZhbHVlIiwiNDAiLCIzOCIsIjM5IiwiMzciLCJ0aW1lQ2hhbmdlIiwiaGlnaGxpZ2h0ZWRPYmplY3QiLCJ0YXJnZXREYXRlIiwieWVhciIsIm1vbnRoIiwiZGF0ZSIsImludGVydmFsIiwic2VsZWN0TW9udGgiLCJzZWxlY3RZZWFyIiwiaW5jbHVkZVRvZGF5IiwiYnV0dG9uVG9kYXkiLCJnZXRXb3JkTGVuZ3RoRnJvbUNvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiZGF0ZU9iamVjdCIsIndvcmQiLCJtbSIsIm0iLCJnZXRGaXJzdFdvcmRMZW5ndGgiLCJjYWxlbmRhckl0ZW0iLCJwb3AiLCJjcmVhdGUiLCJpc0luZmluaXRlVmFsdWUiLCJJbmZpbml0eSIsIm5vcm1hbGl6ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXkiLCJnZXRUaW1lIiwiY3JlYXRlUmFuZ2UiLCJmcm9tIiwidG8iLCJjcmVhdGVEYXRlIiwid2l0aGluUmFuZ2UiLCJyYW5nZSIsImRhdGVVbml0Iiwib3ZlcmxhcFJhbmdlcyIsInR3byIsInJlbCIsInNldERhdGUiLCJuYXZpZ2F0ZSIsInRhcmdldERhdGVPYmplY3QiLCJ0YXJnZXRZZWFyIiwidGFyZ2V0TW9udGgiLCJpc1RhcmdldEFycmF5IiwiaXNUYXJnZXRPYmplY3QiLCJ2aWV3c2V0T2JqZWN0Iiwic2V0SG91cnMiLCJtZWFzdXJlIiwicGFyc2UiLCJ2aWV3c2V0IiwidmFsaWRhdGUiLCJoYXNFbmFibGVkQmVmb3JlVGFyZ2V0IiwiaGFzRW5hYmxlZEFmdGVyVGFyZ2V0IiwicmVhY2hlZE1pbiIsInJlYWNoZWRNYXgiLCJvcmlnaW5hbERhdGVPYmplY3QiLCJpc0ZsaXBwZWRCYXNlIiwibWluTGltaXRPYmplY3QiLCJtYXhMaW1pdE9iamVjdCIsImhhc0VuYWJsZWRXZWVrZGF5cyIsImRhdGVUaW1lIiwiZGF0ZVRvVmVyaWZ5IiwiaXNEaXNhYmxlZE1hdGNoIiwiZGF0ZVRvRGlzYWJsZSIsImZpcnN0RGF5IiwiaW52ZXJ0ZWQiLCJwYXJzaW5nT2JqZWN0IiwidG9BcnJheSIsImxhYmVsIiwiZm9ybWF0dGluZ0xhYmVsIiwiZm9ybWF0TGVuZ3RoIiwic3Vic3RyIiwieXl5eSIsInl5IiwiZGQiLCJkIiwiZGRkIiwid2Vla2RheXNTaG9ydCIsImRkZGQiLCJ3ZWVrZGF5c0Z1bGwiLCJtbW0iLCJtb250aHNTaG9ydCIsIm1tbW0iLCJtb250aHNGdWxsIiwiaXRlbU9iamVjdCIsImlzRGF0ZUV4YWN0IiwiaXNEYXRlT3ZlcmxhcCIsImZsaXBFbmFibGUiLCJkZWFjdGl2YXRlIiwiZGF0ZXNUb0Rpc2FibGUiLCJkaXNhYmxlZEl0ZW1zIiwidW5pdFRvRGlzYWJsZSIsIm1hdGNoRm91bmQiLCJpbmRleCIsImFjdGl2YXRlIiwiZGF0ZXNUb0VuYWJsZSIsImRpc2FibGVkSXRlbXNDb3VudCIsInVuaXRUb0VuYWJsZSIsImRpc2FibGVkVW5pdCIsImlzRXhhY3RSYW5nZSIsImlzT3BlbiIsImNyZWF0ZU1vbnRoTmF2IiwibmV4dCIsInJvbGUiLCJjb250cm9scyIsImxhYmVsTW9udGhOZXh0IiwibGFiZWxNb250aFByZXYiLCJjcmVhdGVNb250aExhYmVsIiwibW9udGhzQ29sbGVjdGlvbiIsInNob3dNb250aHNTaG9ydCIsInNlbGVjdE1vbnRocyIsImxvb3BlZE1vbnRoIiwibGFiZWxNb250aFNlbGVjdCIsImNyZWF0ZVllYXJMYWJlbCIsImZvY3VzZWRZZWFyIiwibnVtYmVyWWVhcnMiLCJzZWxlY3RZZWFycyIsIm1pblllYXIiLCJtYXhZZWFyIiwibG93ZXN0WWVhciIsImhpZ2hlc3RZZWFyIiwiYXZhaWxhYmxlWWVhcnMiLCJuZWVkZWRZZWFycyIsImxvb3BlZFllYXIiLCJsYWJlbFllYXJTZWxlY3QiLCJmdWxsQ29sbGVjdGlvbiIsIm5vd09iamVjdCIsInNlbGVjdGVkT2JqZWN0IiwiZGlzYWJsZWRDb2xsZWN0aW9uIiwidGFibGVIZWFkIiwic2hvd1dlZWtkYXlzRnVsbCIsIkRBWVNfSU5fV0VFSyIsIndlZWtkYXlzIiwiaGVhZGVyIiwiV0VFS1NfSU5fQ0FMRU5EQVIiLCJyb3dDb3VudGVyIiwic2hpZnREYXRlQnkiLCJpc1NlbGVjdGVkIiwiaXNIaWdobGlnaHRlZCIsImlzRGlzYWJsZWQiLCJmb3JtYXR0ZWREYXRlIiwiaW5mb2N1cyIsIm91dGZvY3VzIiwic2VsZWN0ZWQiLCJhY3RpdmVkZXNjZW5kYW50IiwidGFibGUiLCJ0b2RheSIsImJ1dHRvbkNsZWFyIiwiYnV0dG9uQ2xvc2UiLCJmb290ZXIiLCJuYXZQcmV2IiwibmF2TmV4dCIsImNhbmNlbCIsImNsb3NlT25DYW5jZWwiLCJvayIsImRhdGVwaWNrZXJBcGkiLCJkYXRlcGlja2VyUm9vdCIsImRhdGVwaWNrZXJWYWx1ZSIsInByZXBlbmQiLCJwaWNrYWRhdGUiLCJTZWxlY3Rpb25Db250cm9sRm9jdXMiLCJJU19NT1VTRURPV04iLCJfbmF2IiwiX25hdmluZGljYXRvciIsInN3aXRjaCIsIm5hdkxlZnQiLCJvZmZzZXQiLCJsZWZ0IiwibmF2U2Nyb2xsTGVmdCIsInNjcm9sbExlZnQiLCJuYXZXaWR0aCIsIm91dGVyV2lkdGgiLCJfY3JlYXRlSW5kaWNhdG9yIiwiZWxMZWZ0IiwiZWxXaWR0aCIsInJpZ2h0IiwicmVsYXRlZExlZnQiLCJyZWxhdGVkV2lkdGgiXSwibWFwcGluZ3MiOiJDQU1DLFNBQVVBLEVBQVFDLEdBQ0UsaUJBQVpDLFNBQTBDLG9CQUFYQyxPQUF5QkYsRUFBUUMsUUFBU0UsUUFBUSxXQUN0RSxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQU1ELE9BQU8sQ0FBQyxVQUFXLFVBQVdKLEdBQzFFQSxFQUFTRCxFQUFPTyxTQUFXLEdBQUlQLEVBQU9RLFFBSHpDLENBSUVDLEtBQU0sU0FBV1AsRUFB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TUFBTWdCLFFBQVFULElBQWMsR0FFM0MsR0FBSytULEVBQUwsQ0FJQSxJQUFJL1IsRUFBT3BDLEdBQUttVSxHQUFLL1IsS0FBSy9CLElBRXJCK0IsSUFDSEEsRUFBTyxJQUFJdUosRUFBVXdJLEdBQ3JCblUsR0FBS21VLEdBQUsvUixLQUFLL0IsR0FBVStCLElBRzNCQSxFQUFLdWdCLE9BQU85aUIsS0FBTTJKLE9BSWZtQyxFQWpGVCxHQW9GQTNMLEdBQUtVLFVBQVVDLEdBL0ZBLGNBK0ZzQlAsR0FBc0IsU0FBVTZCLEdBQ25FMEosR0FBVTNKLGlCQUFpQk0sS0FBS3RDLEdBQUtILE1BQU9vQyxFQUFNdUgsaUJBRXBEeEosR0FBS21CLEdBQUdiLElBQVFxTCxHQUFVM0osaUJBQzFCaEMsR0FBS21CLEdBQUdiLElBQU1rQyxZQUFjbUosR0FFNUIzTCxHQUFLbUIsR0FBR2IsSUFBTW1DLFdBQWEsV0FFekIsT0FEQXpDLEdBQUttQixHQUFHYixJQUFRQyxHQUNUb0wsR0FBVTNKLGtCQUdaMkosSUFHVHJNLEVBQVE0RSxLQUFPQSxFQUNmNUUsRUFBUW1CLGVBQWlCQSxFQUN6Qm5CLEVBQVFrQixjQUFnQkEsRUFDeEJsQixFQUFRaUksVUFBWUEsRUFDcEJqSSxFQUFRbU0sU0FBV0EsR0FDbkJuTSxFQUFRaWpCLHNCQUF3QkEsR0FDaENqakIsRUFBUXFNLFVBQVlBLEdBRXBCMUksT0FBT0MsZUFBZTVELEVBQVMsYUFBYyxDQUFFMEUsT0FBTyIsImZpbGUiOiJtYXRlcmlhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogRGFlbW9uaXRlIE1hdGVyaWFsIHY0LjEuMSAoaHR0cDovL2RhZW1vbml0ZS5naXRodWIuaW8vbWF0ZXJpYWwvKVxuICogQ29weXJpZ2h0IDIwMTEtMjAxOCBEYWVtb24gUHR5IEx0ZFxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vRGFlbW9uaXRlL21hdGVyaWFsL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdqcXVlcnknKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ2pxdWVyeSddLCBmYWN0b3J5KSA6XG4gIChmYWN0b3J5KChnbG9iYWwubWF0ZXJpYWwgPSB7fSksZ2xvYmFsLmpRdWVyeSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMsJCkgeyAndXNlIHN0cmljdCc7XG5cbiAgJCA9ICQgJiYgJC5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdCcpID8gJFsnZGVmYXVsdCddIDogJDtcblxuICAvKlxuICAgKiBFeHBhbnNpb24gcGFuZWwgcGx1Z2lucyBleHBhbmRzIGEgY29sbGFwc2VkIHBhbmVsIGluIGZ1bGwgdXBvbiBzZWxlY3RpbmdcbiAgICovXG5cbiAgdmFyIEV4cGFuc2lvblBhbmVsID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICAvLyBjb25zdGFudHMgPj4+XG4gICAgdmFyIERBVEFfS0VZID0gJ2JzLmNvbGxhcHNlJztcbiAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgU0hPVzogJ3Nob3cnLFxuICAgICAgU0hPV19QUkVERUNFU1NPUjogJ3Nob3ctcHJlZGVjZXNzb3InXG4gICAgfTtcbiAgICB2YXIgRXZlbnQgPSB7XG4gICAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSxcbiAgICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBQQU5FTDogJy5leHBhbnNpb24tcGFuZWwnLFxuICAgICAgUEFORUxfQk9EWTogJy5leHBhbnNpb24tcGFuZWwgLmNvbGxhcHNlJyAvLyA8PDwgY29uc3RhbnRzXG5cbiAgICB9O1xuICAgICQkJDEoZG9jdW1lbnQpLm9uKFwiXCIgKyBFdmVudC5ISURFLCBTZWxlY3Rvci5QQU5FTF9CT0RZLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCQkMSh0aGlzKS5jbG9zZXN0KFNlbGVjdG9yLlBBTkVMKTtcbiAgICAgIHRhcmdldC5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICB2YXIgcHJlZGVjZXNzb3IgPSB0YXJnZXQucHJldihTZWxlY3Rvci5QQU5FTCk7XG5cbiAgICAgIGlmIChwcmVkZWNlc3Nvci5sZW5ndGgpIHtcbiAgICAgICAgcHJlZGVjZXNzb3IucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1dfUFJFREVDRVNTT1IpO1xuICAgICAgfVxuICAgIH0pLm9uKFwiXCIgKyBFdmVudC5TSE9XLCBTZWxlY3Rvci5QQU5FTF9CT0RZLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCQkMSh0aGlzKS5jbG9zZXN0KFNlbGVjdG9yLlBBTkVMKTtcbiAgICAgIHRhcmdldC5hZGRDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICB2YXIgcHJlZGVjZXNzb3IgPSB0YXJnZXQucHJldihTZWxlY3Rvci5QQU5FTCk7XG5cbiAgICAgIGlmIChwcmVkZWNlc3Nvci5sZW5ndGgpIHtcbiAgICAgICAgcHJlZGVjZXNzb3IuYWRkQ2xhc3MoQ2xhc3NOYW1lLlNIT1dfUFJFREVDRVNTT1IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KCQpO1xuXG4gIC8qXG4gICAqIEZsb2F0aW5nIGxhYmVsIHBsdWdpbiBtb3ZlcyBpbmxpbmUgbGFiZWwgdG8gZmxvYXQgYWJvdmUgdGhlIGZpZWxkXG4gICAqIHdoZW4gYSB1c2VyIGVuZ2FnZXMgd2l0aCB0aGUgYXNzb3NjaWF0ZWQgdGV4dCBpbnB1dCBmaWVsZFxuICAgKi9cblxuICB2YXIgRmxvYXRpbmdMYWJlbCA9IGZ1bmN0aW9uICgkJCQxKSB7XG4gICAgLy8gY29uc3RhbnRzID4+PlxuICAgIHZhciBEQVRBX0tFWSA9ICdtZC5mbG9hdGluZ2xhYmVsJztcbiAgICB2YXIgRVZFTlRfS0VZID0gXCIuXCIgKyBEQVRBX0tFWTtcbiAgICB2YXIgTkFNRSA9ICdmbG9hdGluZ2xhYmVsJztcbiAgICB2YXIgTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICBJU19GT0NVU0VEOiAnaXMtZm9jdXNlZCcsXG4gICAgICBIQVNfVkFMVUU6ICdoYXMtdmFsdWUnXG4gICAgfTtcbiAgICB2YXIgRXZlbnQgPSB7XG4gICAgICBDSEFOR0U6IFwiY2hhbmdlXCIgKyBFVkVOVF9LRVksXG4gICAgICBGT0NVU0lOOiBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSxcbiAgICAgIEZPQ1VTT1VUOiBcImZvY3Vzb3V0XCIgKyBFVkVOVF9LRVlcbiAgICB9O1xuICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgIERBVEFfUEFSRU5UOiAnLmZsb2F0aW5nLWxhYmVsJyxcbiAgICAgIERBVEFfVE9HR0xFOiAnLmZsb2F0aW5nLWxhYmVsIC5jdXN0b20tc2VsZWN0LCAuZmxvYXRpbmctbGFiZWwgLmZvcm0tY29udHJvbCcgLy8gPDw8IGNvbnN0YW50c1xuXG4gICAgfTtcblxuICAgIHZhciBGbG9hdGluZ0xhYmVsID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gRmxvYXRpbmdMYWJlbChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSAkJCQxKGVsZW1lbnQpLmNsb3Nlc3QoU2VsZWN0b3IuREFUQV9QQVJFTlQpWzBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gRmxvYXRpbmdMYWJlbC5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5jaGFuZ2UgPSBmdW5jdGlvbiBjaGFuZ2UoKSB7XG4gICAgICAgIGlmICgkJCQxKHRoaXMuX2VsZW1lbnQpLnZhbCgpIHx8ICQkJDEodGhpcy5fZWxlbWVudCkuaXMoJ3NlbGVjdCcpICYmICQkJDEoJ29wdGlvbjpmaXJzdC1jaGlsZCcsICQkJDEodGhpcy5fZWxlbWVudCkpLmh0bWwoKS5yZXBsYWNlKCcgJywgJycpICE9PSAnJykge1xuICAgICAgICAgICQkJDEodGhpcy5fcGFyZW50KS5hZGRDbGFzcyhDbGFzc05hbWUuSEFTX1ZBTFVFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkJCQxKHRoaXMuX3BhcmVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLkhBU19WQUxVRSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5mb2N1c2luID0gZnVuY3Rpb24gZm9jdXNpbigpIHtcbiAgICAgICAgJCQkMSh0aGlzLl9wYXJlbnQpLmFkZENsYXNzKENsYXNzTmFtZS5JU19GT0NVU0VEKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5mb2N1c291dCA9IGZ1bmN0aW9uIGZvY3Vzb3V0KCkge1xuICAgICAgICAkJCQxKHRoaXMuX3BhcmVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLklTX0ZPQ1VTRUQpO1xuICAgICAgfTtcblxuICAgICAgRmxvYXRpbmdMYWJlbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX2V2ZW50ID0gZXZlbnQgPyBldmVudCA6ICdjaGFuZ2UnO1xuXG4gICAgICAgICAgdmFyIGRhdGEgPSAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0aW5nTGFiZWwodGhpcyk7XG4gICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgX2V2ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW19ldmVudF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBfZXZlbnQgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGFbX2V2ZW50XSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gRmxvYXRpbmdMYWJlbDtcbiAgICB9KCk7XG5cbiAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DSEFOR0UgKyBcIiBcIiArIEV2ZW50LkZPQ1VTSU4gKyBcIiBcIiArIEV2ZW50LkZPQ1VTT1VULCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBGbG9hdGluZ0xhYmVsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRoaXMpLCBldmVudC50eXBlKTtcbiAgICB9KTtcbiAgICAkJCQxLmZuW05BTUVdID0gRmxvYXRpbmdMYWJlbC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBGbG9hdGluZ0xhYmVsO1xuXG4gICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJCQkMS5mbltOQU1FXSA9IE5PX0NPTkZMSUNUO1xuICAgICAgcmV0dXJuIEZsb2F0aW5nTGFiZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEZsb2F0aW5nTGFiZWw7XG4gIH0oJCk7XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLypcbiAgICogR2xvYmFsIHV0aWwganNcbiAgICogQmFzZWQgb24gQm9vdHN0cmFwJ3MgKHY0LjEuWCkgYHV0aWwuanNgXG4gICAqL1xuXG4gIHZhciBVdGlsID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICB2YXIgTUFYX1VJRCA9IDEwMDAwMDA7XG4gICAgdmFyIE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDtcbiAgICB2YXIgVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7XG5cbiAgICBmdW5jdGlvbiBnZXRTcGVjaWFsVHJhbnNpdGlvbkVuZEV2ZW50KCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmluZFR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgICBkZWxlZ2F0ZVR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShldmVudCkge1xuICAgICAgICAgIGlmICgkJCQxKGV2ZW50LnRhcmdldCkuaXModGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgICAkJCQxLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbkVuZEVtdWxhdG9yO1xuICAgICAgJCQkMS5ldmVudC5zcGVjaWFsW1V0aWwuVFJBTlNJVElPTl9FTkRdID0gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvVHlwZShvYmopIHtcbiAgICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaikubWF0Y2goL1xccyhbYS16XSspL2kpWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZEVtdWxhdG9yKGR1cmF0aW9uKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gICAgICAkJCQxKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgIFV0aWwudHJpZ2dlclRyYW5zaXRpb25FbmQoX3RoaXMpO1xuICAgICAgICB9XG4gICAgICB9LCBkdXJhdGlvbik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgVXRpbCA9IHtcbiAgICAgIFRSQU5TSVRJT05fRU5EOiAnbWRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcblxuICAgICAgICBpZiAoIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSAnIycpIHtcbiAgICAgICAgICBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykgfHwgJyc7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciAkc2VsZWN0b3IgPSAkJCQxKGRvY3VtZW50KS5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgICByZXR1cm4gJHNlbGVjdG9yLmxlbmd0aCA+IDAgPyBzZWxlY3RvciA6IG51bGw7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gJCQkMShlbGVtZW50KS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKTtcblxuICAgICAgICBpZiAoIXRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KCcsJylbMF07XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgICAgIH0sXG4gICAgICBnZXRVSUQ6IGZ1bmN0aW9uIGdldFVJRChwcmVmaXgpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgICAgcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiBNQVhfVUlEKTtcbiAgICAgICAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XG5cbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICAgIH0sXG4gICAgICBpc0VsZW1lbnQ6IGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICAgICAgcmV0dXJuIChvYmpbMF0gfHwgb2JqKS5ub2RlVHlwZTtcbiAgICAgIH0sXG4gICAgICByZWZsb3c6IGZ1bmN0aW9uIHJlZmxvdyhlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIH0sXG4gICAgICBzdXBwb3J0c1RyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oVFJBTlNJVElPTl9FTkQpO1xuICAgICAgfSxcbiAgICAgIHRyaWdnZXJUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmlnZ2VyVHJhbnNpdGlvbkVuZChlbGVtZW50KSB7XG4gICAgICAgICQkJDEoZWxlbWVudCkudHJpZ2dlcihUUkFOU0lUSU9OX0VORCk7XG4gICAgICB9LFxuICAgICAgdHlwZUNoZWNrQ29uZmlnOiBmdW5jdGlvbiB0eXBlQ2hlY2tDb25maWcoY29tcG9uZW50TmFtZSwgY29uZmlnLCBjb25maWdUeXBlcykge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjb25maWdUeXBlcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29uZmlnVHlwZXMsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHZhbHVlICYmIFV0aWwuaXNFbGVtZW50KHZhbHVlKSA/ICdlbGVtZW50JyA6IHRvVHlwZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmICghbmV3IFJlZ0V4cChleHBlY3RlZFR5cGVzKS50ZXN0KHZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKSArIFwiOiBcIiArIChcIk9wdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBwcm92aWRlZCB0eXBlIFxcXCJcIiArIHZhbHVlVHlwZSArIFwiXFxcIiBcIikgKyAoXCJidXQgZXhwZWN0ZWQgdHlwZSBcXFwiXCIgKyBleHBlY3RlZFR5cGVzICsgXCJcXFwiLlwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBzZXRUcmFuc2l0aW9uRW5kU3VwcG9ydCgpO1xuICAgIHJldHVybiBVdGlsO1xuICB9KCQpO1xuXG4gIC8qXG4gICAqIE5hdmlnYXRpb24gZHJhd2VyIHBsZ3VpblxuICAgKiBCYXNlZCBvbiBCb290c3RyYXAncyAodjQuMS5YKSBgbW9kYWwuanNgXG4gICAqL1xuXG4gIHZhciBOYXZEcmF3ZXIgPSBmdW5jdGlvbiAoJCQkMSkge1xuICAgIC8vIGNvbnN0YW50cyA+Pj5cbiAgICB2YXIgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG4gICAgdmFyIERBVEFfS0VZID0gJ21kLm5hdmRyYXdlcic7XG4gICAgdmFyIEVTQ0FQRV9LRVlDT0RFID0gMjc7XG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgdmFyIE5BTUUgPSAnbmF2ZHJhd2VyJztcbiAgICB2YXIgTk9fQ09ORkxJQ1QgPSAkJCQxLmZuW05BTUVdO1xuICAgIHZhciBDbGFzc05hbWUgPSB7XG4gICAgICBCQUNLRFJPUDogJ25hdmRyYXdlci1iYWNrZHJvcCcsXG4gICAgICBPUEVOOiAnbmF2ZHJhd2VyLW9wZW4nLFxuICAgICAgU0hPVzogJ3Nob3cnXG4gICAgfTtcbiAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgIGJyZWFrcG9pbnQ6ICcnLFxuICAgICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgICBzaG93OiB0cnVlLFxuICAgICAgdHlwZTogJ2RlZmF1bHQnXG4gICAgfTtcbiAgICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgICBrZXlib2FyZDogJ2Jvb2xlYW4nLFxuICAgICAgc2hvdzogJ2Jvb2xlYW4nLFxuICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9O1xuICAgIHZhciBFdmVudCA9IHtcbiAgICAgIENMSUNLX0RBVEFfQVBJOiBcImNsaWNrXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVksXG4gICAgICBDTElDS19ESVNNSVNTOiBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWSxcbiAgICAgIEZPQ1VTSU46IFwiZm9jdXNpblwiICsgRVZFTlRfS0VZLFxuICAgICAgSElEREVOOiBcImhpZGRlblwiICsgRVZFTlRfS0VZLFxuICAgICAgSElERTogXCJoaWRlXCIgKyBFVkVOVF9LRVksXG4gICAgICBLRVlET1dOX0RJU01JU1M6IFwia2V5ZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVksXG4gICAgICBNT1VTRURPV05fRElTTUlTUzogXCJtb3VzZWRvd24uZGlzbWlzc1wiICsgRVZFTlRfS0VZLFxuICAgICAgTU9VU0VVUF9ESVNNSVNTOiBcIm1vdXNldXAuZGlzbWlzc1wiICsgRVZFTlRfS0VZLFxuICAgICAgU0hPVzogXCJzaG93XCIgKyBFVkVOVF9LRVksXG4gICAgICBTSE9XTjogXCJzaG93blwiICsgRVZFTlRfS0VZXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBDT05URU5UOiAnLm5hdmRyYXdlci1jb250ZW50JyxcbiAgICAgIERBVEFfRElTTUlTUzogJ1tkYXRhLWRpc21pc3M9XCJuYXZkcmF3ZXJcIl0nLFxuICAgICAgREFUQV9UT0dHTEU6ICdbZGF0YS10b2dnbGU9XCJuYXZkcmF3ZXJcIl0nIC8vIDw8PCBjb25zdGFudHNcblxuICAgIH07XG5cbiAgICB2YXIgTmF2RHJhd2VyID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gTmF2RHJhd2VyKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gJCQkMShlbGVtZW50KS5maW5kKFNlbGVjdG9yLkNPTlRFTlQpWzBdO1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3R5cGVCcmVha3BvaW50ID0gdGhpcy5fY29uZmlnLmJyZWFrcG9pbnQgPT09ICcnID8gJycgOiBcIi1cIiArIHRoaXMuX2NvbmZpZy5icmVha3BvaW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgX3Byb3RvID0gTmF2RHJhd2VyLnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaGlkZUV2ZW50ID0gJCQkMS5FdmVudChFdmVudC5ISURFKTtcbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1Nob3duIHx8IGhpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuXG4gICAgICAgICQkJDEoZG9jdW1lbnQpLm9mZihFdmVudC5GT0NVU0lOKTtcbiAgICAgICAgJCQkMShkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuT1BFTiArIFwiLVwiICsgdGhpcy5fY29uZmlnLnR5cGUgKyB0aGlzLl90eXBlQnJlYWtwb2ludCk7XG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ2xhc3NOYW1lLlNIT1cpO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5DTElDS19ESVNNSVNTKTtcbiAgICAgICAgJCQkMSh0aGlzLl9jb250ZW50KS5vZmYoRXZlbnQuTU9VU0VET1dOX0RJU01JU1MpO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgJCQkMSh0aGlzLl9jb250ZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl9oaWRlTmF2ZHJhd2VyKGV2ZW50KTtcbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcblxuICAgICAgICB0aGlzLl9zaG93QmFja2Ryb3AoKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5zaG93ID0gZnVuY3Rpb24gc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25pbmcgfHwgdGhpcy5faXNTaG93bikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgIHZhciBzaG93RXZlbnQgPSAkJCQxLkV2ZW50KEV2ZW50LlNIT1csIHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICAgIH0pO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgICBpZiAodGhpcy5faXNTaG93biB8fCBzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc1Nob3duID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9zZXRFc2NhcGVFdmVudCgpO1xuXG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoTkFNRSArIFwiLVwiICsgdGhpcy5fY29uZmlnLnR5cGUgKyB0aGlzLl90eXBlQnJlYWtwb2ludCk7XG4gICAgICAgICQkJDEodGhpcy5fZWxlbWVudCkub24oRXZlbnQuQ0xJQ0tfRElTTUlTUywgU2VsZWN0b3IuREFUQV9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhpZGUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJCQkMSh0aGlzLl9jb250ZW50KS5vbihFdmVudC5NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICQkJDEoX3RoaXMyLl9lbGVtZW50KS5vbmUoRXZlbnQuTU9VU0VVUF9ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICgkJCQxKGV2ZW50LnRhcmdldCkuaXMoX3RoaXMyLl9lbGVtZW50KSkge1xuICAgICAgICAgICAgICBfdGhpczIuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zaG93QmFja2Ryb3AoKTtcblxuICAgICAgICB0aGlzLl9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiBfZW5mb3JjZUZvY3VzKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAkJCQxKGRvY3VtZW50KS5vZmYoRXZlbnQuRk9DVVNJTikub24oRXZlbnQuRk9DVVNJTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBldmVudC50YXJnZXQgJiYgX3RoaXMzLl9lbGVtZW50ICE9PSBldmVudC50YXJnZXQgJiYgJCQkMShfdGhpczMuX2VsZW1lbnQpLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgX3RoaXMzLl9lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgY29uZmlnKTtcbiAgICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSwgY29uZmlnLCBEZWZhdWx0VHlwZSk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX2hpZGVOYXZkcmF3ZXIgPSBmdW5jdGlvbiBfaGlkZU5hdmRyYXdlcigpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoRXZlbnQuSElEREVOKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fcmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiBfcmVtb3ZlQmFja2Ryb3AoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpO1xuICAgICAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU2hvd24gJiYgdGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5LRVlET1dOX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgIF90aGlzNC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24pIHtcbiAgICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLm9mZihFdmVudC5LRVlET1dOX0RJU01JU1MpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX3Nob3dCYWNrZHJvcCA9IGZ1bmN0aW9uIF9zaG93QmFja2Ryb3AoKSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1Nob3duKSB7XG4gICAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAkJCQxKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDbGFzc05hbWUuQkFDS0RST1ApLmFkZENsYXNzKENsYXNzTmFtZS5CQUNLRFJPUCArIFwiLVwiICsgdGhpcy5fY29uZmlnLnR5cGUgKyB0aGlzLl90eXBlQnJlYWtwb2ludCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5vbihFdmVudC5DTElDS19ESVNNSVNTLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpczUuX2lnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICAgICAgX3RoaXM1Ll9pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fYmFja2Ryb3ApO1xuICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93biAmJiB0aGlzLl9iYWNrZHJvcCkge1xuICAgICAgICAgICQkJDEodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICAgIHRoaXMuX3JlbW92ZUJhY2tkcm9wKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fc2hvd0VsZW1lbnQgPSBmdW5jdGlvbiBfc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSB8fCB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICAgICQkJDEoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ2xhc3NOYW1lLk9QRU4gKyBcIi1cIiArIHRoaXMuX2NvbmZpZy50eXBlICsgdGhpcy5fdHlwZUJyZWFrcG9pbnQpO1xuICAgICAgICAkJCQxKHRoaXMuX2VsZW1lbnQpLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcblxuICAgICAgICB0aGlzLl9lbmZvcmNlRm9jdXMoKTtcblxuICAgICAgICB2YXIgc2hvd25FdmVudCA9ICQkJDEuRXZlbnQoRXZlbnQuU0hPV04sIHtcbiAgICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiB0cmFuc2l0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgICAgX3RoaXM2Ll9lbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgICBfdGhpczYuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgICAgICQkJDEoX3RoaXM2Ll9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2NvbnRlbnQpO1xuICAgICAgICAkJCQxKHRoaXMuX2NvbnRlbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCB0cmFuc2l0aW9uQ29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9O1xuXG4gICAgICBOYXZEcmF3ZXIuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnLCByZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfY29uZmlnID0gX29iamVjdFNwcmVhZCh7fSwgRGVmYXVsdCwgJCQkMSh0aGlzKS5kYXRhKCksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgICAgIHZhciBkYXRhID0gJCQkMSh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBOYXZEcmF3ZXIodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhW2NvbmZpZ10ocmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChfY29uZmlnLnNob3cpIHtcbiAgICAgICAgICAgIGRhdGEuc2hvdyhyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX2NyZWF0ZUNsYXNzKE5hdkRyYXdlciwgbnVsbCwgW3tcbiAgICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIERlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgcmV0dXJuIE5hdkRyYXdlcjtcbiAgICB9KCk7XG5cbiAgICAkJCQxKGRvY3VtZW50KS5vbihFdmVudC5DTElDS19EQVRBX0FQSSwgU2VsZWN0b3IuREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcbiAgICAgIHZhciB0YXJnZXQ7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICB0YXJnZXQgPSAkJCQxKHNlbGVjdG9yKVswXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbmZpZyA9ICQkJDEodGFyZ2V0KS5kYXRhKERBVEFfS0VZKSA/ICd0b2dnbGUnIDogX29iamVjdFNwcmVhZCh7fSwgJCQkMSh0YXJnZXQpLmRhdGEoKSwgJCQkMSh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQScgfHwgdGhpcy50YWdOYW1lID09PSAnQVJFQScpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyICR0YXJnZXQgPSAkJCQxKHRhcmdldCkub25lKEV2ZW50LlNIT1csIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICR0YXJnZXQub25lKEV2ZW50LkhJRERFTiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICgkJCQxKF90aGlzNykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgIF90aGlzNy5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgTmF2RHJhd2VyLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkJCQxKHRhcmdldCksIGNvbmZpZywgdGhpcyk7XG4gICAgfSk7XG4gICAgJCQkMS5mbltOQU1FXSA9IE5hdkRyYXdlci5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICQkJDEuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBOYXZEcmF3ZXI7XG5cbiAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkJCQxLmZuW05BTUVdID0gTk9fQ09ORkxJQ1Q7XG4gICAgICByZXR1cm4gTmF2RHJhd2VyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgfTtcblxuICAgIHJldHVybiBOYXZEcmF3ZXI7XG4gIH0oJCk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuICBcdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbiAgfVxuXG4gIHZhciBwaWNrZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gIC8qIVxuICAgKiBwaWNrYWRhdGUuanMgdjMuNS42LCAyMDE1LzA0LzIwXG4gICAqIEJ5IEFtc3VsLCBodHRwOi8vYW1zdWwuY2FcbiAgICogSG9zdGVkIG9uIGh0dHA6Ly9hbXN1bC5naXRodWIuaW8vcGlja2FkYXRlLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICAgKi9cblxuICAoZnVuY3Rpb24gKCBmYWN0b3J5ICkge1xuXG4gICAgICAvLyBBTUQuXG4gICAgICBpZiAoIHR5cGVvZiB1bmRlZmluZWQgPT0gJ2Z1bmN0aW9uJyAmJiB1bmRlZmluZWQuYW1kIClcbiAgICAgICAgICB1bmRlZmluZWQoICdwaWNrZXInLCBbJ2pxdWVyeSddLCBmYWN0b3J5ICk7XG5cbiAgICAgIC8vIE5vZGUuanMvYnJvd3NlcmlmeS5cbiAgICAgIGVsc2UgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCAkICk7XG5cbiAgfShmdW5jdGlvbiggJCQkMSApIHtcblxuICB2YXIgJHdpbmRvdyA9ICQkJDEoIHdpbmRvdyApO1xuICB2YXIgJGRvY3VtZW50ID0gJCQkMSggZG9jdW1lbnQgKTtcbiAgdmFyICRodG1sID0gJCQkMSggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICk7XG4gIHZhciBzdXBwb3J0c1RyYW5zaXRpb25zID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gIT0gbnVsbDtcblxuXG4gIC8qKlxuICAgKiBUaGUgcGlja2VyIGNvbnN0cnVjdG9yIHRoYXQgY3JlYXRlcyBhIGJsYW5rIHBpY2tlci5cbiAgICovXG4gIGZ1bmN0aW9uIFBpY2tlckNvbnN0cnVjdG9yKCBFTEVNRU5ULCBOQU1FLCBDT01QT05FTlQsIE9QVElPTlMgKSB7XG5cbiAgICAgIC8vIElmIHRoZXJl4oCZcyBubyBlbGVtZW50LCByZXR1cm4gdGhlIHBpY2tlciBjb25zdHJ1Y3Rvci5cbiAgICAgIGlmICggIUVMRU1FTlQgKSByZXR1cm4gUGlja2VyQ29uc3RydWN0b3JcblxuXG4gICAgICB2YXJcbiAgICAgICAgICBJU19ERUZBVUxUX1RIRU1FID0gZmFsc2UsXG5cblxuICAgICAgICAgIC8vIFRoZSBzdGF0ZSBvZiB0aGUgcGlja2VyLlxuICAgICAgICAgIFNUQVRFID0ge1xuICAgICAgICAgICAgICBpZDogRUxFTUVOVC5pZCB8fCAnUCcgKyBNYXRoLmFicyggfn4oTWF0aC5yYW5kb20oKSAqIG5ldyBEYXRlKCkpIClcbiAgICAgICAgICB9LFxuXG5cbiAgICAgICAgICAvLyBNZXJnZSB0aGUgZGVmYXVsdHMgYW5kIG9wdGlvbnMgcGFzc2VkLlxuICAgICAgICAgIFNFVFRJTkdTID0gQ09NUE9ORU5UID8gJCQkMS5leHRlbmQoIHRydWUsIHt9LCBDT01QT05FTlQuZGVmYXVsdHMsIE9QVElPTlMgKSA6IE9QVElPTlMgfHwge30sXG5cblxuICAgICAgICAgIC8vIE1lcmdlIHRoZSBkZWZhdWx0IGNsYXNzZXMgd2l0aCB0aGUgc2V0dGluZ3MgY2xhc3Nlcy5cbiAgICAgICAgICBDTEFTU0VTID0gJCQkMS5leHRlbmQoIHt9LCBQaWNrZXJDb25zdHJ1Y3Rvci5rbGFzc2VzKCksIFNFVFRJTkdTLmtsYXNzICksXG5cblxuICAgICAgICAgIC8vIFRoZSBlbGVtZW50IG5vZGUgd3JhcHBlciBpbnRvIGEgalF1ZXJ5IG9iamVjdC5cbiAgICAgICAgICAkRUxFTUVOVCA9ICQkJDEoIEVMRU1FTlQgKSxcblxuXG4gICAgICAgICAgLy8gUHNldWRvIHBpY2tlciBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICBQaWNrZXJJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydCgpXG4gICAgICAgICAgfSxcblxuXG4gICAgICAgICAgLy8gVGhlIHBpY2tlciBwcm90b3R5cGUuXG4gICAgICAgICAgUCA9IFBpY2tlckluc3RhbmNlLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAgICAgICBjb25zdHJ1Y3RvcjogUGlja2VySW5zdGFuY2UsXG5cbiAgICAgICAgICAgICAgJG5vZGU6ICRFTEVNRU5ULFxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEluaXRpYWxpemUgZXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYWxyZWFkeSBzdGFydGVkLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgaWYgKCBTVEFURSAmJiBTVEFURS5zdGFydCApIHJldHVybiBQXG5cblxuICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwaWNrZXIgc3RhdGVzLlxuICAgICAgICAgICAgICAgICAgU1RBVEUubWV0aG9kcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgU1RBVEUuc3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgU1RBVEUub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgU1RBVEUudHlwZSA9IEVMRU1FTlQudHlwZTtcblxuXG4gICAgICAgICAgICAgICAgICAvLyBDb25maXJtIGZvY3VzIHN0YXRlLCBjb252ZXJ0IGludG8gdGV4dCBpbnB1dCB0byByZW1vdmUgVUEgc3R5bGluZ3MsXG4gICAgICAgICAgICAgICAgICAvLyBhbmQgc2V0IGFzIHJlYWRvbmx5IHRvIHByZXZlbnQga2V5Ym9hcmQgcG9wdXAuXG4gICAgICAgICAgICAgICAgICBFTEVNRU5ULmF1dG9mb2N1cyA9IEVMRU1FTlQgPT0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgRUxFTUVOVC5yZWFkT25seSA9ICFTRVRUSU5HUy5lZGl0YWJsZTtcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQuaWQgPSBFTEVNRU5ULmlkIHx8IFNUQVRFLmlkO1xuICAgICAgICAgICAgICAgICAgaWYgKCBFTEVNRU5ULnR5cGUgIT0gJ3RleHQnICkge1xuICAgICAgICAgICAgICAgICAgICAgIEVMRU1FTlQudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGlja2VyIGNvbXBvbmVudCB3aXRoIHRoZSBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICAgIFAuY29tcG9uZW50ID0gbmV3IENPTVBPTkVOVChQLCBTRVRUSU5HUyk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwaWNrZXIgcm9vdCBhbmQgdGhlbiBwcmVwYXJlIGl0LlxuICAgICAgICAgICAgICAgICAgUC4kcm9vdCA9ICQkJDEoICc8ZGl2IGNsYXNzPVwiJyArIENMQVNTRVMucGlja2VyICsgJ1wiIGlkPVwiJyArIEVMRU1FTlQuaWQgKyAnX3Jvb3RcIiAvPicgKTtcbiAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50Um9vdCgpO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGlja2VyIGhvbGRlciBhbmQgdGhlbiBwcmVwYXJlIGl0LlxuICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyID0gJCQkMSggY3JlYXRlV3JhcHBlZENvbXBvbmVudCgpICkuYXBwZW5kVG8oIFAuJHJvb3QgKTtcbiAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50SG9sZGVyKCk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmXigJlzIGEgZm9ybWF0IGZvciB0aGUgaGlkZGVuIGlucHV0IGVsZW1lbnQsIGNyZWF0ZSB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuZm9ybWF0U3VibWl0ICkge1xuICAgICAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50SGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgLy8gUHJlcGFyZSB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgIHByZXBhcmVFbGVtZW50KCk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBoaWRkZW4gaW5wdXQgYXMgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuY29udGFpbmVySGlkZGVuICkgJCQkMSggU0VUVElOR1MuY29udGFpbmVySGlkZGVuICkuYXBwZW5kKCBQLl9oaWRkZW4gKTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgJEVMRU1FTlQuYWZ0ZXIoIFAuX2hpZGRlbiApO1xuXG5cbiAgICAgICAgICAgICAgICAgIC8vIEluc2VydCB0aGUgcm9vdCBhcyBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzLlxuICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jb250YWluZXIgKSAkJCQxKCBTRVRUSU5HUy5jb250YWluZXIgKS5hcHBlbmQoIFAuJHJvb3QgKTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgJEVMRU1FTlQuYWZ0ZXIoIFAuJHJvb3QgKTtcblxuXG4gICAgICAgICAgICAgICAgICAvLyBCaW5kIHRoZSBkZWZhdWx0IGNvbXBvbmVudCBhbmQgc2V0dGluZ3MgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgUC5vbih7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFAuY29tcG9uZW50Lm9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBQLmNvbXBvbmVudC5vblJlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICBzdG9wOiBQLmNvbXBvbmVudC5vblN0b3AsXG4gICAgICAgICAgICAgICAgICAgICAgb3BlbjogUC5jb21wb25lbnQub25PcGVuLFxuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlOiBQLmNvbXBvbmVudC5vbkNsb3NlLFxuICAgICAgICAgICAgICAgICAgICAgIHNldDogUC5jb21wb25lbnQub25TZXRcbiAgICAgICAgICAgICAgICAgIH0pLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydDogU0VUVElOR1Mub25TdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IFNFVFRJTkdTLm9uUmVuZGVyLFxuICAgICAgICAgICAgICAgICAgICAgIHN0b3A6IFNFVFRJTkdTLm9uU3RvcCxcbiAgICAgICAgICAgICAgICAgICAgICBvcGVuOiBTRVRUSU5HUy5vbk9wZW4sXG4gICAgICAgICAgICAgICAgICAgICAgY2xvc2U6IFNFVFRJTkdTLm9uQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgc2V0OiBTRVRUSU5HUy5vblNldFxuICAgICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gT25jZSB3ZeKAmXJlIGFsbCBzZXQsIGNoZWNrIHRoZSB0aGVtZSBpbiB1c2UuXG4gICAgICAgICAgICAgICAgICBJU19ERUZBVUxUX1RIRU1FID0gaXNVc2luZ0RlZmF1bHRUaGVtZSggUC4kaG9sZGVyWzBdICk7XG5cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGF1dG9mb2N1cywgb3BlbiB0aGUgcGlja2VyLlxuICAgICAgICAgICAgICAgICAgaWYgKCBFTEVNRU5ULmF1dG9mb2N1cyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHF1ZXVlZCB0aGUg4oCcc3RhcnTigJ0gYW5kIOKAnHJlbmRlcuKAnSBldmVudHMuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gUC50cmlnZ2VyKCAnc3RhcnQnICkudHJpZ2dlciggJ3JlbmRlcicgKVxuICAgICAgICAgICAgICB9LCAvL3N0YXJ0XG5cblxuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogUmVuZGVyIGEgbmV3IHBpY2tlclxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiggZW50aXJlQ29tcG9uZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAvLyBJbnNlcnQgYSBuZXcgY29tcG9uZW50IGhvbGRlciBpbiB0aGUgcm9vdCBvciBib3guXG4gICAgICAgICAgICAgICAgICBpZiAoIGVudGlyZUNvbXBvbmVudCApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLiRob2xkZXIgPSAkJCQxKCBjcmVhdGVXcmFwcGVkQ29tcG9uZW50KCkgKTtcbiAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlRWxlbWVudEhvbGRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgIFAuJHJvb3QuaHRtbCggUC4kaG9sZGVyICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIFAuJHJvb3QuZmluZCggJy4nICsgQ0xBU1NFUy5ib3ggKS5odG1sKCBQLmNvbXBvbmVudC5ub2RlcyggU1RBVEUub3BlbiApICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIHF1ZXVlZCDigJxyZW5kZXLigJ0gZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFAudHJpZ2dlciggJ3JlbmRlcicgKVxuICAgICAgICAgICAgICB9LCAvL3JlbmRlclxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIERlc3Ryb3kgZXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIGl04oCZcyBhbHJlYWR5IHN0b3BwZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICAgICAgICBpZiAoICFTVEFURS5zdGFydCApIHJldHVybiBQXG5cbiAgICAgICAgICAgICAgICAgIC8vIFRoZW4gY2xvc2UgdGhlIHBpY2tlci5cbiAgICAgICAgICAgICAgICAgIFAuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBoaWRkZW4gZmllbGQuXG4gICAgICAgICAgICAgICAgICBpZiAoIFAuX2hpZGRlbiApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLl9oaWRkZW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggUC5faGlkZGVuICk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcm9vdC5cbiAgICAgICAgICAgICAgICAgIFAuJHJvb3QucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgaW5wdXQgY2xhc3MsIHJlbW92ZSB0aGUgc3RvcmVkIGRhdGEsIGFuZCB1bmJpbmRcbiAgICAgICAgICAgICAgICAgIC8vIHRoZSBldmVudHMgKGFmdGVyIGEgdGljayBmb3IgSUUgLSBzZWUgYFAuY2xvc2VgKS5cbiAgICAgICAgICAgICAgICAgICRFTEVNRU5ULnJlbW92ZUNsYXNzKCBDTEFTU0VTLmlucHV0ICkucmVtb3ZlRGF0YSggTkFNRSApO1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgJEVMRU1FTlQub2ZmKCAnLicgKyBTVEFURS5pZCApO1xuICAgICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGVsZW1lbnQgc3RhdGVcbiAgICAgICAgICAgICAgICAgIEVMRU1FTlQudHlwZSA9IFNUQVRFLnR5cGU7XG4gICAgICAgICAgICAgICAgICBFTEVNRU5ULnJlYWRPbmx5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIHF1ZXVlZCDigJxzdG9w4oCdIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIFAudHJpZ2dlciggJ3N0b3AnICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBwaWNrZXIgc3RhdGVzLlxuICAgICAgICAgICAgICAgICAgU1RBVEUubWV0aG9kcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgU1RBVEUuc3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFBcbiAgICAgICAgICAgICAgfSwgLy9zdG9wXG5cblxuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogT3BlbiB1cCB0aGUgcGlja2VyXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiggZG9udEdpdmVGb2N1cyApIHtcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgaXTigJlzIGFscmVhZHkgb3BlbiwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAgIGlmICggU1RBVEUub3BlbiApIHJldHVybiBQXG5cbiAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUg4oCcYWN0aXZl4oCdIGNsYXNzLlxuICAgICAgICAgICAgICAgICAgJEVMRU1FTlQuYWRkQ2xhc3MoIENMQVNTRVMuYWN0aXZlICk7XG4gICAgICAgICAgICAgICAgICBhcmlhKCBFTEVNRU5ULCAnZXhwYW5kZWQnLCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vICogQSBGaXJlZm94IGJ1Zywgd2hlbiBgaHRtbGAgaGFzIGBvdmVyZmxvdzpoaWRkZW5gLCByZXN1bHRzIGluXG4gICAgICAgICAgICAgICAgICAvLyAgIGtpbGxpbmcgdHJhbnNpdGlvbnMgOiguIFNvIGFkZCB0aGUg4oCcb3BlbmVk4oCdIHN0YXRlIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAgICAgICAvLyAgIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjI1Mjg5XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUg4oCcb3BlbmVk4oCdIGNsYXNzIHRvIHRoZSBwaWNrZXIgcm9vdC5cbiAgICAgICAgICAgICAgICAgICAgICBQLiRyb290LmFkZENsYXNzKCBDTEFTU0VTLm9wZW5lZCApO1xuICAgICAgICAgICAgICAgICAgICAgIGFyaWEoIFAuJHJvb3RbMF0sICdoaWRkZW4nLCBmYWxzZSApO1xuXG4gICAgICAgICAgICAgICAgICB9LCAwICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgdG8gZ2l2ZSBmb2N1cywgYmluZCB0aGUgZWxlbWVudCBhbmQgZG9jIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIGlmICggZG9udEdpdmVGb2N1cyAhPT0gZmFsc2UgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgaXQgYXMgb3Blbi5cbiAgICAgICAgICAgICAgICAgICAgICBTVEFURS5vcGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCBJU19ERUZBVUxUX1RIRU1FICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAkaHRtbC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ292ZXJmbG93JywgJ2hpZGRlbicgKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ3BhZGRpbmctcmlnaHQnLCAnKz0nICsgZ2V0U2Nyb2xsYmFyV2lkdGgoKSApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgZm9jdXMgdG8gdGhlIHJvb3QgZWxlbWVudOKAmXMgalF1ZXJ5IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgICBmb2N1c1BpY2tlck9uY2VPcGVuZWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgdGhlIGRvY3VtZW50IGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oICdjbGljay4nICsgU1RBVEUuaWQgKyAnIGZvY3VzaW4uJyArIFNUQVRFLmlkLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IG9mIHRoZSBldmVudCBpcyBub3QgdGhlIGVsZW1lbnQsIGNsb3NlIHRoZSBwaWNrZXIgcGlja2VyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqIERvbuKAmXQgd29ycnkgYWJvdXQgY2xpY2tzIG9yIGZvY3VzaW5zIG9uIHRoZSByb290IGJlY2F1c2UgdGhvc2UgZG9u4oCZdCBidWJibGUgdXAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgQWxzbywgZm9yIEZpcmVmb3gsIGEgY2xpY2sgb24gYW4gYG9wdGlvbmAgZWxlbWVudCBidWJibGVzIHVwIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgdG8gdGhlIGRvYy4gU28gbWFrZSBzdXJlIHRoZSB0YXJnZXQgd2Fzbid0IHRoZSBkb2MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICogSW4gRmlyZWZveCBzdG9wUHJvcGFnYXRpb24oKSBkb2VzbuKAmXQgcHJldmVudCByaWdodC1jbGljayBldmVudHMgZnJvbSBidWJibGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB3aGljaCBjYXVzZXMgdGhlIHBpY2tlciB0byB1bmV4cGVjdGVkbHkgY2xvc2Ugd2hlbiByaWdodC1jbGlja2luZyBpdC4gU28gbWFrZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHN1cmUgdGhlIGV2ZW50IHdhc27igJl0IGEgcmlnaHQtY2xpY2suXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGFyZ2V0ICE9IEVMRU1FTlQgJiYgdGFyZ2V0ICE9IGRvY3VtZW50ICYmIGV2ZW50LndoaWNoICE9IDMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0YXJnZXQgd2FzIHRoZSBob2xkZXIgdGhhdCBjb3ZlcnMgdGhlIHNjcmVlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIGVsZW1lbnQgZm9jdXNlZCB0byBtYWludGFpbiB0YWJpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY2xvc2UoIHRhcmdldCA9PT0gUC4kaG9sZGVyWzBdICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIH0pLm9uKCAna2V5ZG93bi4nICsgU1RBVEUuaWQsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUga2V5Y29kZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWNvZGUgPSBldmVudC5rZXlDb2RlLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGUgdGhhdCB0byBhIHNlbGVjdGlvbiBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXljb2RlVG9Nb3ZlID0gUC5jb21wb25lbnQua2V5WyBrZXljb2RlIF0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYWIgdGhlIHRhcmdldC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIGVzY2FwZSwgY2xvc2UgdGhlIHBpY2tlciBhbmQgZ2l2ZSBmb2N1cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBrZXljb2RlID09IDI3ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIGtleSBtb3ZlbWVudCBvciDigJxlbnRlcuKAnSBrZXlwcmVzcyBvbiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIHRhcmdldCA9PSBQLiRob2xkZXJbMF0gJiYgKCBrZXljb2RlVG9Nb3ZlIHx8IGtleWNvZGUgPT0gMTMgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gdG8gc3RvcCBwYWdlIG1vdmVtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUga2V5IG1vdmVtZW50IGFjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgga2V5Y29kZVRvTW92ZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIFAuY29tcG9uZW50LmtleS5nbywgUCwgWyBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIGtleWNvZGVUb01vdmUgKSBdICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uIOKAnGVudGVy4oCdLCBpZiB0aGUgaGlnaGxpZ2h0ZWQgaXRlbSBpc27igJl0IGRpc2FibGVkLCBzZXQgdGhlIHZhbHVlIGFuZCBjbG9zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAhUC4kcm9vdC5maW5kKCAnLicgKyBDTEFTU0VTLmhpZ2hsaWdodGVkICkuaGFzQ2xhc3MoIENMQVNTRVMuZGlzYWJsZWQgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLnNldCggJ3NlbGVjdCcsIFAuY29tcG9uZW50Lml0ZW0uaGlnaGxpZ2h0ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBTRVRUSU5HUy5jbG9zZU9uU2VsZWN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQLmNsb3NlKCB0cnVlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIHdpdGhpbiB0aGUgcm9vdCBhbmQg4oCcZW50ZXLigJ0gaXMgcHJlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gYW5kIHRyaWdnZXIgYSBjbGljayBvbiB0aGUgdGFyZ2V0IGluc3RlYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAkJCQxLmNvbnRhaW5zKCBQLiRyb290WzBdLCB0YXJnZXQgKSAmJiBrZXljb2RlID09IDEzICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgdGhlIHF1ZXVlZCDigJxvcGVu4oCdIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnRyaWdnZXIoICdvcGVuJyApXG4gICAgICAgICAgICAgIH0sIC8vb3BlblxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIENsb3NlIHRoZSBwaWNrZXJcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiggZ2l2ZUZvY3VzICkge1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIGdpdmUgZm9jdXMsIGRvIGl0IGJlZm9yZSBjaGFuZ2luZyBzdGF0ZXMuXG4gICAgICAgICAgICAgICAgICBpZiAoIGdpdmVGb2N1cyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmVkaXRhYmxlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBFTEVNRU5ULmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi4uYWggeWVzISBJdCB3b3VsZOKAmXZlIGJlZW4gaW5jb21wbGV0ZSB3aXRob3V0IGEgY3Jhenkgd29ya2Fyb3VuZCBmb3IgSUUgOnxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZvY3VzIGlzIHRyaWdnZXJlZCAqYWZ0ZXIqIHRoZSBjbG9zZSBoYXMgY29tcGxldGVkIC0gY2F1c2luZyBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBvcGVuIGFnYWluLiBTbyB1bmJpbmQgYW5kIHJlYmluZCB0aGUgZXZlbnQgYXQgdGhlIG5leHQgdGljay5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyLm9mZiggJ2ZvY3VzLnRvT3BlbicgKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuJGhvbGRlci5vbiggJ2ZvY3VzLnRvT3BlbicsIGhhbmRsZUZvY3VzVG9PcGVuRXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSDigJxhY3RpdmXigJ0gY2xhc3MuXG4gICAgICAgICAgICAgICAgICAkRUxFTUVOVC5yZW1vdmVDbGFzcyggQ0xBU1NFUy5hY3RpdmUgKTtcbiAgICAgICAgICAgICAgICAgIGFyaWEoIEVMRU1FTlQsICdleHBhbmRlZCcsIGZhbHNlICk7XG5cbiAgICAgICAgICAgICAgICAgIC8vICogQSBGaXJlZm94IGJ1Zywgd2hlbiBgaHRtbGAgaGFzIGBvdmVyZmxvdzpoaWRkZW5gLCByZXN1bHRzIGluXG4gICAgICAgICAgICAgICAgICAvLyAgIGtpbGxpbmcgdHJhbnNpdGlvbnMgOiguIFNvIHJlbW92ZSB0aGUg4oCcb3BlbmVk4oCdIHN0YXRlIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICAgICAgICAgICAgICAvLyAgIEJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjI1Mjg5XG4gICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUg4oCcb3BlbmVk4oCdIGFuZCDigJxmb2N1c2Vk4oCdIGNsYXNzIGZyb20gdGhlIHBpY2tlciByb290LlxuICAgICAgICAgICAgICAgICAgICAgIFAuJHJvb3QucmVtb3ZlQ2xhc3MoIENMQVNTRVMub3BlbmVkICsgJyAnICsgQ0xBU1NFUy5mb2N1c2VkICk7XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYSggUC4kcm9vdFswXSwgJ2hpZGRlbicsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgICAgfSwgMCApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYWxyZWFkeSBjbG9zZWQsIGRvIG5vdGhpbmcgbW9yZS5cbiAgICAgICAgICAgICAgICAgIGlmICggIVNUQVRFLm9wZW4gKSByZXR1cm4gUFxuXG4gICAgICAgICAgICAgICAgICAvLyBTZXQgaXQgYXMgY2xvc2VkLlxuICAgICAgICAgICAgICAgICAgU1RBVEUub3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAvLyBBbGxvdyB0aGUgcGFnZSB0byBzY3JvbGwuXG4gICAgICAgICAgICAgICAgICBpZiAoIElTX0RFRkFVTFRfVEhFTUUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgJGh0bWwuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNzcyggJ292ZXJmbG93JywgJycgKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzKCAncGFkZGluZy1yaWdodCcsICctPScgKyBnZXRTY3JvbGxiYXJXaWR0aCgpICk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgZG9jdW1lbnQgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9mZiggJy4nICsgU1RBVEUuaWQgKTtcblxuICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgcXVldWVkIOKAnGNsb3Nl4oCdIGV2ZW50cy5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQLnRyaWdnZXIoICdjbG9zZScgKVxuICAgICAgICAgICAgICB9LCAvL2Nsb3NlXG5cblxuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogQ2xlYXIgdGhlIHZhbHVlc1xuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFAuc2V0KCAnY2xlYXInLCBudWxsLCBvcHRpb25zIClcbiAgICAgICAgICAgICAgfSwgLy9jbGVhclxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFNldCBzb21ldGhpbmdcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oIHRoaW5nLCB2YWx1ZSwgb3B0aW9ucyApIHtcblxuICAgICAgICAgICAgICAgICAgdmFyIHRoaW5nSXRlbSwgdGhpbmdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ0lzT2JqZWN0ID0gJCQkMS5pc1BsYWluT2JqZWN0KCB0aGluZyApLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nT2JqZWN0ID0gdGhpbmdJc09iamVjdCA/IHRoaW5nIDoge307XG5cbiAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIHVzYWJsZSBvcHRpb25zLlxuICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHRoaW5nSXNPYmplY3QgJiYgJCQkMS5pc1BsYWluT2JqZWN0KCB2YWx1ZSApID8gdmFsdWUgOiBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRoaW5nIGlzbuKAmXQgYW4gb2JqZWN0LCBtYWtlIGl0IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoICF0aGluZ0lzT2JqZWN0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ09iamVjdFsgdGhpbmcgXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHRoaW5ncyBvZiBpdGVtcyB0byBzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgZm9yICggdGhpbmdJdGVtIGluIHRoaW5nT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYWIgdGhlIHZhbHVlIG9mIHRoZSB0aGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpbmdWYWx1ZSA9IHRoaW5nT2JqZWN0WyB0aGluZ0l0ZW0gXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCwgaWYgdGhlIGl0ZW0gZXhpc3RzIGFuZCB0aGVyZeKAmXMgYSB2YWx1ZSwgc2V0IGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nSXRlbSBpbiBQLmNvbXBvbmVudC5pdGVtICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ1ZhbHVlID09PSB1bmRlZmluZWQgKSB0aGluZ1ZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY29tcG9uZW50LnNldCggdGhpbmdJdGVtLCB0aGluZ1ZhbHVlLCBvcHRpb25zICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVuLCBjaGVjayB0byB1cGRhdGUgdGhlIGVsZW1lbnQgdmFsdWUgYW5kIGJyb2FkY2FzdCBhIGNoYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ0l0ZW0gPT0gJ3NlbGVjdCcgfHwgdGhpbmdJdGVtID09ICdjbGVhcicgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRUxFTUVOVC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwoIHRoaW5nSXRlbSA9PSAnY2xlYXInID8gJycgOiBQLmdldCggdGhpbmdJdGVtLCBTRVRUSU5HUy5mb3JtYXQgKSApLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIoICdjaGFuZ2UnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgYSBuZXcgcGlja2VyLlxuICAgICAgICAgICAgICAgICAgICAgIFAucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIG1ldGhvZCBpc27igJl0IG11dGVkLCB0cmlnZ2VyIHF1ZXVlZCDigJxzZXTigJ0gZXZlbnRzIGFuZCBwYXNzIHRoZSBgdGhpbmdPYmplY3RgLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubXV0ZWQgPyBQIDogUC50cmlnZ2VyKCAnc2V0JywgdGhpbmdPYmplY3QgKVxuICAgICAgICAgICAgICB9LCAvL3NldFxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEdldCBzb21ldGhpbmdcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oIHRoaW5nLCBmb3JtYXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZeKAmXMgc29tZXRoaW5nIHRvIGdldC5cbiAgICAgICAgICAgICAgICAgIHRoaW5nID0gdGhpbmcgfHwgJ3ZhbHVlJztcblxuICAgICAgICAgICAgICAgICAgLy8gSWYgYSBwaWNrZXIgc3RhdGUgZXhpc3RzLCByZXR1cm4gdGhhdC5cbiAgICAgICAgICAgICAgICAgIGlmICggU1RBVEVbIHRoaW5nIF0gIT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVbIHRoaW5nIF1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBzdWJtaXNzaW9uIHZhbHVlLCBpZiB0aGF0LlxuICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZyA9PSAndmFsdWVTdWJtaXQnICkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICggUC5faGlkZGVuICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUC5faGlkZGVuLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nID0gJ3ZhbHVlJztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSwgaWYgdGhhdC5cbiAgICAgICAgICAgICAgICAgIGlmICggdGhpbmcgPT0gJ3ZhbHVlJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRUxFTUVOVC52YWx1ZVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhIGNvbXBvbmVudCBpdGVtIGV4aXN0cywgcmV0dXJuIHRoYXQuXG4gICAgICAgICAgICAgICAgICBpZiAoIHRoaW5nIGluIFAuY29tcG9uZW50Lml0ZW0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlb2YgZm9ybWF0ID09ICdzdHJpbmcnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpbmdWYWx1ZSA9IFAuY29tcG9uZW50LmdldCggdGhpbmcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaW5nVmFsdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY29tcG9uZW50LmZvcm1hdHMudG9TdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBmb3JtYXQsIHRoaW5nVmFsdWUgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQLmNvbXBvbmVudC5nZXQoIHRoaW5nIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgLy9nZXRcblxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEJpbmQgZXZlbnRzIG9uIHRoZSB0aGluZ3MuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBvbjogZnVuY3Rpb24oIHRoaW5nLCBtZXRob2QsIGludGVybmFsICkge1xuXG4gICAgICAgICAgICAgICAgICB2YXIgdGhpbmdOYW1lLCB0aGluZ01ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICB0aGluZ0lzT2JqZWN0ID0gJCQkMS5pc1BsYWluT2JqZWN0KCB0aGluZyApLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaW5nT2JqZWN0ID0gdGhpbmdJc09iamVjdCA/IHRoaW5nIDoge307XG5cbiAgICAgICAgICAgICAgICAgIGlmICggdGhpbmcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGhpbmcgaXNu4oCZdCBhbiBvYmplY3QsIG1ha2UgaXQgb25lLlxuICAgICAgICAgICAgICAgICAgICAgIGlmICggIXRoaW5nSXNPYmplY3QgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5nT2JqZWN0WyB0aGluZyBdID0gbWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIHRoaW5ncyB0byBiaW5kIHRvLlxuICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHRoaW5nTmFtZSBpbiB0aGluZ09iamVjdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcmFiIHRoZSBtZXRob2Qgb2YgdGhlIHRoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGluZ01ldGhvZCA9IHRoaW5nT2JqZWN0WyB0aGluZ05hbWUgXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCB3YXMgYW4gaW50ZXJuYWwgYmluZGluZywgcHJlZml4IGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGludGVybmFsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpbmdOYW1lID0gJ18nICsgdGhpbmdOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0aGluZyBtZXRob2RzIGNvbGxlY3Rpb24gZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICBTVEFURS5tZXRob2RzWyB0aGluZ05hbWUgXSA9IFNUQVRFLm1ldGhvZHNbIHRoaW5nTmFtZSBdIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgbWV0aG9kIHRvIHRoZSByZWxhdGl2ZSBtZXRob2QgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgU1RBVEUubWV0aG9kc1sgdGhpbmdOYW1lIF0ucHVzaCggdGhpbmdNZXRob2QgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBQXG4gICAgICAgICAgICAgIH0sIC8vb25cblxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFVuYmluZCBldmVudHMgb24gdGhlIHRoaW5ncy5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIG9mZjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgaSwgdGhpbmdOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWVzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgZm9yICggaSA9IDAsIG5hbWVzQ291bnQgPSBuYW1lcy5sZW5ndGg7IGkgPCBuYW1lc0NvdW50OyBpICs9IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpbmdOYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGluZ05hbWUgaW4gU1RBVEUubWV0aG9kcyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFNUQVRFLm1ldGhvZHNbdGhpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUFxuICAgICAgICAgICAgICB9LFxuXG5cbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEZpcmUgb2ZmIG1ldGhvZCBldmVudHMuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbiggbmFtZSwgZGF0YSApIHtcbiAgICAgICAgICAgICAgICAgIHZhciBfdHJpZ2dlciA9IGZ1bmN0aW9uKCBuYW1lICkge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2RMaXN0ID0gU1RBVEUubWV0aG9kc1sgbmFtZSBdO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICggbWV0aG9kTGlzdCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kTGlzdC5tYXAoIGZ1bmN0aW9uKCBtZXRob2QgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIG1ldGhvZCwgUCwgWyBkYXRhIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIF90cmlnZ2VyKCAnXycgKyBuYW1lICk7XG4gICAgICAgICAgICAgICAgICBfdHJpZ2dlciggbmFtZSApO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFBcbiAgICAgICAgICAgICAgfSAvL3RyaWdnZXJcbiAgICAgICAgICB9OyAvL1BpY2tlckluc3RhbmNlLnByb3RvdHlwZVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogV3JhcCB0aGUgcGlja2VyIGhvbGRlciBjb21wb25lbnRzIHRvZ2V0aGVyLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjcmVhdGVXcmFwcGVkQ29tcG9uZW50KCkge1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIHdyYXBwZXIgaG9sZGVyXG4gICAgICAgICAgcmV0dXJuIFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZSggJ2RpdicsXG5cbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgcGlja2VyIHdyYXBwZXIgbm9kZVxuICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLm5vZGUoICdkaXYnLFxuXG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaWNrZXIgZnJhbWVcbiAgICAgICAgICAgICAgICAgIFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZSggJ2RpdicsXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaWNrZXIgYm94IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICBQaWNrZXJDb25zdHJ1Y3Rvci5fLm5vZGUoICdkaXYnLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29tcG9uZW50cyBub2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jb21wb25lbnQubm9kZXMoIFNUQVRFLm9wZW4gKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcGlja2VyIGJveCBjbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICBDTEFTU0VTLmJveFxuICAgICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBQaWNrZXIgd3JhcCBjbGFzc1xuICAgICAgICAgICAgICAgICAgICAgIENMQVNTRVMud3JhcFxuICAgICAgICAgICAgICAgICAgKSxcblxuICAgICAgICAgICAgICAgICAgLy8gUGlja2VyIGZyYW1lIGNsYXNzXG4gICAgICAgICAgICAgICAgICBDTEFTU0VTLmZyYW1lXG4gICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgLy8gUGlja2VyIGhvbGRlciBjbGFzc1xuICAgICAgICAgICAgICBDTEFTU0VTLmhvbGRlcixcblxuICAgICAgICAgICAgICAndGFiaW5kZXg9XCItMVwiJ1xuICAgICAgICAgICkgLy9lbmRyZXR1cm5cbiAgICAgIH0gLy9jcmVhdGVXcmFwcGVkQ29tcG9uZW50XG5cblxuXG4gICAgICAvKipcbiAgICAgICAqIFByZXBhcmUgdGhlIGlucHV0IGVsZW1lbnQgd2l0aCBhbGwgYmluZGluZ3MuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50KCkge1xuXG4gICAgICAgICAgJEVMRU1FTlQuXG5cbiAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBpY2tlciBkYXRhIGJ5IGNvbXBvbmVudCBuYW1lLlxuICAgICAgICAgICAgICBkYXRhKE5BTUUsIFApLlxuXG4gICAgICAgICAgICAgIC8vIEFkZCB0aGUg4oCcaW5wdXTigJ0gY2xhc3MgbmFtZS5cbiAgICAgICAgICAgICAgYWRkQ2xhc3MoQ0xBU1NFUy5pbnB1dCkuXG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmXigJlzIGEgYGRhdGEtdmFsdWVgLCB1cGRhdGUgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICB2YWwoICRFTEVNRU5ULmRhdGEoJ3ZhbHVlJykgP1xuICAgICAgICAgICAgICAgICAgUC5nZXQoJ3NlbGVjdCcsIFNFVFRJTkdTLmZvcm1hdCkgOlxuICAgICAgICAgICAgICAgICAgRUxFTUVOVC52YWx1ZVxuICAgICAgICAgICAgICApO1xuXG5cbiAgICAgICAgICAvLyBPbmx5IGJpbmQga2V5ZG93biBldmVudHMgaWYgdGhlIGVsZW1lbnQgaXNu4oCZdCBlZGl0YWJsZS5cbiAgICAgICAgICBpZiAoICFTRVRUSU5HUy5lZGl0YWJsZSApIHtcblxuICAgICAgICAgICAgICAkRUxFTUVOVC5cblxuICAgICAgICAgICAgICAgICAgLy8gT24gZm9jdXMvY2xpY2ssIG9wZW4gdGhlIHBpY2tlci5cbiAgICAgICAgICAgICAgICAgIG9uKCAnZm9jdXMuJyArIFNUQVRFLmlkICsgJyBjbGljay4nICsgU1RBVEUuaWQsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBQLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgIH0pLlxuXG4gICAgICAgICAgICAgICAgICAvLyBIYW5kbGUga2V5Ym9hcmQgZXZlbnQgYmFzZWQgb24gdGhlIHBpY2tlciBiZWluZyBvcGVuZWQgb3Igbm90LlxuICAgICAgICAgICAgICAgICAgb24oICdrZXlkb3duLicgKyBTVEFURS5pZCwgaGFuZGxlS2V5ZG93bkV2ZW50ICk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIGFyaWEgYXR0cmlidXRlcy5cbiAgICAgICAgICBhcmlhKEVMRU1FTlQsIHtcbiAgICAgICAgICAgICAgaGFzcG9wdXA6IHRydWUsXG4gICAgICAgICAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICBvd25zOiBFTEVNRU5ULmlkICsgJ19yb290J1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJlcGFyZSB0aGUgcm9vdCBwaWNrZXIgZWxlbWVudCB3aXRoIGFsbCBiaW5kaW5ncy5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcHJlcGFyZUVsZW1lbnRSb290KCkge1xuICAgICAgICAgIGFyaWEoIFAuJHJvb3RbMF0sICdoaWRkZW4nLCB0cnVlICk7XG4gICAgICB9XG5cblxuICAgICAgIC8qKlxuICAgICAgICAqIFByZXBhcmUgdGhlIGhvbGRlciBwaWNrZXIgZWxlbWVudCB3aXRoIGFsbCBiaW5kaW5ncy5cbiAgICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVFbGVtZW50SG9sZGVyKCkge1xuXG4gICAgICAgICAgUC4kaG9sZGVyLlxuXG4gICAgICAgICAgICAgIG9uKHtcblxuICAgICAgICAgICAgICAgICAgLy8gRm9yIGlPUzguXG4gICAgICAgICAgICAgICAgICBrZXlkb3duOiBoYW5kbGVLZXlkb3duRXZlbnQsXG5cbiAgICAgICAgICAgICAgICAgICdmb2N1cy50b09wZW4nOiBoYW5kbGVGb2N1c1RvT3BlbkV2ZW50LFxuXG4gICAgICAgICAgICAgICAgICBibHVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIOKAnHRhcmdldOKAnSBjbGFzcy5cbiAgICAgICAgICAgICAgICAgICAgICAkRUxFTUVOVC5yZW1vdmVDbGFzcyggQ0xBU1NFUy50YXJnZXQgKTtcbiAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gc29tZXRoaW5nIHdpdGhpbiB0aGUgaG9sZGVyIGlzIGZvY3VzZWQsIHN0b3AgZnJvbSBidWJibGluZ1xuICAgICAgICAgICAgICAgICAgLy8gdG8gdGhlIGRvYyBhbmQgcmVtb3ZlIHRoZSDigJxmb2N1c2Vk4oCdIHN0YXRlIGZyb20gdGhlIHJvb3QuXG4gICAgICAgICAgICAgICAgICBmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC4kcm9vdC5yZW1vdmVDbGFzcyggQ0xBU1NFUy5mb2N1c2VkICk7XG4gICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHNvbWV0aGluZyB3aXRoaW4gdGhlIGhvbGRlciBpcyBjbGlja2VkLCBzdG9wIGl0XG4gICAgICAgICAgICAgICAgICAvLyBmcm9tIGJ1YmJsaW5nIHRvIHRoZSBkb2MuXG4gICAgICAgICAgICAgICAgICAnbW91c2Vkb3duIGNsaWNrJzogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdGFyZ2V0IGlzbuKAmXQgdGhlIHJvb3QgaG9sZGVyIHNvIGl0IGNhbiBidWJibGUgdXAuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXJnZXQgIT0gUC4kaG9sZGVyWzBdICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vICogRm9yIG1vdXNlZG93biBldmVudHMsIGNhbmNlbCB0aGUgZGVmYXVsdCBhY3Rpb24gaW4gb3JkZXIgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBwcmV2ZW50IGNhc2VzIHdoZXJlIGZvY3VzIGlzIHNoaWZ0ZWQgb250byBleHRlcm5hbCBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHdoZW4gdXNpbmcgdGhpbmdzIGxpa2UgalF1ZXJ5IG1vYmlsZSBvciBNYWduaWZpY1BvcHVwIChyZWY6ICMyNDkgJiAjMTIwKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBBbHNvLCBmb3IgRmlyZWZveCwgZG9u4oCZdCBwcmV2ZW50IGFjdGlvbiBvbiB0aGUgYG9wdGlvbmAgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBldmVudC50eXBlID09ICdtb3VzZWRvd24nICYmICEkJCQxKCB0YXJnZXQgKS5pcyggJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b24sIG9wdGlvbicgKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1mb2N1cyBvbnRvIHRoZSBob2xkZXIgc28gdGhhdCB1c2VycyBjYW4gY2xpY2sgYXdheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBlbGVtZW50cyBmb2N1c2VkIHdpdGhpbiB0aGUgcGlja2VyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfSkuXG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmXigJlzIGEgY2xpY2sgb24gYW4gYWN0aW9uYWJsZSBlbGVtZW50LCBjYXJyeSBvdXQgdGhlIGFjdGlvbnMuXG4gICAgICAgICAgICAgIG9uKCAnY2xpY2snLCAnW2RhdGEtcGlja10sIFtkYXRhLW5hdl0sIFtkYXRhLWNsZWFyXSwgW2RhdGEtY2xvc2VdJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJCQkMSggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGEgPSAkdGFyZ2V0LmRhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXNhYmxlZCA9ICR0YXJnZXQuaGFzQ2xhc3MoIENMQVNTRVMubmF2RGlzYWJsZWQgKSB8fCAkdGFyZ2V0Lmhhc0NsYXNzKCBDTEFTU0VTLmRpc2FibGVkICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyAqIEZvciBJRSwgbm9uLWZvY3VzYWJsZSBlbGVtZW50cyBjYW4gYmUgYWN0aXZlIGVsZW1lbnRzIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAvLyAgIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjg0NTYxKS5cbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50ICYmICggYWN0aXZlRWxlbWVudC50eXBlIHx8IGFjdGl2ZUVsZW1lbnQuaHJlZiApO1xuXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgZGlzYWJsZWQgb3Igbm90aGluZyBpbnNpZGUgaXMgYWN0aXZlbHkgZm9jdXNlZCwgcmUtZm9jdXMgdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICBpZiAoIHRhcmdldERpc2FibGVkIHx8IGFjdGl2ZUVsZW1lbnQgJiYgISQkJDEuY29udGFpbnMoIFAuJHJvb3RbMF0sIGFjdGl2ZUVsZW1lbnQgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLiRob2xkZXJbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgc29tZXRoaW5nIGlzIHN1cGVyZmljaWFsbHkgY2hhbmdlZCwgdXBkYXRlIHRoZSBgaGlnaGxpZ2h0YCBiYXNlZCBvbiB0aGUgYG5hdmAuXG4gICAgICAgICAgICAgICAgICBpZiAoICF0YXJnZXREaXNhYmxlZCAmJiB0YXJnZXREYXRhLm5hdiApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLnNldCggJ2hpZ2hsaWdodCcsIFAuY29tcG9uZW50Lml0ZW0uaGlnaGxpZ2h0LCB7IG5hdjogdGFyZ2V0RGF0YS5uYXYgfSApO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBJZiBzb21ldGhpbmcgaXMgcGlja2VkLCBzZXQgYHNlbGVjdGAgdGhlbiBjbG9zZSB3aXRoIGZvY3VzLlxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoICF0YXJnZXREaXNhYmxlZCAmJiAncGljaycgaW4gdGFyZ2V0RGF0YSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBQLnNldCggJ3NlbGVjdCcsIHRhcmdldERhdGEucGljayApO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICggU0VUVElOR1MuY2xvc2VPblNlbGVjdCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgLy8gSWYgYSDigJxjbGVhcuKAnSBidXR0b24gaXMgcHJlc3NlZCwgZW1wdHkgdGhlIHZhbHVlcyBhbmQgY2xvc2Ugd2l0aCBmb2N1cy5cbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCB0YXJnZXREYXRhLmNsZWFyICkge1xuICAgICAgICAgICAgICAgICAgICAgIFAuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIFNFVFRJTkdTLmNsb3NlT25DbGVhciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIHRhcmdldERhdGEuY2xvc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgUC5jbG9zZSggdHJ1ZSApO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH0pOyAvL1AuJGhvbGRlclxuXG4gICAgICB9XG5cblxuICAgICAgIC8qKlxuICAgICAgICAqIFByZXBhcmUgdGhlIGhpZGRlbiBpbnB1dCBlbGVtZW50IGFsb25nIHdpdGggYWxsIGJpbmRpbmdzLlxuICAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcHJlcGFyZUVsZW1lbnRIaWRkZW4oKSB7XG5cbiAgICAgICAgICB2YXIgbmFtZTtcblxuICAgICAgICAgIGlmICggU0VUVElOR1MuaGlkZGVuTmFtZSA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICAgICAgbmFtZSA9IEVMRU1FTlQubmFtZTtcbiAgICAgICAgICAgICAgRUxFTUVOVC5uYW1lID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBuYW1lID0gW1xuICAgICAgICAgICAgICAgICAgdHlwZW9mIFNFVFRJTkdTLmhpZGRlblByZWZpeCA9PSAnc3RyaW5nJyA/IFNFVFRJTkdTLmhpZGRlblByZWZpeCA6ICcnLFxuICAgICAgICAgICAgICAgICAgdHlwZW9mIFNFVFRJTkdTLmhpZGRlblN1ZmZpeCA9PSAnc3RyaW5nJyA/IFNFVFRJTkdTLmhpZGRlblN1ZmZpeCA6ICdfc3VibWl0J1xuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZVswXSArIEVMRU1FTlQubmFtZSArIG5hbWVbMV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgUC5faGlkZGVuID0gJCQkMShcbiAgICAgICAgICAgICAgJzxpbnB1dCAnICtcbiAgICAgICAgICAgICAgJ3R5cGU9aGlkZGVuICcgK1xuXG4gICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbmFtZSB1c2luZyB0aGUgb3JpZ2luYWwgaW5wdXTigJlzIHdpdGggYSBwcmVmaXggYW5kIHN1ZmZpeC5cbiAgICAgICAgICAgICAgJ25hbWU9XCInICsgbmFtZSArICdcIicgK1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIHZhbHVlLCBzZXQgdGhlIGhpZGRlbiB2YWx1ZSBhcyB3ZWxsLlxuICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAkRUxFTUVOVC5kYXRhKCd2YWx1ZScpIHx8IEVMRU1FTlQudmFsdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICcgdmFsdWU9XCInICsgUC5nZXQoJ3NlbGVjdCcsIFNFVFRJTkdTLmZvcm1hdFN1Ym1pdCkgKyAnXCInIDpcbiAgICAgICAgICAgICAgICAgICAgICAnJ1xuICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgJz4nXG4gICAgICAgICAgKVswXTtcblxuICAgICAgICAgICRFTEVNRU5ULlxuXG4gICAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBjaGFuZ2VzLCB1cGRhdGUgdGhlIGhpZGRlbiBpbnB1dCB3aXRoIHRoZSBjb3JyZWN0IGZvcm1hdC5cbiAgICAgICAgICAgICAgb24oJ2NoYW5nZS4nICsgU1RBVEUuaWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgUC5faGlkZGVuLnZhbHVlID0gRUxFTUVOVC52YWx1ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgUC5nZXQoJ3NlbGVjdCcsIFNFVFRJTkdTLmZvcm1hdFN1Ym1pdCkgOlxuICAgICAgICAgICAgICAgICAgICAgICcnO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICAvLyBXYWl0IGZvciB0cmFuc2l0aW9ucyB0byBlbmQgYmVmb3JlIGZvY3VzaW5nIHRoZSBob2xkZXIuIE90aGVyd2lzZSwgd2hpbGVcbiAgICAgIC8vIHVzaW5nIHRoZSBgY29udGFpbmVyYCBvcHRpb24sIHRoZSB2aWV3IGp1bXBzIHRvIHRoZSBjb250YWluZXIuXG4gICAgICBmdW5jdGlvbiBmb2N1c1BpY2tlck9uY2VPcGVuZWQoKSB7XG5cbiAgICAgICAgICBpZiAoSVNfREVGQVVMVF9USEVNRSAmJiBzdXBwb3J0c1RyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICAgIFAuJGhvbGRlci5maW5kKCcuJyArIENMQVNTRVMuZnJhbWUpLm9uZSgndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgUC4kaG9sZGVyWzBdLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzVG9PcGVuRXZlbnQoZXZlbnQpIHtcblxuICAgICAgICAgIC8vIFN0b3AgdGhlIGV2ZW50IGZyb20gcHJvcGFnYXRpbmcgdG8gdGhlIGRvYy5cbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUg4oCcdGFyZ2V04oCdIGNsYXNzLlxuICAgICAgICAgICRFTEVNRU5ULmFkZENsYXNzKCBDTEFTU0VTLnRhcmdldCApO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSDigJxmb2N1c2Vk4oCdIGNsYXNzIHRvIHRoZSByb290LlxuICAgICAgICAgIFAuJHJvb3QuYWRkQ2xhc3MoIENMQVNTRVMuZm9jdXNlZCApO1xuXG4gICAgICAgICAgLy8gQW5kIHRoZW4gZmluYWxseSBvcGVuIHRoZSBwaWNrZXIuXG4gICAgICAgICAgUC5vcGVuKCk7XG4gICAgICB9XG5cblxuICAgICAgLy8gRm9yIGlPUzguXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duRXZlbnQoIGV2ZW50ICkge1xuXG4gICAgICAgICAgdmFyIGtleWNvZGUgPSBldmVudC5rZXlDb2RlLFxuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIG9uZSBvZiB0aGUgZGVsZXRlIGtleXMgd2FzIHByZXNzZWQuXG4gICAgICAgICAgICAgIGlzS2V5Y29kZURlbGV0ZSA9IC9eKDh8NDYpJC8udGVzdChrZXljb2RlKTtcblxuICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBJRSBjbGVhcnMgdGhlIGlucHV0IHZhbHVlIG9uIOKAnGVzY2FwZeKAnS5cbiAgICAgICAgICBpZiAoIGtleWNvZGUgPT0gMjcgKSB7XG4gICAgICAgICAgICAgIFAuY2xvc2UoIHRydWUgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgYHNwYWNlYCBvciBgZGVsZXRlYCB3YXMgcHJlc3NlZCBvciB0aGUgcGlja2VyIGlzIGNsb3NlZCB3aXRoIGEga2V5IG1vdmVtZW50LlxuICAgICAgICAgIGlmICgga2V5Y29kZSA9PSAzMiB8fCBpc0tleWNvZGVEZWxldGUgfHwgIVNUQVRFLm9wZW4gJiYgUC5jb21wb25lbnQua2V5W2tleWNvZGVdICkge1xuXG4gICAgICAgICAgICAgIC8vIFByZXZlbnQgaXQgZnJvbSBtb3ZpbmcgdGhlIHBhZ2UgYW5kIGJ1YmJsaW5nIHRvIGRvYy5cbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgLy8gSWYgYGRlbGV0ZWAgd2FzIHByZXNzZWQsIGNsZWFyIHRoZSB2YWx1ZXMgYW5kIGNsb3NlIHRoZSBwaWNrZXIuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBvcGVuIHRoZSBwaWNrZXIuXG4gICAgICAgICAgICAgIGlmICggaXNLZXljb2RlRGVsZXRlICkgeyBQLmNsZWFyKCkuY2xvc2UoKTsgfVxuICAgICAgICAgICAgICBlbHNlIHsgUC5vcGVuKCk7IH1cbiAgICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLy8gUmV0dXJuIGEgbmV3IHBpY2tlciBpbnN0YW5jZS5cbiAgICAgIHJldHVybiBuZXcgUGlja2VySW5zdGFuY2UoKVxuICB9IC8vUGlja2VyQ29uc3RydWN0b3JcblxuXG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNsYXNzZXMgYW5kIHByZWZpeCB0byB1c2UgZm9yIHRoZSBIVE1MIGNsYXNzZXMuXG4gICAqL1xuICBQaWNrZXJDb25zdHJ1Y3Rvci5rbGFzc2VzID0gZnVuY3Rpb24oIHByZWZpeCApIHtcbiAgICAgIHByZWZpeCA9IHByZWZpeCB8fCAncGlja2VyJztcbiAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICBwaWNrZXI6IHByZWZpeCxcbiAgICAgICAgICBvcGVuZWQ6IHByZWZpeCArICctLW9wZW5lZCcsXG4gICAgICAgICAgZm9jdXNlZDogcHJlZml4ICsgJy0tZm9jdXNlZCcsXG5cbiAgICAgICAgICBpbnB1dDogcHJlZml4ICsgJ19faW5wdXQnLFxuICAgICAgICAgIGFjdGl2ZTogcHJlZml4ICsgJ19faW5wdXQtLWFjdGl2ZScsXG4gICAgICAgICAgdGFyZ2V0OiBwcmVmaXggKyAnX19pbnB1dC0tdGFyZ2V0JyxcblxuICAgICAgICAgIGhvbGRlcjogcHJlZml4ICsgJ19faG9sZGVyJyxcblxuICAgICAgICAgIGZyYW1lOiBwcmVmaXggKyAnX19mcmFtZScsXG4gICAgICAgICAgd3JhcDogcHJlZml4ICsgJ19fd3JhcCcsXG5cbiAgICAgICAgICBib3g6IHByZWZpeCArICdfX2JveCdcbiAgICAgIH1cbiAgfTsgLy9QaWNrZXJDb25zdHJ1Y3Rvci5rbGFzc2VzXG5cblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZGVmYXVsdCB0aGVtZSBpcyBiZWluZyB1c2VkLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNVc2luZ0RlZmF1bHRUaGVtZSggZWxlbWVudCApIHtcblxuICAgICAgdmFyIHRoZW1lLFxuICAgICAgICAgIHByb3AgPSAncG9zaXRpb24nO1xuXG4gICAgICAvLyBGb3IgSUUuXG4gICAgICBpZiAoIGVsZW1lbnQuY3VycmVudFN0eWxlICkge1xuICAgICAgICAgIHRoZW1lID0gZWxlbWVudC5jdXJyZW50U3R5bGVbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciBub3JtYWwgYnJvd3NlcnMuXG4gICAgICBlbHNlIGlmICggd2luZG93LmdldENvbXB1dGVkU3R5bGUgKSB7XG4gICAgICAgICAgdGhlbWUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50IClbcHJvcF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGVtZSA9PSAnZml4ZWQnXG4gIH1cblxuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgd2lkdGggb2YgdGhlIGJyb3dzZXLigJlzIHNjcm9sbGJhci5cbiAgICogVGFrZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL1ZvZGthQmVhcnMvUmVtb2RhbC9ibG9iL21hc3Rlci9zcmMvanF1ZXJ5LnJlbW9kYWwuanNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKCkge1xuXG4gICAgICBpZiAoICRodG1sLmhlaWdodCgpIDw9ICR3aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cblxuICAgICAgdmFyICRvdXRlciA9ICQkJDEoICc8ZGl2IHN0eWxlPVwidmlzaWJpbGl0eTpoaWRkZW47d2lkdGg6MTAwcHhcIiAvPicgKS5cbiAgICAgICAgICBhcHBlbmRUbyggJ2JvZHknICk7XG5cbiAgICAgIC8vIEdldCB0aGUgd2lkdGggd2l0aG91dCBzY3JvbGxiYXJzLlxuICAgICAgdmFyIHdpZHRoV2l0aG91dFNjcm9sbCA9ICRvdXRlclswXS5vZmZzZXRXaWR0aDtcblxuICAgICAgLy8gRm9yY2UgYWRkaW5nIHNjcm9sbGJhcnMuXG4gICAgICAkb3V0ZXIuY3NzKCAnb3ZlcmZsb3cnLCAnc2Nyb2xsJyApO1xuXG4gICAgICAvLyBBZGQgdGhlIGlubmVyIGRpdi5cbiAgICAgIHZhciAkaW5uZXIgPSAkJCQxKCAnPGRpdiBzdHlsZT1cIndpZHRoOjEwMCVcIiAvPicgKS5hcHBlbmRUbyggJG91dGVyICk7XG5cbiAgICAgIC8vIEdldCB0aGUgd2lkdGggd2l0aCBzY3JvbGxiYXJzLlxuICAgICAgdmFyIHdpZHRoV2l0aFNjcm9sbCA9ICRpbm5lclswXS5vZmZzZXRXaWR0aDtcblxuICAgICAgLy8gUmVtb3ZlIHRoZSBkaXZzLlxuICAgICAgJG91dGVyLnJlbW92ZSgpO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgd2lkdGhzLlxuICAgICAgcmV0dXJuIHdpZHRoV2l0aG91dFNjcm9sbCAtIHdpZHRoV2l0aFNjcm9sbFxuICB9XG5cblxuXG4gIC8qKlxuICAgKiBQaWNrZXJDb25zdHJ1Y3RvciBoZWxwZXIgbWV0aG9kcy5cbiAgICovXG4gIFBpY2tlckNvbnN0cnVjdG9yLl8gPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIGEgZ3JvdXAgb2Ygbm9kZXMuIEV4cGVjdHM6XG4gICAgICAgKiBgXG4gICAgICAgICAge1xuICAgICAgICAgICAgICBtaW46ICAgIHtJbnRlZ2VyfSxcbiAgICAgICAgICAgICAgbWF4OiAgICB7SW50ZWdlcn0sXG4gICAgICAgICAgICAgIGk6ICAgICAge0ludGVnZXJ9LFxuICAgICAgICAgICAgICBub2RlOiAgIHtTdHJpbmd9LFxuICAgICAgICAgICAgICBpdGVtOiAgIHtGdW5jdGlvbn1cbiAgICAgICAgICB9XG4gICAgICAgKiBgXG4gICAgICAgKi9cbiAgICAgIGdyb3VwOiBmdW5jdGlvbiggZ3JvdXBPYmplY3QgKSB7XG5cbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgLy8gU2NvcGUgZm9yIHRoZSBsb29wZWQgb2JqZWN0XG4gICAgICAgICAgICAgIGxvb3BPYmplY3RTY29wZSxcblxuICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG5vZGVzIGxpc3RcbiAgICAgICAgICAgICAgbm9kZXNMaXN0ID0gJycsXG5cbiAgICAgICAgICAgICAgLy8gVGhlIGNvdW50ZXIgc3RhcnRzIGZyb20gdGhlIGBtaW5gXG4gICAgICAgICAgICAgIGNvdW50ZXIgPSBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIGdyb3VwT2JqZWN0Lm1pbiwgZ3JvdXBPYmplY3QgKTtcblxuXG4gICAgICAgICAgLy8gTG9vcCBmcm9tIHRoZSBgbWluYCB0byBgbWF4YCwgaW5jcmVtZW50aW5nIGJ5IGBpYFxuICAgICAgICAgIGZvciAoIDsgY291bnRlciA8PSBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIGdyb3VwT2JqZWN0Lm1heCwgZ3JvdXBPYmplY3QsIFsgY291bnRlciBdICk7IGNvdW50ZXIgKz0gZ3JvdXBPYmplY3QuaSApIHtcblxuICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBgaXRlbWAgZnVuY3Rpb24gd2l0aGluIHNjb3BlIG9mIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlID0gUGlja2VyQ29uc3RydWN0b3IuXy50cmlnZ2VyKCBncm91cE9iamVjdC5pdGVtLCBncm91cE9iamVjdCwgWyBjb3VudGVyIF0gKTtcblxuICAgICAgICAgICAgICAvLyBTcGxpY2UgdGhlIHN1Ymdyb3VwIGFuZCBjcmVhdGUgbm9kZXMgb3V0IG9mIHRoZSBzdWIgbm9kZXNcbiAgICAgICAgICAgICAgbm9kZXNMaXN0ICs9IFBpY2tlckNvbnN0cnVjdG9yLl8ubm9kZShcbiAgICAgICAgICAgICAgICAgIGdyb3VwT2JqZWN0Lm5vZGUsXG4gICAgICAgICAgICAgICAgICBsb29wT2JqZWN0U2NvcGVbIDAgXSwgICAvLyB0aGUgbm9kZVxuICAgICAgICAgICAgICAgICAgbG9vcE9iamVjdFNjb3BlWyAxIF0sICAgLy8gdGhlIGNsYXNzZXNcbiAgICAgICAgICAgICAgICAgIGxvb3BPYmplY3RTY29wZVsgMiBdICAgIC8vIHRoZSBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSBsaXN0IG9mIG5vZGVzXG4gICAgICAgICAgcmV0dXJuIG5vZGVzTGlzdFxuICAgICAgfSwgLy9ncm91cFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlIGEgZG9tIG5vZGUgc3RyaW5nXG4gICAgICAgKi9cbiAgICAgIG5vZGU6IGZ1bmN0aW9uKCB3cmFwcGVyLCBpdGVtLCBrbGFzcywgYXR0cmlidXRlICkge1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgZmFsc2UteSwganVzdCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXG4gICAgICAgICAgaWYgKCAhaXRlbSApIHJldHVybiAnJ1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgYW4gYXJyYXksIGRvIGEgam9pblxuICAgICAgICAgIGl0ZW0gPSAkJCQxLmlzQXJyYXkoIGl0ZW0gKSA/IGl0ZW0uam9pbiggJycgKSA6IGl0ZW07XG5cbiAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIGNsYXNzXG4gICAgICAgICAga2xhc3MgPSBrbGFzcyA/ICcgY2xhc3M9XCInICsga2xhc3MgKyAnXCInIDogJyc7XG5cbiAgICAgICAgICAvLyBDaGVjayBmb3IgYW55IGF0dHJpYnV0ZXNcbiAgICAgICAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGUgPyAnICcgKyBhdHRyaWJ1dGUgOiAnJztcblxuICAgICAgICAgIC8vIFJldHVybiB0aGUgd3JhcHBlZCBpdGVtXG4gICAgICAgICAgcmV0dXJuICc8JyArIHdyYXBwZXIgKyBrbGFzcyArIGF0dHJpYnV0ZSArICc+JyArIGl0ZW0gKyAnPC8nICsgd3JhcHBlciArICc+J1xuICAgICAgfSwgLy9ub2RlXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBMZWFkIG51bWJlcnMgYmVsb3cgMTAgd2l0aCBhIHplcm8uXG4gICAgICAgKi9cbiAgICAgIGxlYWQ6IGZ1bmN0aW9uKCBudW1iZXIgKSB7XG4gICAgICAgICAgcmV0dXJuICggbnVtYmVyIDwgMTAgPyAnMCc6ICcnICkgKyBudW1iZXJcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyIGEgZnVuY3Rpb24gb3RoZXJ3aXNlIHJldHVybiB0aGUgdmFsdWUuXG4gICAgICAgKi9cbiAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgc2NvcGUsIGFyZ3MgKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nID8gY2FsbGJhY2suYXBwbHkoIHNjb3BlLCBhcmdzIHx8IFtdICkgOiBjYWxsYmFja1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIElmIHRoZSBzZWNvbmQgY2hhcmFjdGVyIGlzIGEgZGlnaXQsIGxlbmd0aCBpcyAyIG90aGVyd2lzZSAxLlxuICAgICAgICovXG4gICAgICBkaWdpdHM6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG4gICAgICAgICAgcmV0dXJuICggL1xcZC8gKS50ZXN0KCBzdHJpbmdbIDEgXSApID8gMiA6IDFcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBUZWxsIGlmIHNvbWV0aGluZyBpcyBhIGRhdGUgb2JqZWN0LlxuICAgICAgICovXG4gICAgICBpc0RhdGU6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbCggdmFsdWUgKS5pbmRleE9mKCAnRGF0ZScgKSA+IC0xICYmIHRoaXMuaXNJbnRlZ2VyKCB2YWx1ZS5nZXREYXRlKCkgKVxuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRlbGwgaWYgc29tZXRoaW5nIGlzIGFuIGludGVnZXIuXG4gICAgICAgKi9cbiAgICAgIGlzSW50ZWdlcjogZnVuY3Rpb24oIHZhbHVlICkge1xuICAgICAgICAgIHJldHVybiB7fS50b1N0cmluZy5jYWxsKCB2YWx1ZSApLmluZGV4T2YoICdOdW1iZXInICkgPiAtMSAmJiB2YWx1ZSAlIDEgPT09IDBcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGUgQVJJQSBhdHRyaWJ1dGUgc3RyaW5ncy5cbiAgICAgICAqL1xuICAgICAgYXJpYUF0dHI6IGFyaWFBdHRyXG4gIH07IC8vUGlja2VyQ29uc3RydWN0b3IuX1xuXG5cblxuICAvKipcbiAgICogRXh0ZW5kIHRoZSBwaWNrZXIgd2l0aCBhIGNvbXBvbmVudCBhbmQgZGVmYXVsdHMuXG4gICAqL1xuICBQaWNrZXJDb25zdHJ1Y3Rvci5leHRlbmQgPSBmdW5jdGlvbiggbmFtZSwgQ29tcG9uZW50ICkge1xuXG4gICAgICAvLyBFeHRlbmQgalF1ZXJ5LlxuICAgICAgJCQkMS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMsIGFjdGlvbiApIHtcblxuICAgICAgICAgIC8vIEdyYWIgdGhlIGNvbXBvbmVudCBkYXRhLlxuICAgICAgICAgIHZhciBjb21wb25lbnREYXRhID0gdGhpcy5kYXRhKCBuYW1lICk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgcGlja2VyIGlzIHJlcXVlc3RlZCwgcmV0dXJuIHRoZSBkYXRhIG9iamVjdC5cbiAgICAgICAgICBpZiAoIG9wdGlvbnMgPT0gJ3BpY2tlcicgKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnREYXRhXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgdGhlIGNvbXBvbmVudCBkYXRhIGV4aXN0cyBhbmQgYG9wdGlvbnNgIGlzIGEgc3RyaW5nLCBjYXJyeSBvdXQgdGhlIGFjdGlvbi5cbiAgICAgICAgICBpZiAoIGNvbXBvbmVudERhdGEgJiYgdHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycgKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQaWNrZXJDb25zdHJ1Y3Rvci5fLnRyaWdnZXIoIGNvbXBvbmVudERhdGFbIG9wdGlvbnMgXSwgY29tcG9uZW50RGF0YSwgWyBhY3Rpb24gXSApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGdvIHRocm91Z2ggZWFjaCBtYXRjaGVkIGVsZW1lbnQgYW5kIGlmIHRoZSBjb21wb25lbnRcbiAgICAgICAgICAvLyBkb2VzbuKAmXQgZXhpc3QsIGNyZWF0ZSBhIG5ldyBwaWNrZXIgdXNpbmcgYHRoaXNgIGVsZW1lbnRcbiAgICAgICAgICAvLyBhbmQgbWVyZ2luZyB0aGUgZGVmYXVsdHMgYW5kIG9wdGlvbnMgd2l0aCBhIGRlZXAgY29weS5cbiAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCQkMSggdGhpcyApO1xuICAgICAgICAgICAgICBpZiAoICEkdGhpcy5kYXRhKCBuYW1lICkgKSB7XG4gICAgICAgICAgICAgICAgICBuZXcgUGlja2VyQ29uc3RydWN0b3IoIHRoaXMsIG5hbWUsIENvbXBvbmVudCwgb3B0aW9ucyApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH07XG5cbiAgICAgIC8vIFNldCB0aGUgZGVmYXVsdHMuXG4gICAgICAkJCQxLmZuWyBuYW1lIF0uZGVmYXVsdHMgPSBDb21wb25lbnQuZGVmYXVsdHM7XG4gIH07IC8vUGlja2VyQ29uc3RydWN0b3IuZXh0ZW5kXG5cblxuXG4gIGZ1bmN0aW9uIGFyaWEoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoYXR0cmlidXRlKSApIHtcbiAgICAgICAgICBmb3IgKCB2YXIga2V5IGluIGF0dHJpYnV0ZSApIHtcbiAgICAgICAgICAgICAgYXJpYVNldChlbGVtZW50LCBrZXksIGF0dHJpYnV0ZVtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgICBhcmlhU2V0KGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFyaWFTZXQoZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgKGF0dHJpYnV0ZSA9PSAncm9sZScgPyAnJyA6ICdhcmlhLScpICsgYXR0cmlidXRlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGFyaWFBdHRyKGF0dHJpYnV0ZSwgZGF0YSkge1xuICAgICAgaWYgKCAhJCQkMS5pc1BsYWluT2JqZWN0KGF0dHJpYnV0ZSkgKSB7XG4gICAgICAgICAgYXR0cmlidXRlID0geyBhdHRyaWJ1dGU6IGRhdGEgfTtcbiAgICAgIH1cbiAgICAgIGRhdGEgPSAnJztcbiAgICAgIGZvciAoIHZhciBrZXkgaW4gYXR0cmlidXRlICkge1xuICAgICAgICAgIHZhciBhdHRyID0gKGtleSA9PSAncm9sZScgPyAnJyA6ICdhcmlhLScpICsga2V5LFxuICAgICAgICAgICAgICBhdHRyVmFsID0gYXR0cmlidXRlW2tleV07XG4gICAgICAgICAgZGF0YSArPSBhdHRyVmFsID09IG51bGwgPyAnJyA6IGF0dHIgKyAnPVwiJyArIGF0dHJpYnV0ZVtrZXldICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhXG4gIH1cblxuICAvLyBJRTggYnVnIHRocm93cyBhbiBlcnJvciBmb3IgYWN0aXZlRWxlbWVudHMgd2l0aGluIGlmcmFtZXMuXG4gIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgICB9IGNhdGNoICggZXJyICkgeyB9XG4gIH1cblxuXG5cbiAgLy8gRXhwb3NlIHRoZSBwaWNrZXIgY29uc3RydWN0b3IuXG4gIHJldHVybiBQaWNrZXJDb25zdHJ1Y3RvclxuXG5cbiAgfSkpO1xuICB9KTtcblxuICB2YXIgcGlja2VyJDEgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgZGVmYXVsdDogcGlja2VyLFxuICAgIF9fbW9kdWxlRXhwb3J0czogcGlja2VyXG4gIH0pO1xuXG4gIHZhciByZXF1aXJlJCQwID0gKCBwaWNrZXIkMSAmJiBwaWNrZXIgKSB8fCBwaWNrZXIkMTtcblxuICB2YXIgcGlja2VyX2RhdGUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gIC8qIVxuICAgKiBEYXRlIHBpY2tlciBmb3IgcGlja2FkYXRlLmpzIHYzLjUuNlxuICAgKiBodHRwOi8vYW1zdWwuZ2l0aHViLmlvL3BpY2thZGF0ZS5qcy9kYXRlLmh0bVxuICAgKi9cblxuICAoZnVuY3Rpb24gKCBmYWN0b3J5ICkge1xuXG4gICAgICAvLyBBTUQuXG4gICAgICBpZiAoIHR5cGVvZiB1bmRlZmluZWQgPT0gJ2Z1bmN0aW9uJyAmJiB1bmRlZmluZWQuYW1kIClcbiAgICAgICAgICB1bmRlZmluZWQoIFsncGlja2VyJywgJ2pxdWVyeSddLCBmYWN0b3J5ICk7XG5cbiAgICAgIC8vIE5vZGUuanMvYnJvd3NlcmlmeS5cbiAgICAgIGVsc2UgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlJCQwLCAkICk7XG5cbiAgfShmdW5jdGlvbiggUGlja2VyLCAkJCQxICkge1xuXG5cbiAgLyoqXG4gICAqIEdsb2JhbHMgYW5kIGNvbnN0YW50c1xuICAgKi9cbiAgdmFyIERBWVNfSU5fV0VFSyA9IDcsXG4gICAgICBXRUVLU19JTl9DQUxFTkRBUiA9IDYsXG4gICAgICBfID0gUGlja2VyLl87XG5cblxuXG4gIC8qKlxuICAgKiBUaGUgZGF0ZSBwaWNrZXIgY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIERhdGVQaWNrZXIoIHBpY2tlciwgc2V0dGluZ3MgKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgZWxlbWVudCA9IHBpY2tlci4kbm9kZVsgMCBdLFxuICAgICAgICAgIGVsZW1lbnRWYWx1ZSA9IGVsZW1lbnQudmFsdWUsXG4gICAgICAgICAgZWxlbWVudERhdGFWYWx1ZSA9IHBpY2tlci4kbm9kZS5kYXRhKCAndmFsdWUnICksXG4gICAgICAgICAgdmFsdWVTdHJpbmcgPSBlbGVtZW50RGF0YVZhbHVlIHx8IGVsZW1lbnRWYWx1ZSxcbiAgICAgICAgICBmb3JtYXRTdHJpbmcgPSBlbGVtZW50RGF0YVZhbHVlID8gc2V0dGluZ3MuZm9ybWF0U3VibWl0IDogc2V0dGluZ3MuZm9ybWF0LFxuICAgICAgICAgIGlzUlRMID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlID9cblxuICAgICAgICAgICAgICAgICAgLy8gRm9yIElFLlxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5jdXJyZW50U3R5bGUuZGlyZWN0aW9uID09ICdydGwnIDpcblxuICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vcm1hbCBicm93c2Vycy5cbiAgICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoIHBpY2tlci4kcm9vdFswXSApLmRpcmVjdGlvbiA9PSAncnRsJ1xuICAgICAgICAgIH07XG5cbiAgICAgIGNhbGVuZGFyLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICBjYWxlbmRhci4kbm9kZSA9IHBpY2tlci4kbm9kZTtcblxuICAgICAgLy8gVGhlIHF1ZXVlIG9mIG1ldGhvZHMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gYnVpbGQgaXRlbSBvYmplY3RzLlxuICAgICAgY2FsZW5kYXIucXVldWUgPSB7XG4gICAgICAgICAgbWluOiAnbWVhc3VyZSBjcmVhdGUnLFxuICAgICAgICAgIG1heDogJ21lYXN1cmUgY3JlYXRlJyxcbiAgICAgICAgICBub3c6ICdub3cgY3JlYXRlJyxcbiAgICAgICAgICBzZWxlY3Q6ICdwYXJzZSBjcmVhdGUgdmFsaWRhdGUnLFxuICAgICAgICAgIGhpZ2hsaWdodDogJ3BhcnNlIG5hdmlnYXRlIGNyZWF0ZSB2YWxpZGF0ZScsXG4gICAgICAgICAgdmlldzogJ3BhcnNlIGNyZWF0ZSB2YWxpZGF0ZSB2aWV3c2V0JyxcbiAgICAgICAgICBkaXNhYmxlOiAnZGVhY3RpdmF0ZScsXG4gICAgICAgICAgZW5hYmxlOiAnYWN0aXZhdGUnXG4gICAgICB9O1xuXG4gICAgICAvLyBUaGUgY29tcG9uZW50J3MgaXRlbSBvYmplY3QuXG4gICAgICBjYWxlbmRhci5pdGVtID0ge307XG5cbiAgICAgIGNhbGVuZGFyLml0ZW0uY2xlYXIgPSBudWxsO1xuICAgICAgY2FsZW5kYXIuaXRlbS5kaXNhYmxlID0gKCBzZXR0aW5ncy5kaXNhYmxlIHx8IFtdICkuc2xpY2UoIDAgKTtcbiAgICAgIGNhbGVuZGFyLml0ZW0uZW5hYmxlID0gLShmdW5jdGlvbiggY29sbGVjdGlvbkRpc2FibGVkICkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uRGlzYWJsZWRbIDAgXSA9PT0gdHJ1ZSA/IGNvbGxlY3Rpb25EaXNhYmxlZC5zaGlmdCgpIDogLTFcbiAgICAgIH0pKCBjYWxlbmRhci5pdGVtLmRpc2FibGUgKTtcblxuICAgICAgY2FsZW5kYXIuXG4gICAgICAgICAgc2V0KCAnbWluJywgc2V0dGluZ3MubWluICkuXG4gICAgICAgICAgc2V0KCAnbWF4Jywgc2V0dGluZ3MubWF4ICkuXG4gICAgICAgICAgc2V0KCAnbm93JyApO1xuXG4gICAgICAvLyBXaGVuIHRoZXJl4oCZcyBhIHZhbHVlLCBzZXQgdGhlIGBzZWxlY3RgLCB3aGljaCBpbiB0dXJuXG4gICAgICAvLyBhbHNvIHNldHMgdGhlIGBoaWdobGlnaHRgIGFuZCBgdmlld2AuXG4gICAgICBpZiAoIHZhbHVlU3RyaW5nICkge1xuICAgICAgICAgIGNhbGVuZGFyLnNldCggJ3NlbGVjdCcsIHZhbHVlU3RyaW5nLCB7XG4gICAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0U3RyaW5nLFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmXigJlzIG5vIHZhbHVlLCBkZWZhdWx0IHRvIGhpZ2hsaWdodGluZyDigJx0b2RheeKAnS5cbiAgICAgIGVsc2Uge1xuICAgICAgICAgIGNhbGVuZGFyLlxuICAgICAgICAgICAgICBzZXQoICdzZWxlY3QnLCBudWxsICkuXG4gICAgICAgICAgICAgIHNldCggJ2hpZ2hsaWdodCcsIGNhbGVuZGFyLml0ZW0ubm93ICk7XG4gICAgICB9XG5cblxuICAgICAgLy8gVGhlIGtleWNvZGUgdG8gbW92ZW1lbnQgbWFwcGluZy5cbiAgICAgIGNhbGVuZGFyLmtleSA9IHtcbiAgICAgICAgICA0MDogNywgLy8gRG93blxuICAgICAgICAgIDM4OiAtNywgLy8gVXBcbiAgICAgICAgICAzOTogZnVuY3Rpb24oKSB7IHJldHVybiBpc1JUTCgpID8gLTEgOiAxIH0sIC8vIFJpZ2h0XG4gICAgICAgICAgMzc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaXNSVEwoKSA/IDEgOiAtMSB9LCAvLyBMZWZ0XG4gICAgICAgICAgZ286IGZ1bmN0aW9uKCB0aW1lQ2hhbmdlICkge1xuICAgICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ZWRPYmplY3QgPSBjYWxlbmRhci5pdGVtLmhpZ2hsaWdodCxcbiAgICAgICAgICAgICAgICAgIHRhcmdldERhdGUgPSBuZXcgRGF0ZSggaGlnaGxpZ2h0ZWRPYmplY3QueWVhciwgaGlnaGxpZ2h0ZWRPYmplY3QubW9udGgsIGhpZ2hsaWdodGVkT2JqZWN0LmRhdGUgKyB0aW1lQ2hhbmdlICk7XG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNldChcbiAgICAgICAgICAgICAgICAgICdoaWdobGlnaHQnLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSxcbiAgICAgICAgICAgICAgICAgIHsgaW50ZXJ2YWw6IHRpbWVDaGFuZ2UgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgLy8gQmluZCBzb21lIHBpY2tlciBldmVudHMuXG4gICAgICBwaWNrZXIuXG4gICAgICAgICAgb24oICdyZW5kZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcGlja2VyLiRyb290LmZpbmQoICcuJyArIHNldHRpbmdzLmtsYXNzLnNlbGVjdE1vbnRoICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlICkge1xuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5zZXQoICdoaWdobGlnaHQnLCBbIHBpY2tlci5nZXQoICd2aWV3JyApLnllYXIsIHZhbHVlLCBwaWNrZXIuZ2V0KCAnaGlnaGxpZ2h0JyApLmRhdGUgXSApO1xuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RNb250aCApLnRyaWdnZXIoICdmb2N1cycgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHBpY2tlci4kcm9vdC5maW5kKCAnLicgKyBzZXR0aW5ncy5rbGFzcy5zZWxlY3RZZWFyICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICBpZiAoIHZhbHVlICkge1xuICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5zZXQoICdoaWdobGlnaHQnLCBbIHZhbHVlLCBwaWNrZXIuZ2V0KCAndmlldycgKS5tb250aCwgcGlja2VyLmdldCggJ2hpZ2hsaWdodCcgKS5kYXRlIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuJHJvb3QuZmluZCggJy4nICsgc2V0dGluZ3Mua2xhc3Muc2VsZWN0WWVhciApLnRyaWdnZXIoICdmb2N1cycgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMSApLlxuICAgICAgICAgIG9uKCAnb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXIgaW5jbHVkZVRvZGF5ID0gJyc7XG4gICAgICAgICAgICAgIGlmICggY2FsZW5kYXIuZGlzYWJsZWQoIGNhbGVuZGFyLmdldCgnbm93JykgKSApIHtcbiAgICAgICAgICAgICAgICAgIGluY2x1ZGVUb2RheSA9ICc6bm90KC4nICsgc2V0dGluZ3Mua2xhc3MuYnV0dG9uVG9kYXkgKyAnKSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGlja2VyLiRyb290LmZpbmQoICdidXR0b24nICsgaW5jbHVkZVRvZGF5ICsgJywgc2VsZWN0JyApLmF0dHIoICdkaXNhYmxlZCcsIGZhbHNlICk7XG4gICAgICAgICAgfSwgMSApLlxuICAgICAgICAgIG9uKCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcGlja2VyLiRyb290LmZpbmQoICdidXR0b24sIHNlbGVjdCcgKS5hdHRyKCAnZGlzYWJsZWQnLCB0cnVlICk7XG4gICAgICAgICAgfSwgMSApO1xuXG4gIH0gLy9EYXRlUGlja2VyXG5cblxuICAvKipcbiAgICogU2V0IGEgZGF0ZXBpY2tlciBpdGVtIG9iamVjdC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICBjYWxlbmRhckl0ZW0gPSBjYWxlbmRhci5pdGVtO1xuXG4gICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYG51bGxgIGp1c3Qgc2V0IGl0IGltbWVkaWF0ZWx5LlxuICAgICAgaWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcbiAgICAgICAgICBpZiAoIHR5cGUgPT0gJ2NsZWFyJyApIHR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgICBjYWxlbmRhckl0ZW1bIHR5cGUgXSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBjYWxlbmRhclxuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UgZ28gdGhyb3VnaCB0aGUgcXVldWUgb2YgbWV0aG9kcywgYW5kIGludm9rZSB0aGUgZnVuY3Rpb25zLlxuICAgICAgLy8gVXBkYXRlIHRoaXMgYXMgdGhlIHRpbWUgdW5pdCwgYW5kIHNldCB0aGUgZmluYWwgdmFsdWUgYXMgdGhpcyBpdGVtLlxuICAgICAgLy8gKiBJbiB0aGUgY2FzZSBvZiBgZW5hYmxlYCwga2VlcCB0aGUgcXVldWUgYnV0IHNldCBgZGlzYWJsZWAgaW5zdGVhZC5cbiAgICAgIC8vICAgQW5kIGluIHRoZSBjYXNlIG9mIGBmbGlwYCwga2VlcCB0aGUgcXVldWUgYnV0IHNldCBgZW5hYmxlYCBpbnN0ZWFkLlxuICAgICAgY2FsZW5kYXJJdGVtWyAoIHR5cGUgPT0gJ2VuYWJsZScgPyAnZGlzYWJsZScgOiB0eXBlID09ICdmbGlwJyA/ICdlbmFibGUnIDogdHlwZSApIF0gPSBjYWxlbmRhci5xdWV1ZVsgdHlwZSBdLnNwbGl0KCAnICcgKS5tYXAoIGZ1bmN0aW9uKCBtZXRob2QgKSB7XG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhclsgbWV0aG9kIF0oIHR5cGUsIHZhbHVlLCBvcHRpb25zICk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICB9KS5wb3AoKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBjYXNjYWRlIHRocm91Z2ggbW9yZSB1cGRhdGVzLlxuICAgICAgaWYgKCB0eXBlID09ICdzZWxlY3QnICkge1xuICAgICAgICAgIGNhbGVuZGFyLnNldCggJ2hpZ2hsaWdodCcsIGNhbGVuZGFySXRlbS5zZWxlY3QsIG9wdGlvbnMgKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCB0eXBlID09ICdoaWdobGlnaHQnICkge1xuICAgICAgICAgIGNhbGVuZGFyLnNldCggJ3ZpZXcnLCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0LCBvcHRpb25zICk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICggdHlwZS5tYXRjaCggL14oZmxpcHxtaW58bWF4fGRpc2FibGV8ZW5hYmxlKSQvICkgKSB7XG4gICAgICAgICAgaWYgKCBjYWxlbmRhckl0ZW0uc2VsZWN0ICYmIGNhbGVuZGFyLmRpc2FibGVkKCBjYWxlbmRhckl0ZW0uc2VsZWN0ICkgKSB7XG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNldCggJ3NlbGVjdCcsIGNhbGVuZGFySXRlbS5zZWxlY3QsIG9wdGlvbnMgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0ICYmIGNhbGVuZGFyLmRpc2FibGVkKCBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0ICkgKSB7XG4gICAgICAgICAgICAgIGNhbGVuZGFyLnNldCggJ2hpZ2hsaWdodCcsIGNhbGVuZGFySXRlbS5oaWdobGlnaHQsIG9wdGlvbnMgKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxlbmRhclxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLnNldFxuXG5cbiAgLyoqXG4gICAqIEdldCBhIGRhdGVwaWNrZXIgaXRlbSBvYmplY3QuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiggdHlwZSApIHtcbiAgICAgIHJldHVybiB0aGlzLml0ZW1bIHR5cGUgXVxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmdldFxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHBpY2tlciBkYXRlIG9iamVjdC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKCB0eXBlLCB2YWx1ZSwgb3B0aW9ucyApIHtcblxuICAgICAgdmFyIGlzSW5maW5pdGVWYWx1ZSxcbiAgICAgICAgICBjYWxlbmRhciA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZXJl4oCZcyBubyB2YWx1ZSwgdXNlIHRoZSB0eXBlIGFzIHRoZSB2YWx1ZS5cbiAgICAgIHZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHR5cGUgOiB2YWx1ZTtcblxuXG4gICAgICAvLyBJZiBpdOKAmXMgaW5maW5pdHksIHVwZGF0ZSB0aGUgdmFsdWUuXG4gICAgICBpZiAoIHZhbHVlID09IC1JbmZpbml0eSB8fCB2YWx1ZSA9PSBJbmZpbml0eSApIHtcbiAgICAgICAgICBpc0luZmluaXRlVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXTigJlzIGFuIG9iamVjdCwgdXNlIHRoZSBuYXRpdmUgZGF0ZSBvYmplY3QuXG4gICAgICBlbHNlIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KCB2YWx1ZSApICYmIF8uaXNJbnRlZ2VyKCB2YWx1ZS5waWNrICkgKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5vYmo7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl04oCZcyBhbiBhcnJheSwgY29udmVydCBpdCBpbnRvIGEgZGF0ZSBhbmQgbWFrZSBzdXJlXG4gICAgICAvLyB0aGF0IGl04oCZcyBhIHZhbGlkIGRhdGUg4oCTIG90aGVyd2lzZSBkZWZhdWx0IHRvIHRvZGF5LlxuICAgICAgZWxzZSBpZiAoICQkJDEuaXNBcnJheSggdmFsdWUgKSApIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKCB2YWx1ZVsgMCBdLCB2YWx1ZVsgMSBdLCB2YWx1ZVsgMiBdICk7XG4gICAgICAgICAgdmFsdWUgPSBfLmlzRGF0ZSggdmFsdWUgKSA/IHZhbHVlIDogY2FsZW5kYXIuY3JlYXRlKCkub2JqO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdOKAmXMgYSBudW1iZXIgb3IgZGF0ZSBvYmplY3QsIG1ha2UgYSBub3JtYWxpemVkIGRhdGUuXG4gICAgICBlbHNlIGlmICggXy5pc0ludGVnZXIoIHZhbHVlICkgfHwgXy5pc0RhdGUoIHZhbHVlICkgKSB7XG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhci5ub3JtYWxpemUoIG5ldyBEYXRlKCB2YWx1ZSApLCBvcHRpb25zICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl04oCZcyBhIGxpdGVyYWwgdHJ1ZSBvciBhbnkgb3RoZXIgY2FzZSwgc2V0IGl0IHRvIG5vdy5cbiAgICAgIGVsc2UgLyppZiAoIHZhbHVlID09PSB0cnVlICkqLyB7XG4gICAgICAgICAgdmFsdWUgPSBjYWxlbmRhci5ub3coIHR5cGUsIHZhbHVlLCBvcHRpb25zICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiB0aGUgY29tcGlsZWQgb2JqZWN0LlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB5ZWFyOiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldE1vbnRoKCksXG4gICAgICAgICAgZGF0ZTogaXNJbmZpbml0ZVZhbHVlIHx8IHZhbHVlLmdldERhdGUoKSxcbiAgICAgICAgICBkYXk6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZS5nZXREYXkoKSxcbiAgICAgICAgICBvYmo6IGlzSW5maW5pdGVWYWx1ZSB8fCB2YWx1ZSxcbiAgICAgICAgICBwaWNrOiBpc0luZmluaXRlVmFsdWUgfHwgdmFsdWUuZ2V0VGltZSgpXG4gICAgICB9XG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuY3JlYXRlXG5cblxuICAvKipcbiAgICogQ3JlYXRlIGEgcmFuZ2UgbGltaXQgb2JqZWN0IHVzaW5nIGFuIGFycmF5LCBkYXRlIG9iamVjdCxcbiAgICogbGl0ZXJhbCDigJx0cnVl4oCdLCBvciBpbnRlZ2VyIHJlbGF0aXZlIHRvIGFub3RoZXIgdGltZS5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmNyZWF0ZVJhbmdlID0gZnVuY3Rpb24oIGZyb20sIHRvICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIGNyZWF0ZURhdGUgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICAgICAgICAgICAgaWYgKCBkYXRlID09PSB0cnVlIHx8ICQkJDEuaXNBcnJheSggZGF0ZSApIHx8IF8uaXNEYXRlKCBkYXRlICkgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuY3JlYXRlKCBkYXRlIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZGF0ZVxuICAgICAgICAgIH07XG5cbiAgICAgIC8vIENyZWF0ZSBvYmplY3RzIGlmIHBvc3NpYmxlLlxuICAgICAgaWYgKCAhXy5pc0ludGVnZXIoIGZyb20gKSApIHtcbiAgICAgICAgICBmcm9tID0gY3JlYXRlRGF0ZSggZnJvbSApO1xuICAgICAgfVxuICAgICAgaWYgKCAhXy5pc0ludGVnZXIoIHRvICkgKSB7XG4gICAgICAgICAgdG8gPSBjcmVhdGVEYXRlKCB0byApO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcmVsYXRpdmUgZGF0ZXMuXG4gICAgICBpZiAoIF8uaXNJbnRlZ2VyKCBmcm9tICkgJiYgJCQkMS5pc1BsYWluT2JqZWN0KCB0byApICkge1xuICAgICAgICAgIGZyb20gPSBbIHRvLnllYXIsIHRvLm1vbnRoLCB0by5kYXRlICsgZnJvbSBdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIF8uaXNJbnRlZ2VyKCB0byApICYmICQkJDEuaXNQbGFpbk9iamVjdCggZnJvbSApICkge1xuICAgICAgICAgIHRvID0gWyBmcm9tLnllYXIsIGZyb20ubW9udGgsIGZyb20uZGF0ZSArIHRvIF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnJvbTogY3JlYXRlRGF0ZSggZnJvbSApLFxuICAgICAgICAgIHRvOiBjcmVhdGVEYXRlKCB0byApXG4gICAgICB9XG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUuY3JlYXRlUmFuZ2VcblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGRhdGUgdW5pdCBmYWxscyB3aXRoaW4gYSBkYXRlIHJhbmdlIG9iamVjdC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLndpdGhpblJhbmdlID0gZnVuY3Rpb24oIHJhbmdlLCBkYXRlVW5pdCApIHtcbiAgICAgIHJhbmdlID0gdGhpcy5jcmVhdGVSYW5nZShyYW5nZS5mcm9tLCByYW5nZS50byk7XG4gICAgICByZXR1cm4gZGF0ZVVuaXQucGljayA+PSByYW5nZS5mcm9tLnBpY2sgJiYgZGF0ZVVuaXQucGljayA8PSByYW5nZS50by5waWNrXG4gIH07XG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdHdvIGRhdGUgcmFuZ2Ugb2JqZWN0cyBvdmVybGFwLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUub3ZlcmxhcFJhbmdlcyA9IGZ1bmN0aW9uKCBvbmUsIHR3byApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcztcblxuICAgICAgLy8gQ29udmVydCB0aGUgcmFuZ2VzIGludG8gY29tcGFyYWJsZSBkYXRlcy5cbiAgICAgIG9uZSA9IGNhbGVuZGFyLmNyZWF0ZVJhbmdlKCBvbmUuZnJvbSwgb25lLnRvICk7XG4gICAgICB0d28gPSBjYWxlbmRhci5jcmVhdGVSYW5nZSggdHdvLmZyb20sIHR3by50byApO1xuXG4gICAgICByZXR1cm4gY2FsZW5kYXIud2l0aGluUmFuZ2UoIG9uZSwgdHdvLmZyb20gKSB8fCBjYWxlbmRhci53aXRoaW5SYW5nZSggb25lLCB0d28udG8gKSB8fFxuICAgICAgICAgIGNhbGVuZGFyLndpdGhpblJhbmdlKCB0d28sIG9uZS5mcm9tICkgfHwgY2FsZW5kYXIud2l0aGluUmFuZ2UoIHR3bywgb25lLnRvIClcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRhdGUgdG9kYXkuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5ub3cgPSBmdW5jdGlvbiggdHlwZSwgdmFsdWUsIG9wdGlvbnMgKSB7XG4gICAgICB2YWx1ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5yZWwgKSB7XG4gICAgICAgICAgdmFsdWUuc2V0RGF0ZSggdmFsdWUuZ2V0RGF0ZSgpICsgb3B0aW9ucy5yZWwgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggdmFsdWUsIG9wdGlvbnMgKVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIG5leHQvcHJldiBtb250aC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm5hdmlnYXRlID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlLCBvcHRpb25zICkge1xuXG4gICAgICB2YXIgdGFyZ2V0RGF0ZU9iamVjdCxcbiAgICAgICAgICB0YXJnZXRZZWFyLFxuICAgICAgICAgIHRhcmdldE1vbnRoLFxuICAgICAgICAgIHRhcmdldERhdGUsXG4gICAgICAgICAgaXNUYXJnZXRBcnJheSA9ICQkJDEuaXNBcnJheSggdmFsdWUgKSxcbiAgICAgICAgICBpc1RhcmdldE9iamVjdCA9ICQkJDEuaXNQbGFpbk9iamVjdCggdmFsdWUgKSxcbiAgICAgICAgICB2aWV3c2V0T2JqZWN0ID0gdGhpcy5pdGVtLnZpZXc7LyosXG4gICAgICAgICAgc2FmZXR5ID0gMTAwKi9cblxuXG4gICAgICBpZiAoIGlzVGFyZ2V0QXJyYXkgfHwgaXNUYXJnZXRPYmplY3QgKSB7XG5cbiAgICAgICAgICBpZiAoIGlzVGFyZ2V0T2JqZWN0ICkge1xuICAgICAgICAgICAgICB0YXJnZXRZZWFyID0gdmFsdWUueWVhcjtcbiAgICAgICAgICAgICAgdGFyZ2V0TW9udGggPSB2YWx1ZS5tb250aDtcbiAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9IHZhbHVlLmRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRZZWFyID0gK3ZhbHVlWzBdO1xuICAgICAgICAgICAgICB0YXJnZXRNb250aCA9ICt2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgdGFyZ2V0RGF0ZSA9ICt2YWx1ZVsyXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB3ZeKAmXJlIG5hdmlnYXRpbmcgbW9udGhzIGJ1dCB0aGUgdmlldyBpcyBpbiBhIGRpZmZlcmVudFxuICAgICAgICAgIC8vIG1vbnRoLCBuYXZpZ2F0ZSB0byB0aGUgdmlld+KAmXMgeWVhciBhbmQgbW9udGguXG4gICAgICAgICAgaWYgKCBvcHRpb25zICYmIG9wdGlvbnMubmF2ICYmIHZpZXdzZXRPYmplY3QgJiYgdmlld3NldE9iamVjdC5tb250aCAhPT0gdGFyZ2V0TW9udGggKSB7XG4gICAgICAgICAgICAgIHRhcmdldFllYXIgPSB2aWV3c2V0T2JqZWN0LnllYXI7XG4gICAgICAgICAgICAgIHRhcmdldE1vbnRoID0gdmlld3NldE9iamVjdC5tb250aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGaWd1cmUgb3V0IHRoZSBleHBlY3RlZCB0YXJnZXQgeWVhciBhbmQgbW9udGguXG4gICAgICAgICAgdGFyZ2V0RGF0ZU9iamVjdCA9IG5ldyBEYXRlKCB0YXJnZXRZZWFyLCB0YXJnZXRNb250aCArICggb3B0aW9ucyAmJiBvcHRpb25zLm5hdiA/IG9wdGlvbnMubmF2IDogMCApLCAxICk7XG4gICAgICAgICAgdGFyZ2V0WWVhciA9IHRhcmdldERhdGVPYmplY3QuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICB0YXJnZXRNb250aCA9IHRhcmdldERhdGVPYmplY3QuZ2V0TW9udGgoKTtcblxuICAgICAgICAgIC8vIElmIHRoZSBtb250aCB3ZeKAmXJlIGdvaW5nIHRvIGRvZXNu4oCZdCBoYXZlIGVub3VnaCBkYXlzLFxuICAgICAgICAgIC8vIGtlZXAgZGVjcmVhc2luZyB0aGUgZGF0ZSB1bnRpbCB3ZSByZWFjaCB0aGUgbW9udGjigJlzIGxhc3QgZGF0ZS5cbiAgICAgICAgICB3aGlsZSAoIC8qc2FmZXR5ICYmKi8gbmV3IERhdGUoIHRhcmdldFllYXIsIHRhcmdldE1vbnRoLCB0YXJnZXREYXRlICkuZ2V0TW9udGgoKSAhPT0gdGFyZ2V0TW9udGggKSB7XG4gICAgICAgICAgICAgIHRhcmdldERhdGUgLT0gMTtcbiAgICAgICAgICAgICAgLypzYWZldHkgLT0gMVxuICAgICAgICAgICAgICBpZiAoICFzYWZldHkgKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAnRmVsbCBpbnRvIGFuIGluZmluaXRlIGxvb3Agd2hpbGUgbmF2aWdhdGluZyB0byAnICsgbmV3IERhdGUoIHRhcmdldFllYXIsIHRhcmdldE1vbnRoLCB0YXJnZXREYXRlICkgKyAnLidcbiAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBbIHRhcmdldFllYXIsIHRhcmdldE1vbnRoLCB0YXJnZXREYXRlIF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZVxuICB9OyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLm5hdmlnYXRlXG5cblxuICAvKipcbiAgICogTm9ybWFsaXplIGEgZGF0ZSBieSBzZXR0aW5nIHRoZSBob3VycyB0byBtaWRuaWdodC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCB2YWx1ZS8qLCBvcHRpb25zKi8gKSB7XG4gICAgICB2YWx1ZS5zZXRIb3VycyggMCwgMCwgMCwgMCApO1xuICAgICAgcmV0dXJuIHZhbHVlXG4gIH07XG5cblxuICAvKipcbiAgICogTWVhc3VyZSB0aGUgcmFuZ2Ugb2YgZGF0ZXMuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5tZWFzdXJlID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlLyosIG9wdGlvbnMqLyApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcztcblxuICAgICAgLy8gSWYgaXTigJlzIGFueXRoaW5nIGZhbHNlLXksIHJlbW92ZSB0aGUgbGltaXRzLlxuICAgICAgaWYgKCAhdmFsdWUgKSB7XG4gICAgICAgICAgdmFsdWUgPSB0eXBlID09ICdtaW4nID8gLUluZmluaXR5IDogSW5maW5pdHk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl04oCZcyBhIHN0cmluZywgcGFyc2UgaXQuXG4gICAgICBlbHNlIGlmICggdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICkge1xuICAgICAgICAgIHZhbHVlID0gY2FsZW5kYXIucGFyc2UoIHR5cGUsIHZhbHVlICk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0J3MgYW4gaW50ZWdlciwgZ2V0IGEgZGF0ZSByZWxhdGl2ZSB0byB0b2RheS5cbiAgICAgIGVsc2UgaWYgKCBfLmlzSW50ZWdlciggdmFsdWUgKSApIHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGVuZGFyLm5vdyggdHlwZSwgdmFsdWUsIHsgcmVsOiB2YWx1ZSB9ICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZVxuICB9OyAvLy9EYXRlUGlja2VyLnByb3RvdHlwZS5tZWFzdXJlXG5cblxuICAvKipcbiAgICogQ3JlYXRlIGEgdmlld3NldCBvYmplY3QgYmFzZWQgb24gbmF2aWdhdGlvbi5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnZpZXdzZXQgPSBmdW5jdGlvbiggdHlwZSwgZGF0ZU9iamVjdC8qLCBvcHRpb25zKi8gKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGUoWyBkYXRlT2JqZWN0LnllYXIsIGRhdGVPYmplY3QubW9udGgsIDEgXSlcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIGRhdGUgYXMgZW5hYmxlZCBhbmQgc2hpZnQgaWYgbmVlZGVkLlxuICAgKi9cbiAgRGF0ZVBpY2tlci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiggdHlwZSwgZGF0ZU9iamVjdCwgb3B0aW9ucyApIHtcblxuICAgICAgdmFyIGNhbGVuZGFyID0gdGhpcyxcblxuICAgICAgICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIGRhdGUuXG4gICAgICAgICAgb3JpZ2luYWxEYXRlT2JqZWN0ID0gZGF0ZU9iamVjdCxcblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGFuIGludGVydmFsLlxuICAgICAgICAgIGludGVydmFsID0gb3B0aW9ucyAmJiBvcHRpb25zLmludGVydmFsID8gb3B0aW9ucy5pbnRlcnZhbCA6IDEsXG5cbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FsZW5kYXIgZW5hYmxlZCBkYXRlcyBhcmUgaW52ZXJ0ZWQuXG4gICAgICAgICAgaXNGbGlwcGVkQmFzZSA9IGNhbGVuZGFyLml0ZW0uZW5hYmxlID09PSAtMSxcblxuICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYW55IGVuYWJsZWQgZGF0ZXMgYWZ0ZXIvYmVmb3JlIG5vdy5cbiAgICAgICAgICBoYXNFbmFibGVkQmVmb3JlVGFyZ2V0LCBoYXNFbmFibGVkQWZ0ZXJUYXJnZXQsXG5cbiAgICAgICAgICAvLyBUaGUgbWluICYgbWF4IGxpbWl0cy5cbiAgICAgICAgICBtaW5MaW1pdE9iamVjdCA9IGNhbGVuZGFyLml0ZW0ubWluLFxuICAgICAgICAgIG1heExpbWl0T2JqZWN0ID0gY2FsZW5kYXIuaXRlbS5tYXgsXG5cbiAgICAgICAgICAvLyBDaGVjayBpZiB3ZeKAmXZlIHJlYWNoZWQgdGhlIGxpbWl0IGR1cmluZyBzaGlmdGluZy5cbiAgICAgICAgICByZWFjaGVkTWluLCByZWFjaGVkTWF4LFxuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbGVuZGFyIGlzIGludmVydGVkIGFuZCBhdCBsZWFzdCBvbmUgd2Vla2RheSBpcyBlbmFibGVkLlxuICAgICAgICAgIGhhc0VuYWJsZWRXZWVrZGF5cyA9IGlzRmxpcHBlZEJhc2UgJiYgY2FsZW5kYXIuaXRlbS5kaXNhYmxlLmZpbHRlciggZnVuY3Rpb24oIHZhbHVlICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJl4oCZcyBhIGRhdGUsIGNoZWNrIHdoZXJlIGl0IGlzIHJlbGF0aXZlIHRvIHRoZSB0YXJnZXQuXG4gICAgICAgICAgICAgIGlmICggJCQkMS5pc0FycmF5KCB2YWx1ZSApICkge1xuICAgICAgICAgICAgICAgICAgdmFyIGRhdGVUaW1lID0gY2FsZW5kYXIuY3JlYXRlKCB2YWx1ZSApLnBpY2s7XG4gICAgICAgICAgICAgICAgICBpZiAoIGRhdGVUaW1lIDwgZGF0ZU9iamVjdC5waWNrICkgaGFzRW5hYmxlZEJlZm9yZVRhcmdldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICggZGF0ZVRpbWUgPiBkYXRlT2JqZWN0LnBpY2sgKSBoYXNFbmFibGVkQWZ0ZXJUYXJnZXQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gUmV0dXJuIG9ubHkgaW50ZWdlcnMgZm9yIGVuYWJsZWQgd2Vla2RheXMuXG4gICAgICAgICAgICAgIHJldHVybiBfLmlzSW50ZWdlciggdmFsdWUgKVxuICAgICAgICAgIH0pLmxlbmd0aDsvKixcblxuICAgICAgICAgIHNhZmV0eSA9IDEwMCovXG5cblxuXG4gICAgICAvLyBDYXNlcyB0byB2YWxpZGF0ZSBmb3I6XG4gICAgICAvLyBbMV0gTm90IGludmVydGVkIGFuZCBkYXRlIGRpc2FibGVkLlxuICAgICAgLy8gWzJdIEludmVydGVkIGFuZCBzb21lIGRhdGVzIGVuYWJsZWQuXG4gICAgICAvLyBbM10gTm90IGludmVydGVkIGFuZCBvdXQgb2YgcmFuZ2UuXG4gICAgICAvL1xuICAgICAgLy8gQ2FzZXMgdG8gKipub3QqKiB2YWxpZGF0ZSBmb3I6XG4gICAgICAvLyDigKIgTmF2aWdhdGluZyBtb250aHMuXG4gICAgICAvLyDigKIgTm90IGludmVydGVkIGFuZCBkYXRlIGVuYWJsZWQuXG4gICAgICAvLyDigKIgSW52ZXJ0ZWQgYW5kIGFsbCBkYXRlcyBkaXNhYmxlZC5cbiAgICAgIC8vIOKAoiAuLmFuZCBhbnl0aGluZyBlbHNlLlxuICAgICAgaWYgKCAhb3B0aW9ucyB8fCAoIW9wdGlvbnMubmF2ICYmICFvcHRpb25zLmRlZmF1bHRWYWx1ZSkgKSBpZiAoXG4gICAgICAgICAgLyogMSAqLyAoICFpc0ZsaXBwZWRCYXNlICYmIGNhbGVuZGFyLmRpc2FibGVkKCBkYXRlT2JqZWN0ICkgKSB8fFxuICAgICAgICAgIC8qIDIgKi8gKCBpc0ZsaXBwZWRCYXNlICYmIGNhbGVuZGFyLmRpc2FibGVkKCBkYXRlT2JqZWN0ICkgJiYgKCBoYXNFbmFibGVkV2Vla2RheXMgfHwgaGFzRW5hYmxlZEJlZm9yZVRhcmdldCB8fCBoYXNFbmFibGVkQWZ0ZXJUYXJnZXQgKSApIHx8XG4gICAgICAgICAgLyogMyAqLyAoICFpc0ZsaXBwZWRCYXNlICYmIChkYXRlT2JqZWN0LnBpY2sgPD0gbWluTGltaXRPYmplY3QucGljayB8fCBkYXRlT2JqZWN0LnBpY2sgPj0gbWF4TGltaXRPYmplY3QucGljaykgKVxuICAgICAgKSB7XG5cblxuICAgICAgICAgIC8vIFdoZW4gaW52ZXJ0ZWQsIGZsaXAgdGhlIGRpcmVjdGlvbiBpZiB0aGVyZSBhcmVu4oCZdCBhbnkgZW5hYmxlZCB3ZWVrZGF5c1xuICAgICAgICAgIC8vIGFuZCB0aGVyZSBhcmUgbm8gZW5hYmxlZCBkYXRlcyBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBpbnRlcnZhbC5cbiAgICAgICAgICBpZiAoIGlzRmxpcHBlZEJhc2UgJiYgIWhhc0VuYWJsZWRXZWVrZGF5cyAmJiAoICggIWhhc0VuYWJsZWRBZnRlclRhcmdldCAmJiBpbnRlcnZhbCA+IDAgKSB8fCAoICFoYXNFbmFibGVkQmVmb3JlVGFyZ2V0ICYmIGludGVydmFsIDwgMCApICkgKSB7XG4gICAgICAgICAgICAgIGludGVydmFsICo9IC0xO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgLy8gS2VlcCBsb29waW5nIHVudGlsIHdlIHJlYWNoIGFuIGVuYWJsZWQgZGF0ZS5cbiAgICAgICAgICB3aGlsZSAoIC8qc2FmZXR5ICYmKi8gY2FsZW5kYXIuZGlzYWJsZWQoIGRhdGVPYmplY3QgKSApIHtcblxuICAgICAgICAgICAgICAvKnNhZmV0eSAtPSAxXG4gICAgICAgICAgICAgIGlmICggIXNhZmV0eSApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93ICdGZWxsIGludG8gYW4gaW5maW5pdGUgbG9vcCB3aGlsZSB2YWxpZGF0aW5nICcgKyBkYXRlT2JqZWN0Lm9iaiArICcuJ1xuICAgICAgICAgICAgICB9Ki9cblxuXG4gICAgICAgICAgICAgIC8vIElmIHdl4oCZdmUgbG9vcGVkIGludG8gdGhlIG5leHQvcHJldiBtb250aCB3aXRoIGEgbGFyZ2UgaW50ZXJ2YWwsIHJldHVybiB0byB0aGUgb3JpZ2luYWwgZGF0ZSBhbmQgZmxhdHRlbiB0aGUgaW50ZXJ2YWwuXG4gICAgICAgICAgICAgIGlmICggTWF0aC5hYnMoIGludGVydmFsICkgPiAxICYmICggZGF0ZU9iamVjdC5tb250aCA8IG9yaWdpbmFsRGF0ZU9iamVjdC5tb250aCB8fCBkYXRlT2JqZWN0Lm1vbnRoID4gb3JpZ2luYWxEYXRlT2JqZWN0Lm1vbnRoICkgKSB7XG4gICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gb3JpZ2luYWxEYXRlT2JqZWN0O1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCA+IDAgPyAxIDogLTE7XG4gICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgIC8vIElmIHdl4oCZdmUgcmVhY2hlZCB0aGUgbWluL21heCBsaW1pdCwgcmV2ZXJzZSB0aGUgZGlyZWN0aW9uLCBmbGF0dGVuIHRoZSBpbnRlcnZhbCBhbmQgc2V0IGl0IHRvIHRoZSBsaW1pdC5cbiAgICAgICAgICAgICAgaWYgKCBkYXRlT2JqZWN0LnBpY2sgPD0gbWluTGltaXRPYmplY3QucGljayApIHtcbiAgICAgICAgICAgICAgICAgIHJlYWNoZWRNaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSAxO1xuICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IGNhbGVuZGFyLmNyZWF0ZShbXG4gICAgICAgICAgICAgICAgICAgICAgbWluTGltaXRPYmplY3QueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICBtaW5MaW1pdE9iamVjdC5tb250aCxcbiAgICAgICAgICAgICAgICAgICAgICBtaW5MaW1pdE9iamVjdC5kYXRlICsgKGRhdGVPYmplY3QucGljayA9PT0gbWluTGltaXRPYmplY3QucGljayA/IDAgOiAtMSlcbiAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKCBkYXRlT2JqZWN0LnBpY2sgPj0gbWF4TGltaXRPYmplY3QucGljayApIHtcbiAgICAgICAgICAgICAgICAgIHJlYWNoZWRNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSAtMTtcbiAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBjYWxlbmRhci5jcmVhdGUoW1xuICAgICAgICAgICAgICAgICAgICAgIG1heExpbWl0T2JqZWN0LnllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4TGltaXRPYmplY3QubW9udGgsXG4gICAgICAgICAgICAgICAgICAgICAgbWF4TGltaXRPYmplY3QuZGF0ZSArIChkYXRlT2JqZWN0LnBpY2sgPT09IG1heExpbWl0T2JqZWN0LnBpY2sgPyAwIDogMSlcbiAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAvLyBJZiB3ZeKAmXZlIHJlYWNoZWQgYm90aCBsaW1pdHMsIGp1c3QgYnJlYWsgb3V0IG9mIHRoZSBsb29wLlxuICAgICAgICAgICAgICBpZiAoIHJlYWNoZWRNaW4gJiYgcmVhY2hlZE1heCApIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgIC8vIEZpbmFsbHksIGNyZWF0ZSB0aGUgc2hpZnRlZCBkYXRlIHVzaW5nIHRoZSBpbnRlcnZhbCBhbmQga2VlcCBsb29waW5nLlxuICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gY2FsZW5kYXIuY3JlYXRlKFsgZGF0ZU9iamVjdC55ZWFyLCBkYXRlT2JqZWN0Lm1vbnRoLCBkYXRlT2JqZWN0LmRhdGUgKyBpbnRlcnZhbCBdKTtcbiAgICAgICAgICB9XG5cbiAgICAgIH0gLy9lbmRpZlxuXG5cbiAgICAgIC8vIFJldHVybiB0aGUgZGF0ZSBvYmplY3Qgc2V0dGxlZCBvbi5cbiAgICAgIHJldHVybiBkYXRlT2JqZWN0XG4gIH07IC8vRGF0ZVBpY2tlci5wcm90b3R5cGUudmFsaWRhdGVcblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGRhdGUgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5kaXNhYmxlZCA9IGZ1bmN0aW9uKCBkYXRlVG9WZXJpZnkgKSB7XG5cbiAgICAgIHZhclxuICAgICAgICAgIGNhbGVuZGFyID0gdGhpcyxcblxuICAgICAgICAgIC8vIEZpbHRlciB0aHJvdWdoIHRoZSBkaXNhYmxlZCBkYXRlcyB0byBjaGVjayBpZiB0aGlzIGlzIG9uZS5cbiAgICAgICAgICBpc0Rpc2FibGVkTWF0Y2ggPSBjYWxlbmRhci5pdGVtLmRpc2FibGUuZmlsdGVyKCBmdW5jdGlvbiggZGF0ZVRvRGlzYWJsZSApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGUgZGF0ZSBpcyBhIG51bWJlciwgbWF0Y2ggdGhlIHdlZWtkYXkgd2l0aCAwaW5kZXggYW5kIGBmaXJzdERheWAgY2hlY2suXG4gICAgICAgICAgICAgIGlmICggXy5pc0ludGVnZXIoIGRhdGVUb0Rpc2FibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlVG9WZXJpZnkuZGF5ID09PSAoIGNhbGVuZGFyLnNldHRpbmdzLmZpcnN0RGF5ID8gZGF0ZVRvRGlzYWJsZSA6IGRhdGVUb0Rpc2FibGUgLSAxICkgJSA3XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYW4gYXJyYXkgb3IgYSBuYXRpdmUgSlMgZGF0ZSwgY3JlYXRlIGFuZCBtYXRjaCB0aGUgZXhhY3QgZGF0ZS5cbiAgICAgICAgICAgICAgaWYgKCAkJCQxLmlzQXJyYXkoIGRhdGVUb0Rpc2FibGUgKSB8fCBfLmlzRGF0ZSggZGF0ZVRvRGlzYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVUb1ZlcmlmeS5waWNrID09PSBjYWxlbmRhci5jcmVhdGUoIGRhdGVUb0Rpc2FibGUgKS5waWNrXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiBpdOKAmXMgYW4gb2JqZWN0LCBtYXRjaCBhIGRhdGUgd2l0aGluIHRoZSDigJxmcm9t4oCdIGFuZCDigJx0b+KAnSByYW5nZS5cbiAgICAgICAgICAgICAgaWYgKCAkJCQxLmlzUGxhaW5PYmplY3QoIGRhdGVUb0Rpc2FibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxlbmRhci53aXRoaW5SYW5nZSggZGF0ZVRvRGlzYWJsZSwgZGF0ZVRvVmVyaWZ5IClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGlzIGRhdGUgbWF0Y2hlcyBhIGRpc2FibGVkIGRhdGUsIGNvbmZpcm0gaXTigJlzIG5vdCBpbnZlcnRlZC5cbiAgICAgIGlzRGlzYWJsZWRNYXRjaCA9IGlzRGlzYWJsZWRNYXRjaC5sZW5ndGggJiYgIWlzRGlzYWJsZWRNYXRjaC5maWx0ZXIoZnVuY3Rpb24oIGRhdGVUb0Rpc2FibGUgKSB7XG4gICAgICAgICAgcmV0dXJuICQkJDEuaXNBcnJheSggZGF0ZVRvRGlzYWJsZSApICYmIGRhdGVUb0Rpc2FibGVbM10gPT0gJ2ludmVydGVkJyB8fFxuICAgICAgICAgICAgICAkJCQxLmlzUGxhaW5PYmplY3QoIGRhdGVUb0Rpc2FibGUgKSAmJiBkYXRlVG9EaXNhYmxlLmludmVydGVkXG4gICAgICB9KS5sZW5ndGg7XG5cbiAgICAgIC8vIENoZWNrIHRoZSBjYWxlbmRhciDigJxlbmFibGVk4oCdIGZsYWcgYW5kIHJlc3BlY3RpdmVseSBmbGlwIHRoZVxuICAgICAgLy8gZGlzYWJsZWQgc3RhdGUuIFRoZW4gYWxzbyBjaGVjayBpZiBpdOKAmXMgYmV5b25kIHRoZSBtaW4vbWF4IGxpbWl0cy5cbiAgICAgIHJldHVybiBjYWxlbmRhci5pdGVtLmVuYWJsZSA9PT0gLTEgPyAhaXNEaXNhYmxlZE1hdGNoIDogaXNEaXNhYmxlZE1hdGNoIHx8XG4gICAgICAgICAgZGF0ZVRvVmVyaWZ5LnBpY2sgPCBjYWxlbmRhci5pdGVtLm1pbi5waWNrIHx8XG4gICAgICAgICAgZGF0ZVRvVmVyaWZ5LnBpY2sgPiBjYWxlbmRhci5pdGVtLm1heC5waWNrXG5cbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5kaXNhYmxlZFxuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGEgc3RyaW5nIGludG8gYSB1c2FibGUgdHlwZS5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oIHR5cGUsIHZhbHVlLCBvcHRpb25zICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIHBhcnNpbmdPYmplY3QgPSB7fTtcblxuICAgICAgLy8gSWYgaXTigJlzIGFscmVhZHkgcGFyc2VkLCB3ZeKAmXJlIGdvb2QuXG4gICAgICBpZiAoICF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycgKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICB9XG5cbiAgICAgIC8vIFdlIG5lZWQgYSBgLmZvcm1hdGAgdG8gcGFyc2UgdGhlIHZhbHVlIHdpdGguXG4gICAgICBpZiAoICEoIG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXQgKSApIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICBvcHRpb25zLmZvcm1hdCA9IGNhbGVuZGFyLnNldHRpbmdzLmZvcm1hdDtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCB0aGUgZm9ybWF0IGludG8gYW4gYXJyYXkgYW5kIHRoZW4gbWFwIHRocm91Z2ggaXQuXG4gICAgICBjYWxlbmRhci5mb3JtYXRzLnRvQXJyYXkoIG9wdGlvbnMuZm9ybWF0ICkubWFwKCBmdW5jdGlvbiggbGFiZWwgKSB7XG5cbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgZm9ybWF0dGluZyBsYWJlbC5cbiAgICAgICAgICAgICAgZm9ybWF0dGluZ0xhYmVsID0gY2FsZW5kYXIuZm9ybWF0c1sgbGFiZWwgXSxcblxuICAgICAgICAgICAgICAvLyBUaGUgZm9ybWF0IGxlbmd0aCBpcyBmcm9tIHRoZSBmb3JtYXR0aW5nIGxhYmVsIGZ1bmN0aW9uIG9yIHRoZVxuICAgICAgICAgICAgICAvLyBsYWJlbCBsZW5ndGggd2l0aG91dCB0aGUgZXNjYXBpbmcgZXhjbGFtYXRpb24gKCEpIG1hcmsuXG4gICAgICAgICAgICAgIGZvcm1hdExlbmd0aCA9IGZvcm1hdHRpbmdMYWJlbCA/IF8udHJpZ2dlciggZm9ybWF0dGluZ0xhYmVsLCBjYWxlbmRhciwgWyB2YWx1ZSwgcGFyc2luZ09iamVjdCBdICkgOiBsYWJlbC5yZXBsYWNlKCAvXiEvLCAnJyApLmxlbmd0aDtcblxuICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBmb3JtYXQgbGFiZWwsIHNwbGl0IHRoZSB2YWx1ZSB1cCB0byB0aGUgZm9ybWF0IGxlbmd0aC5cbiAgICAgICAgICAvLyBUaGVuIGFkZCBpdCB0byB0aGUgcGFyc2luZyBvYmplY3Qgd2l0aCBhcHByb3ByaWF0ZSBsYWJlbC5cbiAgICAgICAgICBpZiAoIGZvcm1hdHRpbmdMYWJlbCApIHtcbiAgICAgICAgICAgICAgcGFyc2luZ09iamVjdFsgbGFiZWwgXSA9IHZhbHVlLnN1YnN0ciggMCwgZm9ybWF0TGVuZ3RoICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSB2YWx1ZSBhcyB0aGUgc3Vic3RyaW5nIGZyb20gZm9ybWF0IGxlbmd0aCB0byBlbmQuXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHIoIGZvcm1hdExlbmd0aCApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbXBlbnNhdGUgZm9yIG1vbnRoIDBpbmRleC5cbiAgICAgIHJldHVybiBbXG4gICAgICAgICAgcGFyc2luZ09iamVjdC55eXl5IHx8IHBhcnNpbmdPYmplY3QueXksXG4gICAgICAgICAgKyggcGFyc2luZ09iamVjdC5tbSB8fCBwYXJzaW5nT2JqZWN0Lm0gKSAtIDEsXG4gICAgICAgICAgcGFyc2luZ09iamVjdC5kZCB8fCBwYXJzaW5nT2JqZWN0LmRcbiAgICAgIF1cbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5wYXJzZVxuXG5cbiAgLyoqXG4gICAqIFZhcmlvdXMgZm9ybWF0cyB0byBkaXNwbGF5IHRoZSBvYmplY3QgaW4uXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5mb3JtYXRzID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBpbiBhIGNvbGxlY3Rpb24uXG4gICAgICBmdW5jdGlvbiBnZXRXb3JkTGVuZ3RoRnJvbUNvbGxlY3Rpb24oIHN0cmluZywgY29sbGVjdGlvbiwgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IHdvcmQgZnJvbSB0aGUgc3RyaW5nLlxuICAgICAgICAgIC8vIFJlZ2V4IHBhdHRlcm4gZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xNTAwMzNcbiAgICAgICAgICB2YXIgd29yZCA9IHN0cmluZy5tYXRjaCggL1teXFx4MDAtXFx4N0ZdK3xcXHcrLyApWyAwIF07XG5cbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIG1vbnRoIGluZGV4LCBhZGQgaXQgdG8gdGhlIGRhdGUgb2JqZWN0XG4gICAgICAgICAgaWYgKCAhZGF0ZU9iamVjdC5tbSAmJiAhZGF0ZU9iamVjdC5tICkge1xuICAgICAgICAgICAgICBkYXRlT2JqZWN0Lm0gPSBjb2xsZWN0aW9uLmluZGV4T2YoIHdvcmQgKSArIDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIHdvcmQuXG4gICAgICAgICAgcmV0dXJuIHdvcmQubGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBmaXJzdCB3b3JkIGluIGEgc3RyaW5nLlxuICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RXb3JkTGVuZ3RoKCBzdHJpbmcgKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmluZy5tYXRjaCggL1xcdysvIClbIDAgXS5sZW5ndGhcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgIGQ6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBkaWdpdHMgbGVuZ3RoLlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBkYXRlLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gXy5kaWdpdHMoIHN0cmluZyApIDogZGF0ZU9iamVjdC5kYXRlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZDogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCB0aGVuIHRoZSBsZW5ndGggaXMgYWx3YXlzIDIuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIGRhdGUgd2l0aCBhIGxlYWRpbmcgemVyby5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IDIgOiBfLmxlYWQoIGRhdGVPYmplY3QuZGF0ZSApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZGQ6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiBnZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZC5cbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2hvcnQgc2VsZWN0ZWQgd2Vla2RheS5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IGdldEZpcnN0V29yZExlbmd0aCggc3RyaW5nICkgOiB0aGlzLnNldHRpbmdzLndlZWtkYXlzU2hvcnRbIGRhdGVPYmplY3QuZGF5IF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRkZGQ6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiBnZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZC5cbiAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJldHVybiB0aGUgZnVsbCBzZWxlY3RlZCB3ZWVrZGF5LlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gZ2V0Rmlyc3RXb3JkTGVuZ3RoKCBzdHJpbmcgKSA6IHRoaXMuc2V0dGluZ3Mud2Vla2RheXNGdWxsWyBkYXRlT2JqZWN0LmRheSBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIHRoZW4gZ2V0IHRoZSBsZW5ndGggb2YgdGhlIGRpZ2l0c1xuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBtb250aCB3aXRoIDBpbmRleCBjb21wZW5zYXRpb24uXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyBfLmRpZ2l0cyggc3RyaW5nICkgOiBkYXRlT2JqZWN0Lm1vbnRoICsgMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW06IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiB0aGUgbGVuZ3RoIGlzIGFsd2F5cyAyLlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCBtb250aCB3aXRoIDBpbmRleCBhbmQgbGVhZGluZyB6ZXJvLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gMiA6IF8ubGVhZCggZGF0ZU9iamVjdC5tb250aCArIDEgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbW1tOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5zZXR0aW5ncy5tb250aHNTaG9ydDtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCBnZXQgbGVuZ3RoIG9mIHRoZSByZWxldmFudCBtb250aCBmcm9tIHRoZSBzaG9ydFxuICAgICAgICAgICAgICAvLyBtb250aHMgY29sbGVjdGlvbi4gT3RoZXJ3aXNlIHJldHVybiB0aGUgc2VsZWN0ZWQgbW9udGggZnJvbSB0aGF0IGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyBnZXRXb3JkTGVuZ3RoRnJvbUNvbGxlY3Rpb24oIHN0cmluZywgY29sbGVjdGlvbiwgZGF0ZU9iamVjdCApIDogY29sbGVjdGlvblsgZGF0ZU9iamVjdC5tb250aCBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtbW1tOiBmdW5jdGlvbiggc3RyaW5nLCBkYXRlT2JqZWN0ICkge1xuXG4gICAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5zZXR0aW5ncy5tb250aHNGdWxsO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYSBzdHJpbmcsIGdldCBsZW5ndGggb2YgdGhlIHJlbGV2YW50IG1vbnRoIGZyb20gdGhlIGZ1bGxcbiAgICAgICAgICAgICAgLy8gbW9udGhzIGNvbGxlY3Rpb24uIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIG1vbnRoIGZyb20gdGhhdCBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nID8gZ2V0V29yZExlbmd0aEZyb21Db2xsZWN0aW9uKCBzdHJpbmcsIGNvbGxlY3Rpb24sIGRhdGVPYmplY3QgKSA6IGNvbGxlY3Rpb25bIGRhdGVPYmplY3QubW9udGggXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeXk6IGZ1bmN0aW9uKCBzdHJpbmcsIGRhdGVPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIHN0cmluZywgdGhlbiB0aGUgbGVuZ3RoIGlzIGFsd2F5cyAyLlxuICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgcmV0dXJuIHRoZSBzZWxlY3RlZCB5ZWFyIGJ5IHNsaWNpbmcgb3V0IHRoZSBmaXJzdCAyIGRpZ2l0cy5cbiAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZyA/IDIgOiAoICcnICsgZGF0ZU9iamVjdC55ZWFyICkuc2xpY2UoIDIgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeXl5eTogZnVuY3Rpb24oIHN0cmluZywgZGF0ZU9iamVjdCApIHtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgc3RyaW5nLCB0aGVuIHRoZSBsZW5ndGggaXMgYWx3YXlzIDQuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSByZXR1cm4gdGhlIHNlbGVjdGVkIHllYXIuXG4gICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgPyA0IDogZGF0ZU9iamVjdC55ZWFyXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIENyZWF0ZSBhbiBhcnJheSBieSBzcGxpdHRpbmcgdGhlIGZvcm1hdHRpbmcgc3RyaW5nIHBhc3NlZC5cbiAgICAgICAgICB0b0FycmF5OiBmdW5jdGlvbiggZm9ybWF0U3RyaW5nICkgeyByZXR1cm4gZm9ybWF0U3RyaW5nLnNwbGl0KCAvKGR7MSw0fXxtezEsNH18eXs0fXx5eXwhLikvZyApIH0sXG5cbiAgICAgICAgICAvLyBGb3JtYXQgYW4gb2JqZWN0IGludG8gYSBzdHJpbmcgdXNpbmcgdGhlIGZvcm1hdHRpbmcgb3B0aW9ucy5cbiAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCBmb3JtYXRTdHJpbmcsIGl0ZW1PYmplY3QgKSB7XG4gICAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IHRoaXM7XG4gICAgICAgICAgICAgIHJldHVybiBjYWxlbmRhci5mb3JtYXRzLnRvQXJyYXkoIGZvcm1hdFN0cmluZyApLm1hcCggZnVuY3Rpb24oIGxhYmVsICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF8udHJpZ2dlciggY2FsZW5kYXIuZm9ybWF0c1sgbGFiZWwgXSwgY2FsZW5kYXIsIFsgMCwgaXRlbU9iamVjdCBdICkgfHwgbGFiZWwucmVwbGFjZSggL14hLywgJycgKVxuICAgICAgICAgICAgICB9KS5qb2luKCAnJyApXG4gICAgICAgICAgfVxuICAgICAgfVxuICB9KSgpOyAvL0RhdGVQaWNrZXIucHJvdG90eXBlLmZvcm1hdHNcblxuXG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdHdvIGRhdGUgdW5pdHMgYXJlIHRoZSBleGFjdC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmlzRGF0ZUV4YWN0ID0gZnVuY3Rpb24oIG9uZSwgdHdvICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzO1xuXG4gICAgICAvLyBXaGVuIHdl4oCZcmUgd29ya2luZyB3aXRoIHdlZWtkYXlzLCBkbyBhIGRpcmVjdCBjb21wYXJpc29uLlxuICAgICAgaWYgKFxuICAgICAgICAgICggXy5pc0ludGVnZXIoIG9uZSApICYmIF8uaXNJbnRlZ2VyKCB0d28gKSApIHx8XG4gICAgICAgICAgKCB0eXBlb2Ygb25lID09ICdib29sZWFuJyAmJiB0eXBlb2YgdHdvID09ICdib29sZWFuJyApXG4gICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG9uZSA9PT0gdHdvXG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gd2XigJlyZSB3b3JraW5nIHdpdGggZGF0ZSByZXByZXNlbnRhdGlvbnMsIGNvbXBhcmUgdGhlIOKAnHBpY2vigJ0gdmFsdWUuXG4gICAgICBpZiAoXG4gICAgICAgICAgKCBfLmlzRGF0ZSggb25lICkgfHwgJCQkMS5pc0FycmF5KCBvbmUgKSApICYmXG4gICAgICAgICAgKCBfLmlzRGF0ZSggdHdvICkgfHwgJCQkMS5pc0FycmF5KCB0d28gKSApXG4gICAgICApIHtcbiAgICAgICAgICByZXR1cm4gY2FsZW5kYXIuY3JlYXRlKCBvbmUgKS5waWNrID09PSBjYWxlbmRhci5jcmVhdGUoIHR3byApLnBpY2tcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB3ZeKAmXJlIHdvcmtpbmcgd2l0aCByYW5nZSBvYmplY3RzLCBjb21wYXJlIHRoZSDigJxmcm9t4oCdIGFuZCDigJx0b+KAnS5cbiAgICAgIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KCBvbmUgKSAmJiAkJCQxLmlzUGxhaW5PYmplY3QoIHR3byApICkge1xuICAgICAgICAgIHJldHVybiBjYWxlbmRhci5pc0RhdGVFeGFjdCggb25lLmZyb20sIHR3by5mcm9tICkgJiYgY2FsZW5kYXIuaXNEYXRlRXhhY3QoIG9uZS50bywgdHdvLnRvIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH07XG5cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdHdvIGRhdGUgdW5pdHMgb3ZlcmxhcC5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmlzRGF0ZU92ZXJsYXAgPSBmdW5jdGlvbiggb25lLCB0d28gKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgZmlyc3REYXkgPSBjYWxlbmRhci5zZXR0aW5ncy5maXJzdERheSA/IDEgOiAwO1xuXG4gICAgICAvLyBXaGVuIHdl4oCZcmUgd29ya2luZyB3aXRoIGEgd2Vla2RheSBpbmRleCwgY29tcGFyZSB0aGUgZGF5cy5cbiAgICAgIGlmICggXy5pc0ludGVnZXIoIG9uZSApICYmICggXy5pc0RhdGUoIHR3byApIHx8ICQkJDEuaXNBcnJheSggdHdvICkgKSApIHtcbiAgICAgICAgICBvbmUgPSBvbmUgJSA3ICsgZmlyc3REYXk7XG4gICAgICAgICAgcmV0dXJuIG9uZSA9PT0gY2FsZW5kYXIuY3JlYXRlKCB0d28gKS5kYXkgKyAxXG4gICAgICB9XG4gICAgICBpZiAoIF8uaXNJbnRlZ2VyKCB0d28gKSAmJiAoIF8uaXNEYXRlKCBvbmUgKSB8fCAkJCQxLmlzQXJyYXkoIG9uZSApICkgKSB7XG4gICAgICAgICAgdHdvID0gdHdvICUgNyArIGZpcnN0RGF5O1xuICAgICAgICAgIHJldHVybiB0d28gPT09IGNhbGVuZGFyLmNyZWF0ZSggb25lICkuZGF5ICsgMVxuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHdl4oCZcmUgd29ya2luZyB3aXRoIHJhbmdlIG9iamVjdHMsIGNoZWNrIGlmIHRoZSByYW5nZXMgb3ZlcmxhcC5cbiAgICAgIGlmICggJCQkMS5pc1BsYWluT2JqZWN0KCBvbmUgKSAmJiAkJCQxLmlzUGxhaW5PYmplY3QoIHR3byApICkge1xuICAgICAgICAgIHJldHVybiBjYWxlbmRhci5vdmVybGFwUmFuZ2VzKCBvbmUsIHR3byApXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEZsaXAgdGhlIOKAnGVuYWJsZWTigJ0gc3RhdGUuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5mbGlwRW5hYmxlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YXIgaXRlbU9iamVjdCA9IHRoaXMuaXRlbTtcbiAgICAgIGl0ZW1PYmplY3QuZW5hYmxlID0gdmFsIHx8IChpdGVtT2JqZWN0LmVuYWJsZSA9PSAtMSA/IDEgOiAtMSk7XG4gIH07XG5cblxuICAvKipcbiAgICogTWFyayBhIGNvbGxlY3Rpb24gb2YgZGF0ZXMgYXMg4oCcZGlzYWJsZWTigJ0uXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVzVG9EaXNhYmxlICkge1xuXG4gICAgICB2YXIgY2FsZW5kYXIgPSB0aGlzLFxuICAgICAgICAgIGRpc2FibGVkSXRlbXMgPSBjYWxlbmRhci5pdGVtLmRpc2FibGUuc2xpY2UoMCk7XG5cblxuICAgICAgLy8gSWYgd2XigJlyZSBmbGlwcGluZywgdGhhdOKAmXMgYWxsIHdlIG5lZWQgdG8gZG8uXG4gICAgICBpZiAoIGRhdGVzVG9EaXNhYmxlID09ICdmbGlwJyApIHtcbiAgICAgICAgICBjYWxlbmRhci5mbGlwRW5hYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGVsc2UgaWYgKCBkYXRlc1RvRGlzYWJsZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgxKTtcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIGVsc2UgaWYgKCBkYXRlc1RvRGlzYWJsZSA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICBjYWxlbmRhci5mbGlwRW5hYmxlKC0xKTtcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIHRoZSBkYXRlcyB0byBkaXNhYmxlLlxuICAgICAgZWxzZSB7XG5cbiAgICAgICAgICBkYXRlc1RvRGlzYWJsZS5tYXAoZnVuY3Rpb24oIHVuaXRUb0Rpc2FibGUgKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1hdGNoRm91bmQ7XG5cbiAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBoYXZlIGRpc2FibGVkIGl0ZW1zLCBjaGVjayBmb3IgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgLy8gSWYgc29tZXRoaW5nIGlzIG1hdGNoZWQsIGltbWVkaWF0ZWx5IGJyZWFrIG91dC5cbiAgICAgICAgICAgICAgZm9yICggdmFyIGluZGV4ID0gMDsgaW5kZXggPCBkaXNhYmxlZEl0ZW1zLmxlbmd0aDsgaW5kZXggKz0gMSApIHtcbiAgICAgICAgICAgICAgICAgIGlmICggY2FsZW5kYXIuaXNEYXRlRXhhY3QoIHVuaXRUb0Rpc2FibGUsIGRpc2FibGVkSXRlbXNbaW5kZXhdICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kLCBhZGQgdGhlIHZhbGlkYXRlZCB1bml0IHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICBpZiAoICFtYXRjaEZvdW5kICkge1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIF8uaXNJbnRlZ2VyKCB1bml0VG9EaXNhYmxlICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICBfLmlzRGF0ZSggdW5pdFRvRGlzYWJsZSApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgJCQkMS5pc0FycmF5KCB1bml0VG9EaXNhYmxlICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoICQkJDEuaXNQbGFpbk9iamVjdCggdW5pdFRvRGlzYWJsZSApICYmIHVuaXRUb0Rpc2FibGUuZnJvbSAmJiB1bml0VG9EaXNhYmxlLnRvIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkSXRlbXMucHVzaCggdW5pdFRvRGlzYWJsZSApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiB0aGUgdXBkYXRlZCBjb2xsZWN0aW9uLlxuICAgICAgcmV0dXJuIGRpc2FibGVkSXRlbXNcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5kZWFjdGl2YXRlXG5cblxuICAvKipcbiAgICogTWFyayBhIGNvbGxlY3Rpb24gb2YgZGF0ZXMgYXMg4oCcZW5hYmxlZOKAnS5cbiAgICovXG4gIERhdGVQaWNrZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24oIHR5cGUsIGRhdGVzVG9FbmFibGUgKSB7XG5cbiAgICAgIHZhciBjYWxlbmRhciA9IHRoaXMsXG4gICAgICAgICAgZGlzYWJsZWRJdGVtcyA9IGNhbGVuZGFyLml0ZW0uZGlzYWJsZSxcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zQ291bnQgPSBkaXNhYmxlZEl0ZW1zLmxlbmd0aDtcblxuICAgICAgLy8gSWYgd2XigJlyZSBmbGlwcGluZywgdGhhdOKAmXMgYWxsIHdlIG5lZWQgdG8gZG8uXG4gICAgICBpZiAoIGRhdGVzVG9FbmFibGUgPT0gJ2ZsaXAnICkge1xuICAgICAgICAgIGNhbGVuZGFyLmZsaXBFbmFibGUoKTtcbiAgICAgIH1cblxuICAgICAgZWxzZSBpZiAoIGRhdGVzVG9FbmFibGUgPT09IHRydWUgKSB7XG4gICAgICAgICAgY2FsZW5kYXIuZmxpcEVuYWJsZSgxKTtcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIGVsc2UgaWYgKCBkYXRlc1RvRW5hYmxlID09PSBmYWxzZSApIHtcbiAgICAgICAgICBjYWxlbmRhci5mbGlwRW5hYmxlKC0xKTtcbiAgICAgICAgICBkaXNhYmxlZEl0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSBnbyB0aHJvdWdoIHRoZSBkaXNhYmxlZCBkYXRlcy5cbiAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgZGF0ZXNUb0VuYWJsZS5tYXAoZnVuY3Rpb24oIHVuaXRUb0VuYWJsZSApIHtcblxuICAgICAgICAgICAgICB2YXIgbWF0Y2hGb3VuZCxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkVW5pdCxcbiAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgaXNFeGFjdFJhbmdlO1xuXG4gICAgICAgICAgICAgIC8vIEdvIHRocm91Z2ggdGhlIGRpc2FibGVkIGl0ZW1zIGFuZCB0cnkgdG8gZmluZCBhIG1hdGNoLlxuICAgICAgICAgICAgICBmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgZGlzYWJsZWRJdGVtc0NvdW50OyBpbmRleCArPSAxICkge1xuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZFVuaXQgPSBkaXNhYmxlZEl0ZW1zW2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhbiBleGFjdCBtYXRjaCBpcyBmb3VuZCwgcmVtb3ZlIGl0IGZyb20gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAgICAgICBpZiAoIGNhbGVuZGFyLmlzRGF0ZUV4YWN0KCBkaXNhYmxlZFVuaXQsIHVuaXRUb0VuYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSBkaXNhYmxlZEl0ZW1zW2luZGV4XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgaXNFeGFjdFJhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIGFuIG92ZXJsYXBwZWQgbWF0Y2ggaXMgZm91bmQsIGFkZCB0aGUg4oCcaW52ZXJ0ZWTigJ0gc3RhdGUgdG8gaXQuXG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICggY2FsZW5kYXIuaXNEYXRlT3ZlcmxhcCggZGlzYWJsZWRVbml0LCB1bml0VG9FbmFibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoICQkJDEuaXNQbGFpbk9iamVjdCggdW5pdFRvRW5hYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRUb0VuYWJsZS5pbnZlcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSB1bml0VG9FbmFibGU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCAkJCQxLmlzQXJyYXkoIHVuaXRUb0VuYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEZvdW5kID0gdW5pdFRvRW5hYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaEZvdW5kWzNdICkgbWF0Y2hGb3VuZC5wdXNoKCAnaW52ZXJ0ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCBfLmlzRGF0ZSggdW5pdFRvRW5hYmxlICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSBbIHVuaXRUb0VuYWJsZS5nZXRGdWxsWWVhcigpLCB1bml0VG9FbmFibGUuZ2V0TW9udGgoKSwgdW5pdFRvRW5hYmxlLmdldERhdGUoKSwgJ2ludmVydGVkJyBdO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWYgYSBtYXRjaCB3YXMgZm91bmQsIHJlbW92ZSBhIHByZXZpb3VzIGR1cGxpY2F0ZSBlbnRyeS5cbiAgICAgICAgICAgICAgaWYgKCBtYXRjaEZvdW5kICkgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGRpc2FibGVkSXRlbXNDb3VudDsgaW5kZXggKz0gMSApIHtcbiAgICAgICAgICAgICAgICAgIGlmICggY2FsZW5kYXIuaXNEYXRlRXhhY3QoIGRpc2FibGVkSXRlbXNbaW5kZXhdLCB1bml0VG9FbmFibGUgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zW2luZGV4XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEluIHRoZSBldmVudCB0aGF0IHdl4oCZcmUgZGVhbGluZyB3aXRoIGFuIGV4YWN0IHJhbmdlIG9mIGRhdGVzLFxuICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgYXJlIG5vIOKAnGludmVydGVk4oCdIGRhdGVzIGJlY2F1c2Ugb2YgaXQuXG4gICAgICAgICAgICAgIGlmICggaXNFeGFjdFJhbmdlICkgZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGRpc2FibGVkSXRlbXNDb3VudDsgaW5kZXggKz0gMSApIHtcbiAgICAgICAgICAgICAgICAgIGlmICggY2FsZW5kYXIuaXNEYXRlT3ZlcmxhcCggZGlzYWJsZWRJdGVtc1tpbmRleF0sIHVuaXRUb0VuYWJsZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkSXRlbXNbaW5kZXhdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWYgc29tZXRoaW5nIGlzIHN0aWxsIG1hdGNoZWQsIGFkZCBpdCBpbnRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICBpZiAoIG1hdGNoRm91bmQgKSB7XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZEl0ZW1zLnB1c2goIG1hdGNoRm91bmQgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gdGhlIHVwZGF0ZWQgY29sbGVjdGlvbi5cbiAgICAgIHJldHVybiBkaXNhYmxlZEl0ZW1zLmZpbHRlcihmdW5jdGlvbiggdmFsICkgeyByZXR1cm4gdmFsICE9IG51bGwgfSlcbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5hY3RpdmF0ZVxuXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHN0cmluZyBmb3IgdGhlIG5vZGVzIGluIHRoZSBwaWNrZXIuXG4gICAqL1xuICBEYXRlUGlja2VyLnByb3RvdHlwZS5ub2RlcyA9IGZ1bmN0aW9uKCBpc09wZW4gKSB7XG5cbiAgICAgIHZhclxuICAgICAgICAgIGNhbGVuZGFyID0gdGhpcyxcbiAgICAgICAgICBzZXR0aW5ncyA9IGNhbGVuZGFyLnNldHRpbmdzLFxuICAgICAgICAgIGNhbGVuZGFySXRlbSA9IGNhbGVuZGFyLml0ZW0sXG4gICAgICAgICAgbm93T2JqZWN0ID0gY2FsZW5kYXJJdGVtLm5vdyxcbiAgICAgICAgICBzZWxlY3RlZE9iamVjdCA9IGNhbGVuZGFySXRlbS5zZWxlY3QsXG4gICAgICAgICAgaGlnaGxpZ2h0ZWRPYmplY3QgPSBjYWxlbmRhckl0ZW0uaGlnaGxpZ2h0LFxuICAgICAgICAgIHZpZXdzZXRPYmplY3QgPSBjYWxlbmRhckl0ZW0udmlldyxcbiAgICAgICAgICBkaXNhYmxlZENvbGxlY3Rpb24gPSBjYWxlbmRhckl0ZW0uZGlzYWJsZSxcbiAgICAgICAgICBtaW5MaW1pdE9iamVjdCA9IGNhbGVuZGFySXRlbS5taW4sXG4gICAgICAgICAgbWF4TGltaXRPYmplY3QgPSBjYWxlbmRhckl0ZW0ubWF4LFxuXG5cbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhbGVuZGFyIHRhYmxlIGhlYWQgdXNpbmcgYSBjb3B5IG9mIHdlZWtkYXkgbGFiZWxzIGNvbGxlY3Rpb24uXG4gICAgICAgICAgLy8gKiBXZSBkbyBhIGNvcHkgc28gd2UgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBhcnJheS5cbiAgICAgICAgICB0YWJsZUhlYWQgPSAoZnVuY3Rpb24oIGNvbGxlY3Rpb24sIGZ1bGxDb2xsZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBmaXJzdCBkYXkgc2hvdWxkIGJlIE1vbmRheSwgbW92ZSBTdW5kYXkgdG8gdGhlIGVuZC5cbiAgICAgICAgICAgICAgaWYgKCBzZXR0aW5ncy5maXJzdERheSApIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaCggY29sbGVjdGlvbi5zaGlmdCgpICk7XG4gICAgICAgICAgICAgICAgICBmdWxsQ29sbGVjdGlvbi5wdXNoKCBmdWxsQ29sbGVjdGlvbi5zaGlmdCgpICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiB0aGUgdGFibGUgaGVhZCBncm91cC5cbiAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZShcbiAgICAgICAgICAgICAgICAgICd0aGVhZCcsXG4gICAgICAgICAgICAgICAgICBfLm5vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAgICAgICBfLmdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IERBWVNfSU5fV0VFSyAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6ICd0aCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGZ1bmN0aW9uKCBjb3VudGVyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uWyBjb3VudGVyIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mua2xhc3Mud2Vla2RheXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Njb3BlPWNvbCB0aXRsZT1cIicgKyBmdWxsQ29sbGVjdGlvblsgY291bnRlciBdICsgJ1wiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSAvL2VuZHJldHVyblxuICAgICAgICAgIH0pKCAoIHNldHRpbmdzLnNob3dXZWVrZGF5c0Z1bGwgPyBzZXR0aW5ncy53ZWVrZGF5c0Z1bGwgOiBzZXR0aW5ncy53ZWVrZGF5c1Nob3J0ICkuc2xpY2UoIDAgKSwgc2V0dGluZ3Mud2Vla2RheXNGdWxsLnNsaWNlKCAwICkgKSwgLy90YWJsZUhlYWRcblxuXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBuYXYgZm9yIG5leHQvcHJldiBtb250aC5cbiAgICAgICAgICBjcmVhdGVNb250aE5hdiA9IGZ1bmN0aW9uKCBuZXh0ICkge1xuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcmV0dXJuIHRoZSBjcmVhdGVkIG1vbnRoIHRhZy5cbiAgICAgICAgICAgICAgcmV0dXJuIF8ubm9kZShcbiAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mua2xhc3NbICduYXYnICsgKCBuZXh0ID8gJ05leHQnIDogJ1ByZXYnICkgXSArIChcblxuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBmb2N1c2VkIG1vbnRoIGlzIG91dHNpZGUgdGhlIHJhbmdlLCBkaXNhYmxlZCB0aGUgYnV0dG9uLlxuICAgICAgICAgICAgICAgICAgICAgICggbmV4dCAmJiB2aWV3c2V0T2JqZWN0LnllYXIgPj0gbWF4TGltaXRPYmplY3QueWVhciAmJiB2aWV3c2V0T2JqZWN0Lm1vbnRoID49IG1heExpbWl0T2JqZWN0Lm1vbnRoICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoICFuZXh0ICYmIHZpZXdzZXRPYmplY3QueWVhciA8PSBtaW5MaW1pdE9iamVjdC55ZWFyICYmIHZpZXdzZXRPYmplY3QubW9udGggPD0gbWluTGltaXRPYmplY3QubW9udGggKSA/XG4gICAgICAgICAgICAgICAgICAgICAgJyAnICsgc2V0dGluZ3Mua2xhc3MubmF2RGlzYWJsZWQgOiAnJ1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICdkYXRhLW5hdj0nICsgKCBuZXh0IHx8IC0xICkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgXy5hcmlhQXR0cih7XG4gICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkICsgJ190YWJsZSdcbiAgICAgICAgICAgICAgICAgIH0pICsgJyAnICtcbiAgICAgICAgICAgICAgICAgICd0aXRsZT1cIicgKyAobmV4dCA/IHNldHRpbmdzLmxhYmVsTW9udGhOZXh0IDogc2V0dGluZ3MubGFiZWxNb250aFByZXYgKSArICdcIidcbiAgICAgICAgICAgICAgKSAvL2VuZHJldHVyblxuICAgICAgICAgIH0sIC8vY3JlYXRlTW9udGhOYXZcblxuXG4gICAgICAgICAgLy8gQ3JlYXRlIHRoZSBtb250aCBsYWJlbC5cbiAgICAgICAgICBjcmVhdGVNb250aExhYmVsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgdmFyIG1vbnRoc0NvbGxlY3Rpb24gPSBzZXR0aW5ncy5zaG93TW9udGhzU2hvcnQgPyBzZXR0aW5ncy5tb250aHNTaG9ydCA6IHNldHRpbmdzLm1vbnRoc0Z1bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG1vbnRocyB0byBzZWxlY3QsIGFkZCBhIGRyb3Bkb3duIG1lbnUuXG4gICAgICAgICAgICAgIGlmICggc2V0dGluZ3Muc2VsZWN0TW9udGhzICkge1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBfLmdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIGxvb3BlZE1vbnRoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxvb3BlZCBtb250aCBhbmQgbm8gY2xhc3Nlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aHNDb2xsZWN0aW9uWyBsb29wZWRNb250aCBdLCAwLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZSBhbmQgc2VsZWN0ZWQgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlPScgKyBsb29wZWRNb250aCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCB2aWV3c2V0T2JqZWN0Lm1vbnRoID09IGxvb3BlZE1vbnRoID8gJyBzZWxlY3RlZCcgOiAnJyApICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggdmlld3NldE9iamVjdC55ZWFyID09IG1pbkxpbWl0T2JqZWN0LnllYXIgJiYgbG9vcGVkTW9udGggPCBtaW5MaW1pdE9iamVjdC5tb250aCApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIHZpZXdzZXRPYmplY3QueWVhciA9PSBtYXhMaW1pdE9iamVjdC55ZWFyICYmIGxvb3BlZE1vbnRoID4gbWF4TGltaXRPYmplY3QubW9udGggKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkaXNhYmxlZCcgOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmtsYXNzLnNlbGVjdE1vbnRoLFxuICAgICAgICAgICAgICAgICAgICAgICggaXNPcGVuID8gJycgOiAnZGlzYWJsZWQnICkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgKyAnX3RhYmxlJyB9KSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlPVwiJyArIHNldHRpbmdzLmxhYmVsTW9udGhTZWxlY3QgKyAnXCInXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgbmVlZCBmb3IgYSBtb250aCBzZWxlY3RvclxuICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnZGl2JywgbW9udGhzQ29sbGVjdGlvblsgdmlld3NldE9iamVjdC5tb250aCBdLCBzZXR0aW5ncy5rbGFzcy5tb250aCApXG4gICAgICAgICAgfSwgLy9jcmVhdGVNb250aExhYmVsXG5cblxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgeWVhciBsYWJlbC5cbiAgICAgICAgICBjcmVhdGVZZWFyTGFiZWwgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICB2YXIgZm9jdXNlZFllYXIgPSB2aWV3c2V0T2JqZWN0LnllYXIsXG5cbiAgICAgICAgICAgICAgLy8gSWYgeWVhcnMgc2VsZWN0b3IgaXMgc2V0IHRvIGEgbGl0ZXJhbCBcInRydWVcIiwgc2V0IGl0IHRvIDUuIE90aGVyd2lzZVxuICAgICAgICAgICAgICAvLyBkaXZpZGUgaW4gaGFsZiB0byBnZXQgaGFsZiBiZWZvcmUgYW5kIGhhbGYgYWZ0ZXIgZm9jdXNlZCB5ZWFyLlxuICAgICAgICAgICAgICBudW1iZXJZZWFycyA9IHNldHRpbmdzLnNlbGVjdFllYXJzID09PSB0cnVlID8gNSA6IH5+KCBzZXR0aW5ncy5zZWxlY3RZZWFycyAvIDIgKTtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgeWVhcnMgdG8gc2VsZWN0LCBhZGQgYSBkcm9wZG93biBtZW51LlxuICAgICAgICAgICAgICBpZiAoIG51bWJlclllYXJzICkge1xuXG4gICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5ZZWFyID0gbWluTGltaXRPYmplY3QueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICBtYXhZZWFyID0gbWF4TGltaXRPYmplY3QueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RZZWFyID0gZm9jdXNlZFllYXIgLSBudW1iZXJZZWFycyxcbiAgICAgICAgICAgICAgICAgICAgICBoaWdoZXN0WWVhciA9IGZvY3VzZWRZZWFyICsgbnVtYmVyWWVhcnM7XG5cbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtaW4geWVhciBpcyBncmVhdGVyIHRoYW4gdGhlIGxvd2VzdCB5ZWFyLCBpbmNyZWFzZSB0aGUgaGlnaGVzdCB5ZWFyXG4gICAgICAgICAgICAgICAgICAvLyBieSB0aGUgZGlmZmVyZW5jZSBhbmQgc2V0IHRoZSBsb3dlc3QgeWVhciB0byB0aGUgbWluIHllYXIuXG4gICAgICAgICAgICAgICAgICBpZiAoIG1pblllYXIgPiBsb3dlc3RZZWFyICkge1xuICAgICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RZZWFyICs9IG1pblllYXIgLSBsb3dlc3RZZWFyO1xuICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFllYXIgPSBtaW5ZZWFyO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbWF4IHllYXIgaXMgbGVzcyB0aGFuIHRoZSBoaWdoZXN0IHllYXIsIGRlY3JlYXNlIHRoZSBsb3dlc3QgeWVhclxuICAgICAgICAgICAgICAgICAgLy8gYnkgdGhlIGxvd2VyIG9mIHRoZSB0d286IGF2YWlsYWJsZSBhbmQgbmVlZGVkIHllYXJzLiBUaGVuIHNldCB0aGVcbiAgICAgICAgICAgICAgICAgIC8vIGhpZ2hlc3QgeWVhciB0byB0aGUgbWF4IHllYXIuXG4gICAgICAgICAgICAgICAgICBpZiAoIG1heFllYXIgPCBoaWdoZXN0WWVhciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmFpbGFibGVZZWFycyA9IGxvd2VzdFllYXIgLSBtaW5ZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkZWRZZWFycyA9IGhpZ2hlc3RZZWFyIC0gbWF4WWVhcjtcblxuICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFllYXIgLT0gYXZhaWxhYmxlWWVhcnMgPiBuZWVkZWRZZWFycyA/IG5lZWRlZFllYXJzIDogYXZhaWxhYmxlWWVhcnM7XG4gICAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFllYXIgPSBtYXhZZWFyO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gXy5ub2RlKCAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBfLmdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBsb3dlc3RZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IGhpZ2hlc3RZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIGxvb3BlZFllYXIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGxvb3BlZCB5ZWFyIGFuZCBubyBjbGFzc2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3BlZFllYXIsIDAsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHZhbHVlIGFuZCBzZWxlY3RlZCBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsdWU9JyArIGxvb3BlZFllYXIgKyAoIGZvY3VzZWRZZWFyID09IGxvb3BlZFllYXIgPyAnIHNlbGVjdGVkJyA6ICcnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmtsYXNzLnNlbGVjdFllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgKCBpc09wZW4gPyAnJyA6ICdkaXNhYmxlZCcgKSArICcgJyArIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgKyAnX3RhYmxlJyB9KSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlPVwiJyArIHNldHRpbmdzLmxhYmVsWWVhclNlbGVjdCArICdcIidcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBqdXN0IHJldHVybiB0aGUgeWVhciBmb2N1c2VkXG4gICAgICAgICAgICAgIHJldHVybiBfLm5vZGUoICdkaXYnLCBmb2N1c2VkWWVhciwgc2V0dGluZ3Mua2xhc3MueWVhciApXG4gICAgICAgICAgfTsgLy9jcmVhdGVZZWFyTGFiZWxcblxuXG4gICAgICAvLyBDcmVhdGUgYW5kIHJldHVybiB0aGUgZW50aXJlIGNhbGVuZGFyLlxuICAgICAgcmV0dXJuIF8ubm9kZShcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoIHNldHRpbmdzLnNlbGVjdFllYXJzID8gY3JlYXRlWWVhckxhYmVsKCkgKyBjcmVhdGVNb250aExhYmVsKCkgOiBjcmVhdGVNb250aExhYmVsKCkgKyBjcmVhdGVZZWFyTGFiZWwoKSApICtcbiAgICAgICAgICBjcmVhdGVNb250aE5hdigpICsgY3JlYXRlTW9udGhOYXYoIDEgKSxcbiAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5oZWFkZXJcbiAgICAgICkgKyBfLm5vZGUoXG4gICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICB0YWJsZUhlYWQgK1xuICAgICAgICAgIF8ubm9kZShcbiAgICAgICAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgICAgICAgXy5ncm91cCh7XG4gICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICBtYXg6IFdFRUtTX0lOX0NBTEVOREFSIC0gMSxcbiAgICAgICAgICAgICAgICAgIGk6IDEsXG4gICAgICAgICAgICAgICAgICBub2RlOiAndHInLFxuICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIHJvd0NvdW50ZXIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBhbmQgdGhlIG1vbnRoIHN0YXJ0cyBvbiBTdW5kYXksIHNoaWZ0IHRoZSBkYXRlIGJhY2sgYSB3ZWVrLlxuICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGlmdERhdGVCeSA9IHNldHRpbmdzLmZpcnN0RGF5ICYmIGNhbGVuZGFyLmNyZWF0ZShbIHZpZXdzZXRPYmplY3QueWVhciwgdmlld3NldE9iamVjdC5tb250aCwgMSBdKS5kYXkgPT09IDAgPyAtNyA6IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfLmdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogREFZU19JTl9XRUVLICogcm93Q291bnRlciAtIHZpZXdzZXRPYmplY3QuZGF5ICsgc2hpZnREYXRlQnkgKyAxLCAvLyBBZGQgMSBmb3Igd2Vla2RheSAwaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWluICsgREFZU19JTl9XRUVLIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlOiAndGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZnVuY3Rpb24oIHRhcmdldERhdGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSB0aW1lIGRhdGUgZnJvbSBhIHJlbGF0aXZlIGRhdGUgdG8gYSB0YXJnZXQgZGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRlID0gY2FsZW5kYXIuY3JlYXRlKFsgdmlld3NldE9iamVjdC55ZWFyLCB2aWV3c2V0T2JqZWN0Lm1vbnRoLCB0YXJnZXREYXRlICsgKCBzZXR0aW5ncy5maXJzdERheSA/IDEgOiAwICkgXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNTZWxlY3RlZCA9IHNlbGVjdGVkT2JqZWN0ICYmIHNlbGVjdGVkT2JqZWN0LnBpY2sgPT0gdGFyZ2V0RGF0ZS5waWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hpZ2hsaWdodGVkID0gaGlnaGxpZ2h0ZWRPYmplY3QgJiYgaGlnaGxpZ2h0ZWRPYmplY3QucGljayA9PSB0YXJnZXREYXRlLnBpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSBkaXNhYmxlZENvbGxlY3Rpb24gJiYgY2FsZW5kYXIuZGlzYWJsZWQoIHRhcmdldERhdGUgKSB8fCB0YXJnZXREYXRlLnBpY2sgPCBtaW5MaW1pdE9iamVjdC5waWNrIHx8IHRhcmdldERhdGUucGljayA+IG1heExpbWl0T2JqZWN0LnBpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERhdGUgPSBfLnRyaWdnZXIoIGNhbGVuZGFyLmZvcm1hdHMudG9TdHJpbmcsIGNhbGVuZGFyLCBbIHNldHRpbmdzLmZvcm1hdCwgdGFyZ2V0RGF0ZSBdICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm5vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGUuZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbigga2xhc3NlcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYGluZm9jdXNgIG9yIGBvdXRmb2N1c2AgY2xhc3NlcyBiYXNlZCBvbiBtb250aCBpbiB2aWV3LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtsYXNzZXMucHVzaCggdmlld3NldE9iamVjdC5tb250aCA9PSB0YXJnZXREYXRlLm1vbnRoID8gc2V0dGluZ3Mua2xhc3MuaW5mb2N1cyA6IHNldHRpbmdzLmtsYXNzLm91dGZvY3VzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGB0b2RheWAgY2xhc3MgaWYgbmVlZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbm93T2JqZWN0LnBpY2sgPT0gdGFyZ2V0RGF0ZS5waWNrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLm5vdyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgYHNlbGVjdGVkYCBjbGFzcyBpZiBzb21ldGhpbmcncyBzZWxlY3RlZCBhbmQgdGhlIHRpbWUgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzU2VsZWN0ZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtsYXNzZXMucHVzaCggc2V0dGluZ3Mua2xhc3Muc2VsZWN0ZWQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGBoaWdobGlnaHRlZGAgY2xhc3MgaWYgc29tZXRoaW5nJ3MgaGlnaGxpZ2h0ZWQgYW5kIHRoZSB0aW1lIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc0hpZ2hsaWdodGVkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLmhpZ2hsaWdodGVkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBgZGlzYWJsZWRgIGNsYXNzIGlmIHNvbWV0aGluZydzIGRpc2FibGVkIGFuZCB0aGUgb2JqZWN0IG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc0Rpc2FibGVkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrbGFzc2VzLnB1c2goIHNldHRpbmdzLmtsYXNzLmRpc2FibGVkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtsYXNzZXMuam9pbiggJyAnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKFsgc2V0dGluZ3Mua2xhc3MuZGF5IF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtcGljaz0nICsgdGFyZ2V0RGF0ZS5waWNrICsgJyAnICsgXy5hcmlhQXR0cih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZm9ybWF0dGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogaXNTZWxlY3RlZCAmJiBjYWxlbmRhci4kbm9kZS52YWwoKSA9PT0gZm9ybWF0dGVkRGF0ZSA/IHRydWUgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZWRlc2NlbmRhbnQ6IGlzSGlnaGxpZ2h0ZWQgPyB0cnVlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCA/IHRydWUgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5hcmlhQXR0cih7IHJvbGU6ICdwcmVzZW50YXRpb24nIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSAvL2VuZHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgIF0gLy9lbmRyZXR1cm5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHNldHRpbmdzLmtsYXNzLnRhYmxlLFxuICAgICAgICAgICdpZD1cIicgKyBjYWxlbmRhci4kbm9kZVswXS5pZCArICdfdGFibGUnICsgJ1wiICcgKyBfLmFyaWFBdHRyKHtcbiAgICAgICAgICAgICAgcm9sZTogJ2dyaWQnLFxuICAgICAgICAgICAgICBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQsXG4gICAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICkgK1xuXG4gICAgICAvLyAqIEZvciBGaXJlZm94IGZvcm1zIHRvIHN1Ym1pdCwgbWFrZSBzdXJlIHRvIHNldCB0aGUgYnV0dG9uc+KAmSBgdHlwZWAgYXR0cmlidXRlcyBhcyDigJxidXR0b27igJ0uXG4gICAgICBfLm5vZGUoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgXy5ub2RlKCAnYnV0dG9uJywgc2V0dGluZ3MudG9kYXksIHNldHRpbmdzLmtsYXNzLmJ1dHRvblRvZGF5LFxuICAgICAgICAgICAgICAndHlwZT1idXR0b24gZGF0YS1waWNrPScgKyBub3dPYmplY3QucGljayArXG4gICAgICAgICAgICAgICggaXNPcGVuICYmICFjYWxlbmRhci5kaXNhYmxlZChub3dPYmplY3QpID8gJycgOiAnIGRpc2FibGVkJyApICsgJyAnICtcbiAgICAgICAgICAgICAgXy5hcmlhQXR0cih7IGNvbnRyb2xzOiBjYWxlbmRhci4kbm9kZVswXS5pZCB9KSApICtcbiAgICAgICAgICBfLm5vZGUoICdidXR0b24nLCBzZXR0aW5ncy5jbGVhciwgc2V0dGluZ3Mua2xhc3MuYnV0dG9uQ2xlYXIsXG4gICAgICAgICAgICAgICd0eXBlPWJ1dHRvbiBkYXRhLWNsZWFyPTEnICtcbiAgICAgICAgICAgICAgKCBpc09wZW4gPyAnJyA6ICcgZGlzYWJsZWQnICkgKyAnICcgK1xuICAgICAgICAgICAgICBfLmFyaWFBdHRyKHsgY29udHJvbHM6IGNhbGVuZGFyLiRub2RlWzBdLmlkIH0pICkgK1xuICAgICAgICAgIF8ubm9kZSgnYnV0dG9uJywgc2V0dGluZ3MuY2xvc2UsIHNldHRpbmdzLmtsYXNzLmJ1dHRvbkNsb3NlLFxuICAgICAgICAgICAgICAndHlwZT1idXR0b24gZGF0YS1jbG9zZT10cnVlICcgK1xuICAgICAgICAgICAgICAoIGlzT3BlbiA/ICcnIDogJyBkaXNhYmxlZCcgKSArICcgJyArXG4gICAgICAgICAgICAgIF8uYXJpYUF0dHIoeyBjb250cm9sczogY2FsZW5kYXIuJG5vZGVbMF0uaWQgfSkgKSxcbiAgICAgICAgICBzZXR0aW5ncy5rbGFzcy5mb290ZXJcbiAgICAgICkgLy9lbmRyZXR1cm5cbiAgfTsgLy9EYXRlUGlja2VyLnByb3RvdHlwZS5ub2Rlc1xuXG5cblxuXG4gIC8qKlxuICAgKiBUaGUgZGF0ZSBwaWNrZXIgZGVmYXVsdHMuXG4gICAqL1xuICBEYXRlUGlja2VyLmRlZmF1bHRzID0gKGZ1bmN0aW9uKCBwcmVmaXggKSB7XG5cbiAgICAgIHJldHVybiB7XG5cbiAgICAgICAgICAvLyBUaGUgdGl0bGUgbGFiZWwgdG8gdXNlIGZvciB0aGUgbW9udGggbmF2IGJ1dHRvbnNcbiAgICAgICAgICBsYWJlbE1vbnRoTmV4dDogJ05leHQgbW9udGgnLFxuICAgICAgICAgIGxhYmVsTW9udGhQcmV2OiAnUHJldmlvdXMgbW9udGgnLFxuXG4gICAgICAgICAgLy8gVGhlIHRpdGxlIGxhYmVsIHRvIHVzZSBmb3IgdGhlIGRyb3Bkb3duIHNlbGVjdG9yc1xuICAgICAgICAgIGxhYmVsTW9udGhTZWxlY3Q6ICdTZWxlY3QgYSBtb250aCcsXG4gICAgICAgICAgbGFiZWxZZWFyU2VsZWN0OiAnU2VsZWN0IGEgeWVhcicsXG5cbiAgICAgICAgICAvLyBNb250aHMgYW5kIHdlZWtkYXlzXG4gICAgICAgICAgbW9udGhzRnVsbDogWyAnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlcicgXSxcbiAgICAgICAgICBtb250aHNTaG9ydDogWyAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnIF0sXG4gICAgICAgICAgd2Vla2RheXNGdWxsOiBbICdTdW5kYXknLCAnTW9uZGF5JywgJ1R1ZXNkYXknLCAnV2VkbmVzZGF5JywgJ1RodXJzZGF5JywgJ0ZyaWRheScsICdTYXR1cmRheScgXSxcbiAgICAgICAgICB3ZWVrZGF5c1Nob3J0OiBbICdTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnIF0sXG5cbiAgICAgICAgICAvLyBUb2RheSBhbmQgY2xlYXJcbiAgICAgICAgICB0b2RheTogJ1RvZGF5JyxcbiAgICAgICAgICBjbGVhcjogJ0NsZWFyJyxcbiAgICAgICAgICBjbG9zZTogJ0Nsb3NlJyxcblxuICAgICAgICAgIC8vIFBpY2tlciBjbG9zZSBiZWhhdmlvclxuICAgICAgICAgIGNsb3NlT25TZWxlY3Q6IHRydWUsXG4gICAgICAgICAgY2xvc2VPbkNsZWFyOiB0cnVlLFxuXG4gICAgICAgICAgLy8gVGhlIGZvcm1hdCB0byBzaG93IG9uIHRoZSBgaW5wdXRgIGVsZW1lbnRcbiAgICAgICAgICBmb3JtYXQ6ICdkIG1tbW0sIHl5eXknLFxuXG4gICAgICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgICAgIGtsYXNzOiB7XG5cbiAgICAgICAgICAgICAgdGFibGU6IHByZWZpeCArICd0YWJsZScsXG5cbiAgICAgICAgICAgICAgaGVhZGVyOiBwcmVmaXggKyAnaGVhZGVyJyxcblxuICAgICAgICAgICAgICBuYXZQcmV2OiBwcmVmaXggKyAnbmF2LS1wcmV2JyxcbiAgICAgICAgICAgICAgbmF2TmV4dDogcHJlZml4ICsgJ25hdi0tbmV4dCcsXG4gICAgICAgICAgICAgIG5hdkRpc2FibGVkOiBwcmVmaXggKyAnbmF2LS1kaXNhYmxlZCcsXG5cbiAgICAgICAgICAgICAgbW9udGg6IHByZWZpeCArICdtb250aCcsXG4gICAgICAgICAgICAgIHllYXI6IHByZWZpeCArICd5ZWFyJyxcblxuICAgICAgICAgICAgICBzZWxlY3RNb250aDogcHJlZml4ICsgJ3NlbGVjdC0tbW9udGgnLFxuICAgICAgICAgICAgICBzZWxlY3RZZWFyOiBwcmVmaXggKyAnc2VsZWN0LS15ZWFyJyxcblxuICAgICAgICAgICAgICB3ZWVrZGF5czogcHJlZml4ICsgJ3dlZWtkYXknLFxuXG4gICAgICAgICAgICAgIGRheTogcHJlZml4ICsgJ2RheScsXG4gICAgICAgICAgICAgIGRpc2FibGVkOiBwcmVmaXggKyAnZGF5LS1kaXNhYmxlZCcsXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiBwcmVmaXggKyAnZGF5LS1zZWxlY3RlZCcsXG4gICAgICAgICAgICAgIGhpZ2hsaWdodGVkOiBwcmVmaXggKyAnZGF5LS1oaWdobGlnaHRlZCcsXG4gICAgICAgICAgICAgIG5vdzogcHJlZml4ICsgJ2RheS0tdG9kYXknLFxuICAgICAgICAgICAgICBpbmZvY3VzOiBwcmVmaXggKyAnZGF5LS1pbmZvY3VzJyxcbiAgICAgICAgICAgICAgb3V0Zm9jdXM6IHByZWZpeCArICdkYXktLW91dGZvY3VzJyxcblxuICAgICAgICAgICAgICBmb290ZXI6IHByZWZpeCArICdmb290ZXInLFxuXG4gICAgICAgICAgICAgIGJ1dHRvbkNsZWFyOiBwcmVmaXggKyAnYnV0dG9uLS1jbGVhcicsXG4gICAgICAgICAgICAgIGJ1dHRvblRvZGF5OiBwcmVmaXggKyAnYnV0dG9uLS10b2RheScsXG4gICAgICAgICAgICAgIGJ1dHRvbkNsb3NlOiBwcmVmaXggKyAnYnV0dG9uLS1jbG9zZSdcbiAgICAgICAgICB9XG4gICAgICB9XG4gIH0pKCBQaWNrZXIua2xhc3NlcygpLnBpY2tlciArICdfXycgKTtcblxuXG5cblxuXG4gIC8qKlxuICAgKiBFeHRlbmQgdGhlIHBpY2tlciB0byBhZGQgdGhlIGRhdGUgcGlja2VyLlxuICAgKi9cbiAgUGlja2VyLmV4dGVuZCggJ3BpY2thZGF0ZScsIERhdGVQaWNrZXIgKTtcblxuXG4gIH0pKTtcbiAgfSk7XG5cbiAgLypcbiAgICogRGF0ZSBwaWNrZXIgcGx1Z2luIGV4dGVuZHMgYHBpY2thZGF0ZS5qc2AgYnkgQW1zdWxcbiAgICovXG5cbiAgdmFyIFBpY2tEYXRlID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICAvLyBjb25zdGFudHMgPj4+XG4gICAgdmFyIERBVEFfS0VZID0gJ21kLnBpY2tkYXRlJztcbiAgICB2YXIgTkFNRSA9ICdwaWNrZGF0ZSc7XG4gICAgdmFyIE5PX0NPTkZMSUNUID0gJCQkMS5mbltOQU1FXTtcbiAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgICBjbG9zZU9uQ2FuY2VsOiB0cnVlLFxuICAgICAgY2xvc2VPblNlbGVjdDogZmFsc2UsXG4gICAgICBjb250YWluZXI6ICcnLFxuICAgICAgY29udGFpbmVySGlkZGVuOiAnJyxcbiAgICAgIGRpc2FibGU6IFtdLFxuICAgICAgZmlyc3REYXk6IDAsXG4gICAgICBmb3JtYXQ6ICdkL20veXl5eScsXG4gICAgICBmb3JtYXRTdWJtaXQ6ICcnLFxuICAgICAgaGlkZGVuTmFtZTogZmFsc2UsXG4gICAgICBoaWRkZW5QcmVmaXg6ICcnLFxuICAgICAgaGlkZGVuU3VmZml4OiAnJyxcbiAgICAgIGtsYXNzOiB7XG4gICAgICAgIC8vIGJ1dHRvblxuICAgICAgICBidXR0b25DbGVhcjogJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5IHBpY2tlci1idXR0b24tY2xlYXInLFxuICAgICAgICBidXR0b25DbG9zZTogJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5IHBpY2tlci1idXR0b24tY2xvc2UnLFxuICAgICAgICBidXR0b25Ub2RheTogJ2J0biBidG4tb3V0bGluZS1wcmltYXJ5IHBpY2tlci1idXR0b24tdG9kYXknLFxuICAgICAgICAvLyBkYXlcbiAgICAgICAgZGF5OiAncGlja2VyLWRheScsXG4gICAgICAgIGRpc2FibGVkOiAncGlja2VyLWRheS1kaXNhYmxlZCcsXG4gICAgICAgIGhpZ2hsaWdodGVkOiAncGlja2VyLWRheS1oaWdobGlnaHRlZCcsXG4gICAgICAgIGluZm9jdXM6ICdwaWNrZXItZGF5LWluZm9jdXMnLFxuICAgICAgICBub3c6ICdwaWNrZXItZGF5LXRvZGF5JyxcbiAgICAgICAgb3V0Zm9jdXM6ICdwaWNrZXItZGF5LW91dGZvY3VzJyxcbiAgICAgICAgc2VsZWN0ZWQ6ICdwaWNrZXItZGF5LXNlbGVjdGVkJyxcbiAgICAgICAgd2Vla2RheXM6ICdwaWNrZXItd2Vla2RheScsXG4gICAgICAgIC8vIGVsZW1lbnRcbiAgICAgICAgYm94OiAncGlja2VyLWJveCcsXG4gICAgICAgIGZvb3RlcjogJ3BpY2tlci1mb290ZXInLFxuICAgICAgICBmcmFtZTogJ3BpY2tlci1mcmFtZScsXG4gICAgICAgIGhlYWRlcjogJ3BpY2tlci1oZWFkZXInLFxuICAgICAgICBob2xkZXI6ICdwaWNrZXItaG9sZGVyJyxcbiAgICAgICAgdGFibGU6ICdwaWNrZXItdGFibGUnLFxuICAgICAgICB3cmFwOiAncGlja2VyLXdyYXAnLFxuICAgICAgICAvLyBpbnB1dCBlbGVtZW50XG4gICAgICAgIGFjdGl2ZTogJ3BpY2tlci1pbnB1dC1hY3RpdmUnLFxuICAgICAgICBpbnB1dDogJ3BpY2tlci1pbnB1dCcsXG4gICAgICAgIC8vIG1vbnRoIGFuZCB5ZWFyIG5hdlxuICAgICAgICBtb250aDogJ3BpY2tlci1tb250aCcsXG4gICAgICAgIG5hdkRpc2FibGVkOiAncGlja2VyLW5hdi1kaXNhYmxlZCcsXG4gICAgICAgIG5hdk5leHQ6ICdtYXRlcmlhbC1pY29ucyBwaWNrZXItbmF2LW5leHQnLFxuICAgICAgICBuYXZQcmV2OiAnbWF0ZXJpYWwtaWNvbnMgcGlja2VyLW5hdi1wcmV2JyxcbiAgICAgICAgc2VsZWN0TW9udGg6ICdwaWNrZXItc2VsZWN0LW1vbnRoJyxcbiAgICAgICAgc2VsZWN0WWVhcjogJ3BpY2tlci1zZWxlY3QteWVhcicsXG4gICAgICAgIHllYXI6ICdwaWNrZXIteWVhcicsXG4gICAgICAgIC8vIHJvb3QgcGlja2VyXG4gICAgICAgIGZvY3VzZWQ6ICdwaWNrZXItZm9jdXNlZCcsXG4gICAgICAgIG9wZW5lZDogJ3BpY2tlci1vcGVuZWQnLFxuICAgICAgICBwaWNrZXI6ICdwaWNrZXInXG4gICAgICB9LFxuICAgICAgbGFiZWxNb250aE5leHQ6ICdOZXh0IG1vbnRoJyxcbiAgICAgIGxhYmVsTW9udGhQcmV2OiAnUHJldmlvdXMgbW9udGgnLFxuICAgICAgbGFiZWxNb250aFNlbGVjdDogJ1NlbGVjdCBhIG1vbnRoJyxcbiAgICAgIGxhYmVsWWVhclNlbGVjdDogJ1NlbGVjdCBhIHllYXInLFxuICAgICAgbWF4OiBmYWxzZSxcbiAgICAgIG1pbjogZmFsc2UsXG4gICAgICBtb250aHNGdWxsOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXSxcbiAgICAgIG1vbnRoc1Nob3J0OiBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ10sXG4gICAgICBvazogJ09LJyxcbiAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7Ly8gRG8gbm90aGluZ1xuICAgICAgfSxcbiAgICAgIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkgey8vIERvIG5vdGhpbmdcbiAgICAgIH0sXG4gICAgICBvblJlbmRlcjogZnVuY3Rpb24gb25SZW5kZXIoKSB7Ly8gRG8gbm90aGluZ1xuICAgICAgfSxcbiAgICAgIG9uU2V0OiBmdW5jdGlvbiBvblNldCgpIHsvLyBEbyBub3RoaW5nXG4gICAgICB9LFxuICAgICAgb25TdGFydDogZnVuY3Rpb24gb25TdGFydCgpIHsvLyBEbyBub3RoaW5nXG4gICAgICB9LFxuICAgICAgb25TdG9wOiBmdW5jdGlvbiBvblN0b3AoKSB7Ly8gRG8gbm90aGluZ1xuICAgICAgfSxcbiAgICAgIHNlbGVjdE1vbnRoczogZmFsc2UsXG4gICAgICBzZWxlY3RZZWFyczogZmFsc2UsXG4gICAgICB0b2RheTogJycsXG4gICAgICB3ZWVrZGF5c0Z1bGw6IFsnU3VuJywgJ01vbicsICdUdWUnLCAnV2VkJywgJ1RodScsICdGcmknLCAnU2F0J10sXG4gICAgICB3ZWVrZGF5c1Nob3J0OiBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXVxuICAgIH07XG4gICAgdmFyIERlZmF1bHRUeXBlID0ge1xuICAgICAgY2FuY2VsOiAnc3RyaW5nJyxcbiAgICAgIGNsb3NlT25DYW5jZWw6ICdib29sZWFuJyxcbiAgICAgIGNsb3NlT25TZWxlY3Q6ICdib29sZWFuJyxcbiAgICAgIGNvbnRhaW5lcjogJ3N0cmluZycsXG4gICAgICBjb250YWluZXJIaWRkZW46ICdzdHJpbmcnLFxuICAgICAgZGlzYWJsZTogJ2FycmF5JyxcbiAgICAgIGZpcnN0RGF5OiAnbnVtYmVyJyxcbiAgICAgIGZvcm1hdDogJ3N0cmluZycsXG4gICAgICBmb3JtYXRTdWJtaXQ6ICdzdHJpbmcnLFxuICAgICAgaGlkZGVuTmFtZTogJ2Jvb2xlYW4nLFxuICAgICAgaGlkZGVuUHJlZml4OiAnc3RyaW5nJyxcbiAgICAgIGhpZGRlblN1ZmZpeDogJ3N0cmluZycsXG4gICAgICBrbGFzczogJ29iamVjdCcsXG4gICAgICBsYWJlbE1vbnRoTmV4dDogJ3N0cmluZycsXG4gICAgICBsYWJlbE1vbnRoUHJldjogJ3N0cmluZycsXG4gICAgICBsYWJlbE1vbnRoU2VsZWN0OiAnc3RyaW5nJyxcbiAgICAgIGxhYmVsWWVhclNlbGVjdDogJ3N0cmluZycsXG4gICAgICBtYXg6ICdib29sZWFuIHx8IGRhdGUnLFxuICAgICAgbWluOiAnYm9vbGVhbiB8fCBkYXRlJyxcbiAgICAgIG1vbnRoc0Z1bGw6ICdhcnJheScsXG4gICAgICBtb250aHNTaG9ydDogJ2FycmF5JyxcbiAgICAgIG9rOiAnc3RyaW5nJyxcbiAgICAgIG9uQ2xvc2U6ICdmdW5jdGlvbicsXG4gICAgICBvbk9wZW46ICdmdW5jdGlvbicsXG4gICAgICBvblJlbmRlcjogJ2Z1bmN0aW9uJyxcbiAgICAgIG9uU2V0OiAnZnVuY3Rpb24nLFxuICAgICAgb25TdGFydDogJ2Z1bmN0aW9uJyxcbiAgICAgIG9uU3RvcDogJ2Z1bmN0aW9uJyxcbiAgICAgIHNlbGVjdE1vbnRoczogJ2Jvb2xlYW4nLFxuICAgICAgc2VsZWN0WWVhcnM6ICdib29sZWFuIHx8IG51bWJlcicsXG4gICAgICB0b2RheTogJ3N0cmluZycsXG4gICAgICB3ZWVrZGF5c0Z1bGw6ICdhcnJheScsXG4gICAgICB3ZWVrZGF5c1Nob3J0OiAnYXJyYXknXG4gICAgfTtcblxuICAgIHZhciBQaWNrRGF0ZSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIFBpY2tEYXRlKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBQaWNrRGF0ZS5wcm90b3R5cGU7XG5cbiAgICAgIF9wcm90by5kaXNwbGF5ID0gZnVuY3Rpb24gZGlzcGxheShkYXRlcGlja2VyQXBpLCBkYXRlcGlja2VyUm9vdCwgZGF0ZXBpY2tlclZhbHVlKSB7XG4gICAgICAgICQkJDEoJy5waWNrZXItZGF0ZS1kaXNwbGF5JywgZGF0ZXBpY2tlclJvb3QpLnJlbW92ZSgpO1xuICAgICAgICAkJCQxKCcucGlja2VyLXdyYXAnLCBkYXRlcGlja2VyUm9vdCkucHJlcGVuZChcIjxkaXYgY2xhc3M9XFxcInBpY2tlci1kYXRlLWRpc3BsYXlcXFwiPjxkaXYgY2xhc3M9XFxcInBpY2tlci1kYXRlLWRpc3BsYXktdG9wXFxcIj48c3BhbiBjbGFzcz1cXFwicGlja2VyLXllYXItZGlzcGxheVxcXCI+XCIgKyBkYXRlcGlja2VyQXBpLmdldChkYXRlcGlja2VyVmFsdWUsICd5eXl5JykgKyBcIjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJwaWNrZXItZGF0ZS1kaXNwbGF5LWJvdHRvbVxcXCI+PHNwYW4gY2xhc3M9XFxcInBpY2tlci13ZWVrZGF5LWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAnZGRkZCcpICsgXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInBpY2tlci1kYXktZGlzcGxheVxcXCI+XCIgKyBkYXRlcGlja2VyQXBpLmdldChkYXRlcGlja2VyVmFsdWUsICdkJykgKyBcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwicGlja2VyLW1vbnRoLWRpc3BsYXlcXFwiPlwiICsgZGF0ZXBpY2tlckFwaS5nZXQoZGF0ZXBpY2tlclZhbHVlLCAnbW1tJykgKyBcIjwvc3Bhbj48L2Rpdj48L2Rpdj5cIik7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgJCQkMSh0aGlzLl9lbGVtZW50KS5waWNrYWRhdGUoe1xuICAgICAgICAgIGNsZWFyOiB0aGlzLl9jb25maWcuY2FuY2VsLFxuICAgICAgICAgIGNsb3NlOiB0aGlzLl9jb25maWcub2ssXG4gICAgICAgICAgY2xvc2VPbkNsZWFyOiB0aGlzLl9jb25maWcuY2xvc2VPbkNhbmNlbCxcbiAgICAgICAgICBjbG9zZU9uU2VsZWN0OiB0aGlzLl9jb25maWcuY2xvc2VPblNlbGVjdCxcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuX2NvbmZpZy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVySGlkZGVuOiB0aGlzLl9jb25maWcuY29udGFpbmVySGlkZGVuLFxuICAgICAgICAgIGRpc2FibGU6IHRoaXMuX2NvbmZpZy5kaXNhYmxlLFxuICAgICAgICAgIGZpcnN0RGF5OiB0aGlzLl9jb25maWcuZmlyc3REYXksXG4gICAgICAgICAgZm9ybWF0OiB0aGlzLl9jb25maWcuZm9ybWF0LFxuICAgICAgICAgIGZvcm1hdFN1Ym1pdDogdGhpcy5fY29uZmlnLmZvcm1hdFN1Ym1pdCxcbiAgICAgICAgICBrbGFzczogdGhpcy5fY29uZmlnLmtsYXNzLFxuICAgICAgICAgIGhpZGRlbk5hbWU6IHRoaXMuX2NvbmZpZy5oaWRkZW5OYW1lLFxuICAgICAgICAgIGhpZGRlblByZWZpeDogdGhpcy5fY29uZmlnLmhpZGRlblByZWZpeCxcbiAgICAgICAgICBoaWRkZW5TdWZmaXg6IHRoaXMuX2NvbmZpZy5oaWRkZW5TdWZmaXgsXG4gICAgICAgICAgbGFiZWxNb250aE5leHQ6IHRoaXMuX2NvbmZpZy5sYWJlbE1vbnRoTmV4dCxcbiAgICAgICAgICBsYWJlbE1vbnRoUHJldjogdGhpcy5fY29uZmlnLmxhYmVsTW9udGhQcmV2LFxuICAgICAgICAgIGxhYmVsTW9udGhTZWxlY3Q6IHRoaXMuX2NvbmZpZy5sYWJlbE1vbnRoU2VsZWN0LFxuICAgICAgICAgIGxhYmVsWWVhclNlbGVjdDogdGhpcy5fY29uZmlnLmxhYmVsWWVhclNlbGVjdCxcbiAgICAgICAgICBtYXg6IHRoaXMuX2NvbmZpZy5tYXgsXG4gICAgICAgICAgbWluOiB0aGlzLl9jb25maWcubWluLFxuICAgICAgICAgIG1vbnRoc0Z1bGw6IHRoaXMuX2NvbmZpZy5tb250aHNGdWxsLFxuICAgICAgICAgIG1vbnRoc1Nob3J0OiB0aGlzLl9jb25maWcubW9udGhzU2hvcnQsXG4gICAgICAgICAgb25DbG9zZTogdGhpcy5fY29uZmlnLm9uQ2xvc2UsXG4gICAgICAgICAgb25PcGVuOiB0aGlzLl9jb25maWcub25PcGVuLFxuICAgICAgICAgIG9uUmVuZGVyOiB0aGlzLl9jb25maWcub25SZW5kZXIsXG4gICAgICAgICAgb25TZXQ6IHRoaXMuX2NvbmZpZy5vblNldCxcbiAgICAgICAgICBvblN0YXJ0OiB0aGlzLl9jb25maWcub25TdGFydCxcbiAgICAgICAgICBvblN0b3A6IHRoaXMuX2NvbmZpZy5vblN0b3AsXG4gICAgICAgICAgc2VsZWN0TW9udGhzOiB0aGlzLl9jb25maWcuc2VsZWN0TW9udGhzLFxuICAgICAgICAgIHNlbGVjdFllYXJzOiB0aGlzLl9jb25maWcuc2VsZWN0WWVhcnMsXG4gICAgICAgICAgdG9kYXk6IHRoaXMuX2NvbmZpZy50b2RheSxcbiAgICAgICAgICB3ZWVrZGF5c0Z1bGw6IHRoaXMuX2NvbmZpZy53ZWVrZGF5c0Z1bGwsXG4gICAgICAgICAgd2Vla2RheXNTaG9ydDogdGhpcy5fY29uZmlnLndlZWtkYXlzU2hvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYXRlcGlja2VyQXBpID0gJCQkMSh0aGlzLl9lbGVtZW50KS5waWNrYWRhdGUoJ3BpY2tlcicpO1xuICAgICAgICB2YXIgZGF0ZXBpY2tlclJvb3QgPSBkYXRlcGlja2VyQXBpLiRyb290O1xuICAgICAgICBkYXRlcGlja2VyQXBpLm9uKHtcbiAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgICAgICAkJCQxKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgICAgICBpZiAoISQkJDEoJy5waWNrZXJfX2RhdGUtZGlzcGxheScsIGRhdGVwaWNrZXJSb290KS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgX3RoaXMuZGlzcGxheShkYXRlcGlja2VyQXBpLCBkYXRlcGlja2VyUm9vdCwgJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICBpZiAoZGF0ZXBpY2tlckFwaS5nZXQoJ3NlbGVjdCcpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIF90aGlzLmRpc3BsYXkoZGF0ZXBpY2tlckFwaSwgZGF0ZXBpY2tlclJvb3QsICdzZWxlY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICBjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCBEZWZhdWx0LCBjb25maWcpO1xuICAgICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FLCBjb25maWcsIERlZmF1bHRUeXBlKTtcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgIH07XG5cbiAgICAgIFBpY2tEYXRlLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX2NvbmZpZyA9IF9vYmplY3RTcHJlYWQoe30sIERlZmF1bHQsICQkJDEodGhpcykuZGF0YSgpLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEodGhpcykuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgUGlja0RhdGUodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgICAkJCQxKHRoaXMpLmRhdGEoREFUQV9LRVksIGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGEuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBQaWNrRGF0ZTtcbiAgICB9KCk7XG5cbiAgICAkJCQxLmZuW05BTUVdID0gUGlja0RhdGUuX2pRdWVyeUludGVyZmFjZTtcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gUGlja0RhdGU7XG5cbiAgICAkJCQxLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkJCQxLmZuW05BTUVdID0gTk9fQ09ORkxJQ1Q7XG4gICAgICByZXR1cm4gUGlja0RhdGUuX2pRdWVyeUludGVyZmFjZTtcbiAgICB9O1xuICB9KCQpO1xuXG4gIC8qXG4gICAqIFNlbGVjdGlvbiBjb250cm9sIHBsdWdpbiBmaXhlcyB0aGUgZm9jdXMgc3RhdGUgcHJvYmxlbSB3aXRoXG4gICAqIENocm9tZSBwZXJzaXN0aW5nIGZvY3VzIHN0YXRlIG9uIGNoZWNrYm94ZXMvcmFkaW8gYnV0dG9ucyBhZnRlciBjbGlja2luZ1xuICAgKi9cblxuICB2YXIgU2VsZWN0aW9uQ29udHJvbEZvY3VzID0gZnVuY3Rpb24gKCQkJDEpIHtcbiAgICAvLyBjb25zdGFudHMgPj4+XG4gICAgdmFyIERBVEFfS0VZID0gJ21kLnNlbGVjdGlvbmNvbnRyb2xmb2N1cyc7XG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgIEZPQ1VTOiAnZm9jdXMnXG4gICAgfTtcbiAgICB2YXIgTGFzdEludGVyYWN0aW9uID0ge1xuICAgICAgSVNfTU9VU0VET1dOOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIEV2ZW50ID0ge1xuICAgICAgQkxVUjogXCJibHVyXCIgKyBFVkVOVF9LRVksXG4gICAgICBGT0NVUzogXCJmb2N1c1wiICsgRVZFTlRfS0VZLFxuICAgICAgTU9VU0VET1dOOiBcIm1vdXNlZG93blwiICsgRVZFTlRfS0VZLFxuICAgICAgTU9VU0VVUDogXCJtb3VzZXVwXCIgKyBFVkVOVF9LRVlcbiAgICB9O1xuICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgIENPTlRST0w6ICcuY3VzdG9tLWNvbnRyb2wnLFxuICAgICAgSU5QVVQ6ICcuY3VzdG9tLWNvbnRyb2wtaW5wdXQnIC8vIDw8PCBjb25zdGFudHNcblxuICAgIH07XG4gICAgJCQkMShkb2N1bWVudCkub24oXCJcIiArIEV2ZW50LkJMVVIsIFNlbGVjdG9yLklOUFVULCBmdW5jdGlvbiAoKSB7XG4gICAgICAkJCQxKHRoaXMpLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5GT0NVUyk7XG4gICAgfSkub24oXCJcIiArIEV2ZW50LkZPQ1VTLCBTZWxlY3Rvci5JTlBVVCwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKExhc3RJbnRlcmFjdGlvbi5JU19NT1VTRURPV04gPT09IGZhbHNlKSB7XG4gICAgICAgICQkJDEodGhpcykuYWRkQ2xhc3MoQ2xhc3NOYW1lLkZPQ1VTKTtcbiAgICAgIH1cbiAgICB9KS5vbihcIlwiICsgRXZlbnQuTU9VU0VET1dOLCBTZWxlY3Rvci5DT05UUk9MLCBmdW5jdGlvbiAoKSB7XG4gICAgICBMYXN0SW50ZXJhY3Rpb24uSVNfTU9VU0VET1dOID0gdHJ1ZTtcbiAgICB9KS5vbihcIlwiICsgRXZlbnQuTU9VU0VVUCwgU2VsZWN0b3IuQ09OVFJPTCwgZnVuY3Rpb24gKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIExhc3RJbnRlcmFjdGlvbi5JU19NT1VTRURPV04gPSBmYWxzZTtcbiAgICAgIH0sIDEpO1xuICAgIH0pO1xuICB9KCQpO1xuXG4gIC8qXG4gICAqIFRhYiBpbmRpY2F0b3IgYW5pbWF0aW9uXG4gICAqIFJlcXVpcmVzIEJvb3RzdHJhcCdzICh2NC4xLlgpIGB0YWIuanNgXG4gICAqL1xuXG4gIHZhciBUYWJTd2l0Y2ggPSBmdW5jdGlvbiAoJCQkMSkge1xuICAgIC8vIGNvbnN0YW50cyA+Pj5cbiAgICB2YXIgREFUQV9LRVkgPSAnbWQudGFic3dpdGNoJztcbiAgICB2YXIgTkFNRSA9ICd0YWJzd2l0Y2gnO1xuICAgIHZhciBOT19DT05GTElDVCA9ICQkJDEuZm5bTkFNRV07XG4gICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgIEFOSU1BVEU6ICdhbmltYXRlJyxcbiAgICAgIERST1BET1dOX0lURU06ICdkcm9wZG93bi1pdGVtJyxcbiAgICAgIElORElDQVRPUjogJ25hdi10YWJzLWluZGljYXRvcicsXG4gICAgICBNQVRFUklBTDogJ25hdi10YWJzLW1hdGVyaWFsJyxcbiAgICAgIFNDUk9MTEFCTEU6ICduYXYtdGFicy1zY3JvbGxhYmxlJyxcbiAgICAgIFNIT1c6ICdzaG93J1xuICAgIH07XG4gICAgdmFyIEV2ZW50ID0ge1xuICAgICAgU0hPV19CU19UQUI6ICdzaG93LmJzLnRhYidcbiAgICB9O1xuICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgIERBVEFfVE9HR0xFOiAnLm5hdi10YWJzIFtkYXRhLXRvZ2dsZT1cInRhYlwiXScsXG4gICAgICBEUk9QRE9XTjogJy5kcm9wZG93bicsXG4gICAgICBOQVY6ICcubmF2LXRhYnMnIC8vIDw8PCBjb25zdGFudHNcblxuICAgIH07XG5cbiAgICB2YXIgVGFiU3dpdGNoID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gVGFiU3dpdGNoKG5hdikge1xuICAgICAgICB0aGlzLl9uYXYgPSBuYXY7XG4gICAgICAgIHRoaXMuX25hdmluZGljYXRvciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvdG8gPSBUYWJTd2l0Y2gucHJvdG90eXBlO1xuXG4gICAgICBfcHJvdG8uc3dpdGNoID0gZnVuY3Rpb24gX3N3aXRjaChlbGVtZW50LCByZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG5hdkxlZnQgPSAkJCQxKHRoaXMuX25hdikub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgdmFyIG5hdlNjcm9sbExlZnQgPSAkJCQxKHRoaXMuX25hdikuc2Nyb2xsTGVmdCgpO1xuICAgICAgICB2YXIgbmF2V2lkdGggPSAkJCQxKHRoaXMuX25hdikub3V0ZXJXaWR0aCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5fbmF2aW5kaWNhdG9yKSB7XG4gICAgICAgICAgdGhpcy5fY3JlYXRlSW5kaWNhdG9yKG5hdkxlZnQsIG5hdlNjcm9sbExlZnQsIG5hdldpZHRoLCByZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkJCQxKGVsZW1lbnQpLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QRE9XTl9JVEVNKSkge1xuICAgICAgICAgIGVsZW1lbnQgPSAkJCQxKGVsZW1lbnQpLmNsb3Nlc3QoU2VsZWN0b3IuRFJPUERPV04pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVsTGVmdCA9ICQkJDEoZWxlbWVudCkub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgdmFyIGVsV2lkdGggPSAkJCQxKGVsZW1lbnQpLm91dGVyV2lkdGgoKTtcbiAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLmFkZENsYXNzKENsYXNzTmFtZS5TSE9XKTtcbiAgICAgICAgVXRpbC5yZWZsb3codGhpcy5fbmF2aW5kaWNhdG9yKTtcbiAgICAgICAgJCQkMSh0aGlzLl9uYXYpLmFkZENsYXNzKENsYXNzTmFtZS5BTklNQVRFKTtcbiAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLmNzcyh7XG4gICAgICAgICAgbGVmdDogZWxMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQsXG4gICAgICAgICAgcmlnaHQ6IG5hdldpZHRoIC0gKGVsTGVmdCArIG5hdlNjcm9sbExlZnQgLSBuYXZMZWZ0ICsgZWxXaWR0aClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgJCQkMShfdGhpcy5fbmF2KS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQU5JTUFURSk7XG4gICAgICAgICAgJCQkMShfdGhpcy5fbmF2aW5kaWNhdG9yKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuU0hPVyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fbmF2aW5kaWNhdG9yKTtcbiAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fY3JlYXRlSW5kaWNhdG9yID0gZnVuY3Rpb24gX2NyZWF0ZUluZGljYXRvcihuYXZMZWZ0LCBuYXZTY3JvbGxMZWZ0LCBuYXZXaWR0aCwgcmVsYXRlZFRhcmdldCkge1xuICAgICAgICB0aGlzLl9uYXZpbmRpY2F0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgJCQkMSh0aGlzLl9uYXZpbmRpY2F0b3IpLmFkZENsYXNzKENsYXNzTmFtZS5JTkRJQ0FUT1IpLmFwcGVuZFRvKHRoaXMuX25hdik7XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZWxhdGVkVGFyZ2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICgkJCQxKHJlbGF0ZWRUYXJnZXQpLmhhc0NsYXNzKENsYXNzTmFtZS5EUk9QRE9XTl9JVEVNKSkge1xuICAgICAgICAgICAgcmVsYXRlZFRhcmdldCA9ICQkJDEocmVsYXRlZFRhcmdldCkuY2xvc2VzdChTZWxlY3Rvci5EUk9QRE9XTik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlbGF0ZWRMZWZ0ID0gJCQkMShyZWxhdGVkVGFyZ2V0KS5vZmZzZXQoKS5sZWZ0O1xuICAgICAgICAgIHZhciByZWxhdGVkV2lkdGggPSAkJCQxKHJlbGF0ZWRUYXJnZXQpLm91dGVyV2lkdGgoKTtcbiAgICAgICAgICAkJCQxKHRoaXMuX25hdmluZGljYXRvcikuY3NzKHtcbiAgICAgICAgICAgIGxlZnQ6IHJlbGF0ZWRMZWZ0ICsgbmF2U2Nyb2xsTGVmdCAtIG5hdkxlZnQsXG4gICAgICAgICAgICByaWdodDogbmF2V2lkdGggLSAocmVsYXRlZExlZnQgKyBuYXZTY3JvbGxMZWZ0IC0gbmF2TGVmdCArIHJlbGF0ZWRXaWR0aClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQkJDEodGhpcy5fbmF2KS5hZGRDbGFzcyhDbGFzc05hbWUuTUFURVJJQUwpO1xuICAgICAgfTtcblxuICAgICAgVGFiU3dpdGNoLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG5hdiA9ICQkJDEodGhpcykuY2xvc2VzdChTZWxlY3Rvci5OQVYpWzBdO1xuXG4gICAgICAgICAgaWYgKCFuYXYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGF0YSA9ICQkJDEobmF2KS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBUYWJTd2l0Y2gobmF2KTtcbiAgICAgICAgICAgICQkJDEobmF2KS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhLnN3aXRjaCh0aGlzLCByZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gVGFiU3dpdGNoO1xuICAgIH0oKTtcblxuICAgICQkJDEoZG9jdW1lbnQpLm9uKEV2ZW50LlNIT1dfQlNfVEFCLCBTZWxlY3Rvci5EQVRBX1RPR0dMRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBUYWJTd2l0Y2guX2pRdWVyeUludGVyZmFjZS5jYWxsKCQkJDEodGhpcyksIGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuICAgIH0pO1xuICAgICQkJDEuZm5bTkFNRV0gPSBUYWJTd2l0Y2guX2pRdWVyeUludGVyZmFjZTtcbiAgICAkJCQxLmZuW05BTUVdLkNvbnN0cnVjdG9yID0gVGFiU3dpdGNoO1xuXG4gICAgJCQkMS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJCQkMS5mbltOQU1FXSA9IE5PX0NPTkZMSUNUO1xuICAgICAgcmV0dXJuIFRhYlN3aXRjaC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGFiU3dpdGNoO1xuICB9KCQpO1xuXG4gIGV4cG9ydHMuVXRpbCA9IFV0aWw7XG4gIGV4cG9ydHMuRXhwYW5zaW9uUGFuZWwgPSBFeHBhbnNpb25QYW5lbDtcbiAgZXhwb3J0cy5GbG9hdGluZ0xhYmVsID0gRmxvYXRpbmdMYWJlbDtcbiAgZXhwb3J0cy5OYXZEcmF3ZXIgPSBOYXZEcmF3ZXI7XG4gIGV4cG9ydHMuUGlja0RhdGUgPSBQaWNrRGF0ZTtcbiAgZXhwb3J0cy5TZWxlY3Rpb25Db250cm9sRm9jdXMgPSBTZWxlY3Rpb25Db250cm9sRm9jdXM7XG4gIGV4cG9ydHMuVGFiU3dpdGNoID0gVGFiU3dpdGNoO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRlcmlhbC5qcy5tYXBcbiJdfQ==
